<!DOCTYPE html>
<!-- saved from url=(0043)https://phabricator.megaputer.ru/D782#15504 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><title>⚙ D782 WTM:S1:E1:R2:18091 added floating toolbar mode</title><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><link rel="apple-touch-icon" href="https://phabricator.megaputer.ru/res/phabricator/ecdef672/rsrc/favicons/apple-touch-icon-76x76.png"><link rel="apple-touch-icon" sizes="120x120" href="https://phabricator.megaputer.ru/res/phabricator/43742962/rsrc/favicons/apple-touch-icon-120x120.png"><link rel="apple-touch-icon" sizes="152x152" href="https://phabricator.megaputer.ru/res/phabricator/669eaec3/rsrc/favicons/apple-touch-icon-152x152.png"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="referrer" content="never"><script type="text/javascript">(top == self) || top.location.replace(self.location.href);window.__DEV__=0;</script><link rel="stylesheet" type="text/css" href="./D782_files/differential.pkg.css"><link rel="stylesheet" type="text/css" href="./D782_files/core.pkg.css"><link rel="stylesheet" type="text/css" href="./D782_files/phui-text.css"><link rel="stylesheet" type="text/css" href="./D782_files/font-lato.css"><link rel="stylesheet" type="text/css" href="./D782_files/phui-fontkit.css"><link rel="stylesheet" type="text/css" href="./D782_files/font-roboto-slab.css"><link rel="stylesheet" type="text/css" href="./D782_files/phui-theme.css"><link rel="stylesheet" type="text/css" href="./D782_files/sprite-main-header.css"><script type="text/javascript" src="./D782_files/init.js"></script><style type="text/css"></style></head><body class="device-desktop platform-windows phui-theme-blindigo" id=""><div class="main-page-frame"><div id="phabricator-standard-page" class="phabricator-standard-page"><div class="phabricator-main-menu sprite-main-header phabricator-main-menu-background" id="UQ0_18"><a class="phabricator-main-menu-expand-button phabricator-expand-search-menu" data-sigil="jx-toggle-class" data-meta="0_140"><span class="phabricator-menu-button-icon phui-icon-view phui-font-fa fa-bars" id="UQ0_25"></span></a><a class="phabricator-main-menu-search-button phabricator-expand-application-menu" data-sigil="jx-toggle-class" data-meta="0_141"><span class="phabricator-menu-button-icon phui-icon-view phui-font-fa fa-search" id="UQ0_26"></span></a><a class="phabricator-main-menu-brand" href="https://phabricator.megaputer.ru/"><span class="aural-only">Home</span><span class="sprite-menu phabricator-main-menu-eye light-eye"></span><span class="sprite-menu phabricator-main-menu-logo light-logo"></span></a><div class="visual-only phabricator-main-menu-alerts" aria-hidden="true"><a href="https://phabricator.megaputer.ru/notification/" class="alert-notifications" id="UQ0_24" data-autoid="autoid_21"><span class="phabricator-main-menu-alert-icon phui-icon-view phui-font-fa fa-bell" data-sigil="menu-icon"></span><span id="UQ0_22" class="phabricator-main-menu-alert-count">0</span></a><a href="https://phabricator.megaputer.ru/conpherence/" class="alert-notifications" id="UQ0_19" data-autoid="autoid_20"><span class="phabricator-main-menu-message-icon phui-icon-view phui-font-fa fa-comments" data-sigil="menu-icon"></span><span id="UQ0_20" class="phabricator-main-menu-message-count">0</span></a></div><span class="aural-only">No messages. No notifications.</span><ul class="phui-list-view phabricator-dark-menu phabricator-application-menu"><li class="phui-list-item-view phui-list-item-type-label "><div><span class="phui-list-item-name">Queries</span></div></li><li class="phui-list-item-view phui-list-item-type-link "><a href="https://phabricator.megaputer.ru/differential/query/RXKYg4FUYL8n/" class="phui-list-item-href"><span class="phui-list-item-name">Open Revisions</span></a></li><li class="phui-list-item-view phui-list-item-type-link "><a href="https://phabricator.megaputer.ru/differential/query/iPo_yLLmxbzx/" class="phui-list-item-href"><span class="phui-list-item-name">All</span></a></li><li class="phui-list-item-view phui-list-item-type-link "><a href="https://phabricator.megaputer.ru/differential/query/active/" class="phui-list-item-href"><span class="phui-list-item-name">Active Revisions</span></a></li><li class="phui-list-item-view phui-list-item-type-link "><a href="https://phabricator.megaputer.ru/differential/query/authored/" class="phui-list-item-href"><span class="phui-list-item-name">Authored</span></a></li><li class="phui-list-item-view phui-list-item-type-link "><a href="https://phabricator.megaputer.ru/differential/query/edit/" class="phui-list-item-href"><span class="phui-list-item-name">Edit Queries...</span></a></li><li class="phui-list-item-view phui-list-item-type-label "><div><span class="phui-list-item-name">Search</span></div></li><li class="phui-list-item-view phui-list-item-type-link "><a href="https://phabricator.megaputer.ru/differential/query/advanced/" class="phui-list-item-href"><span class="phui-list-item-name">Advanced Search</span></a></li><li class="phui-list-item-view phui-list-item-type-label "><div><span class="phui-list-item-name">Actions</span></div></li><li class="phui-list-item-view phui-list-item-type-link core-menu-item"><a href="https://phabricator.megaputer.ru/p/kozlov/" class="phui-list-item-href"><span class="aural-only">Profile</span><span class="phabricator-core-menu-icon phabricator-core-menu-profile-image" style="background-image: url(https://phabricator.megaputer.ru/file/data/akjgnmbf74bezaiy3666/PHID-FILE-irxewmtkykmn6n4wsols/profile-anim.gif)"></span><span class="phui-list-item-name visual-only">kozlov</span></a></li><li class="phui-list-item-view phui-list-item-type-link phui-list-item-has-icon core-menu-item" id="UQ0_29" data-autoid="autoid_23"><a href="https://phabricator.megaputer.ru/help/documentation/PhabricatorDifferentialApplication/" class="phui-list-item-href"><span class="aural-only">Differential Help</span><span class="visual-only phui-icon-view phui-font-fa fa-life-ring phui-list-item-icon" aria-hidden="true"></span><span class="phui-list-item-name visual-only">Differential Help</span></a></li><li class="phui-list-item-view phui-list-item-type-link phui-list-item-has-icon core-menu-item" id="UQ0_28" data-sigil="quick-create-menu" data-autoid="autoid_22"><a href="https://phabricator.megaputer.ru/home/create/" class="phui-list-item-href"><span class="aural-only">Quick Create</span><span class="visual-only phui-icon-view phui-font-fa fa-plus phui-list-item-icon" aria-hidden="true"></span><span class="phui-list-item-name visual-only">Create New...</span></a></li><li class="phui-list-item-view phui-list-item-type-link phui-list-item-has-icon core-menu-item"><a href="https://phabricator.megaputer.ru/settings/" class="phui-list-item-href"><span class="aural-only">Settings</span><span class="visual-only phui-icon-view phui-font-fa fa-wrench phui-list-item-icon" aria-hidden="true"></span><span class="phui-list-item-name visual-only">Settings</span></a></li><li class="phui-list-item-view phui-list-item-type-link phui-list-item-has-icon core-menu-item" data-sigil="workflow"><a href="https://phabricator.megaputer.ru/logout/" class="phui-list-item-href"><span class="aural-only">Log Out</span><span class="visual-only phui-icon-view phui-font-fa fa-sign-out phui-list-item-icon" aria-hidden="true"></span><span class="phui-list-item-name visual-only">Log Out</span></a></li></ul><ul class="phui-list-view phabricator-dark-menu phabricator-search-menu"><li class="phui-list-item-view phui-list-item-type-link phabricator-main-menu-search"><div><form action="https://phabricator.megaputer.ru/search/" method="POST"><input type="hidden" name="__csrf__" value="B@rcc2uyn29d5426da345f851d"><input type="hidden" name="__form__" value="1"><div class="phabricator-main-menu-search-container"><input type="text" name="query" id="UQ0_27" autocomplete="off" data-autoid="autoid_24" class=" jx-typeahead-placeholder"><button id="UQ0_31" class="phui-icon-view phui-font-fa fa-search" data-autoid="autoid_26"><span class="aural-only">Search</span></button><button class="button dropdown has-icon phabricator-main-menu-search-dropdown" id="UQ0_32" data-sigil="global-search-dropdown" data-meta="0_142"><span class="visual-only phui-icon-view phui-font-fa fa-globe" data-sigil="global-search-dropdown-icon" aria-hidden="true"></span><div class="phui-button-text"></div><span class="caret"></span></button><input type="hidden" name="search:scope" value="all" data-sigil="global-search-dropdown-input"><input type="hidden" id="UQ0_33" name="search:application" value="PhabricatorDifferentialApplication" data-sigil="global-search-dropdown-app"><input type="hidden" name="search:primary" value="true"><div id="UQ0_30" class="phabricator-main-menu-search-target"></div></div></form></div></li></ul><div id="UQ0_23" class="phabricator-notification-menu" style="display: none;" data-sigil="phabricator-notification-menu"></div><div id="UQ0_21" class="phabricator-notification-menu" style="display: none;" data-sigil="phabricator-notification-menu"></div><div id="phabricator-quick-create-menu" class="phabricator-main-menu-dropdown phui-list-sidenav" style="display: none"><ul class="phui-list-view "><li class="phui-list-item-view phui-list-item-type-label "><div><span class="phui-list-item-name">Create New...</span></div></li><li class="phui-list-item-view phui-list-item-type-link phui-list-item-has-icon "><a href="https://phabricator.megaputer.ru/maniphest/task/create/" class="phui-list-item-href"><span class="visual-only phui-icon-view phui-font-fa fa-anchor phui-list-item-icon" aria-hidden="true"></span><span class="phui-list-item-name">Maniphest Task</span></a></li><li class="phui-list-item-view phui-list-item-type-link phui-list-item-has-icon "><a href="https://phabricator.megaputer.ru/pholio/new/" class="phui-list-item-href"><span class="visual-only phui-icon-view phui-font-fa fa-picture-o phui-list-item-icon" aria-hidden="true"></span><span class="phui-list-item-name">Pholio Mock</span></a></li><li class="phui-list-item-view phui-list-item-type-link phui-list-item-has-icon "><a href="https://phabricator.megaputer.ru/project/create/" class="phui-list-item-href"><span class="visual-only phui-icon-view phui-font-fa fa-briefcase phui-list-item-icon" aria-hidden="true"></span><span class="phui-list-item-name">Project</span></a></li><li class="phui-list-item-view phui-list-item-type-link phui-list-item-has-icon " data-sigil="workflow"><a href="https://phabricator.megaputer.ru/conpherence/new/" class="phui-list-item-href"><span class="visual-only phui-icon-view phui-font-fa fa-comments phui-list-item-icon" aria-hidden="true"></span><span class="phui-list-item-name">Conpherence Room</span></a></li><li class="phui-list-item-view phui-list-item-type-link phui-list-item-has-icon "><a href="https://phabricator.megaputer.ru/paste/create/" class="phui-list-item-href"><span class="visual-only phui-icon-view phui-font-fa fa-clipboard phui-list-item-icon" aria-hidden="true"></span><span class="phui-list-item-name">Paste</span></a></li></ul></div><div id="phabricator-help-menu" class="phabricator-main-menu-dropdown phui-list-sidenav" style="display: none"><ul class="phui-list-view "><li class="phui-list-item-view phui-list-item-type-label "><div><span class="phui-list-item-name">Differential Documentation</span></div></li><li class="phui-list-item-view phui-list-item-type-link phui-list-item-has-icon "><a href="https://secure.phabricator.com/diviner/find/?name=Differential+User+Guide&type=article&jump=1" class="phui-list-item-href" rel="noreferrer"><span class="visual-only phui-icon-view phui-font-fa fa-book phui-list-item-icon" aria-hidden="true"></span><span class="phui-list-item-name">Differential User Guide</span></a></li><li class="phui-list-item-view phui-list-item-type-label "><div><span class="phui-list-item-name">Email Help</span></div></li><li class="phui-list-item-view phui-list-item-type-link phui-list-item-has-icon "><a href="https://phabricator.megaputer.ru/applications/mailcommands/PhabricatorDifferentialApplication/revision/" class="phui-list-item-href"><span class="visual-only phui-icon-view phui-font-fa fa-envelope-o phui-list-item-icon" aria-hidden="true"></span><span class="phui-list-item-name">Email Commands: Revisions</span></a></li></ul></div></div><div id="phabricator-standard-page-body" class="phabricator-standard-page-body"><div class="phabricator-nav has-local-nav has-crumbs has-drag-nav" id="UQ0_6"><div class="phabricator-nav-local phabricator-side-menu" id="UQ0_8" style="position: fixed; bottom: 0px; left: 0px; top: 0px;"><ul class="phui-list-view "><li class="phui-list-item-view phui-list-item-type-label "><div><span class="phui-list-item-name">Changed Files</span></div></li><li class="phui-list-item-view phui-list-item-type-custom "><div><div class="phabricator-filetree"><span style="padding-left: 5px" title="trunk/" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-folder-open blue" aria-hidden="true"></span><span class="phabricator-filetree-name">trunk/</span></span><span style="padding-left: 8px" title="trunk/WebUI/" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-folder-open blue" aria-hidden="true"></span><span class="phabricator-filetree-name">WebUI/</span></span><span style="padding-left: 11px" title="trunk/WebUI/gwt/" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-folder-open blue" aria-hidden="true"></span><span class="phabricator-filetree-name">gwt/</span></span><span style="padding-left: 14px" title="trunk/WebUI/gwt/src/" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-folder-open blue" aria-hidden="true"></span><span class="phabricator-filetree-name">src/</span></span><span style="padding-left: 17px" title="trunk/WebUI/gwt/src/polyanalyst/" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-folder-open blue" aria-hidden="true"></span><span class="phabricator-filetree-name">polyanalyst/</span></span><span style="padding-left: 20px" title="trunk/WebUI/gwt/src/polyanalyst/client/" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-folder-open blue" aria-hidden="true"></span><span class="phabricator-filetree-name">client/</span></span><span style="padding-left: 23px" title="trunk/WebUI/gwt/src/polyanalyst/client/component/" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-folder-open blue" aria-hidden="true"></span><span class="phabricator-filetree-name">component/</span></span><a href="https://phabricator.megaputer.ru/D782#f849bdae" style="padding-left: 26px" title="TreeMap.java" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-file-text-o bluetext" aria-hidden="true"></span><span class="phabricator-filetree-name">TreeMap.java</span></a><span style="padding-left: 11px" title="trunk/WebUI/paCharts/" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-folder-open blue" aria-hidden="true"></span><span class="phabricator-filetree-name">paCharts/</span></span><span style="padding-left: 14px" title="trunk/WebUI/paCharts/css/" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-folder-open blue" aria-hidden="true"></span><span class="phabricator-filetree-name">css/</span></span><a href="https://phabricator.megaputer.ru/D782#5b70ca53" style="padding-left: 17px" title="treemap.css" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-file-text-o bluetext" aria-hidden="true"></span><span class="phabricator-filetree-name">treemap.css</span></a><span style="padding-left: 14px" title="trunk/WebUI/paCharts/src/" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-folder-open blue" aria-hidden="true"></span><span class="phabricator-filetree-name">src/</span></span><span style="padding-left: 17px" title="trunk/WebUI/paCharts/src/treemap/" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-folder-open blue" aria-hidden="true"></span><span class="phabricator-filetree-name">treemap/</span></span><a href="https://phabricator.megaputer.ru/D782#9113bd63" style="padding-left: 20px" title="treemap.ts" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-file-text-o bluetext" aria-hidden="true"></span><span class="phabricator-filetree-name">treemap.ts</span></a><span style="padding-left: 11px" title="trunk/WebUI/widgets/" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-folder-open blue" aria-hidden="true"></span><span class="phabricator-filetree-name">widgets/</span></span><span style="padding-left: 14px" title="trunk/WebUI/widgets/css/" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-folder-open blue" aria-hidden="true"></span><span class="phabricator-filetree-name">css/</span></span><a href="https://phabricator.megaputer.ru/D782#4be4e593" style="padding-left: 17px" title="dropdownmenu.css" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-file-text-o bluetext" aria-hidden="true"></span><span class="phabricator-filetree-name">dropdownmenu.css</span></a><span style="padding-left: 14px" title="trunk/WebUI/widgets/src/" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-folder-open blue" aria-hidden="true"></span><span class="phabricator-filetree-name">src/</span></span><a href="https://phabricator.megaputer.ru/D782#0fe847e8" style="padding-left: 17px" title="dropdownmenu.ts" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-file-text-o bluetext" aria-hidden="true"></span><span class="phabricator-filetree-name">dropdownmenu.ts</span></a><a href="https://phabricator.megaputer.ru/D782#07851cdb" style="padding-left: 17px" title="genReferences.ts" class="phabricator-filetree-item"><span class="visual-only phui-icon-view phui-font-fa fa-file-text-o bluetext" aria-hidden="true"></span><span class="phabricator-filetree-name">genReferences.ts</span></a></div></div></li></ul></div><div class="phabricator-nav-drag" id="UQ0_7" data-autoid="autoid_13"></div><div class="phabricator-nav-content plb" id="UQ0_5"><div class="phui-crumbs-view"><a href="https://phabricator.megaputer.ru/differential/" class="phui-crumb-view phui-crumb-has-icon"><span class="visual-only phui-icon-view phui-font-fa fa-cog" aria-hidden="true"></span><span class="phui-crumb-name">Differential</span></a><span class="visual-only phui-icon-view phui-font-fa fa-angle-right phui-crumb-divider phui-crumb-view" aria-hidden="true"></span><a href="https://phabricator.megaputer.ru/D782" class="phui-crumb-view phabricator-last-crumb"><span class="phui-crumb-name">D782</span></a></div><div class="phui-box phui-box-border mlt mll mlr phui-object-box"><div class="phui-header-shell phui-header-tall "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header">WTM:S1:E1:R2:18091 added floating toolbar mode</span><div class="phui-header-subheader"><span class="phui-header-status phui-header-status-green"><span class="visual-only phui-icon-view phui-font-fa fa-check green" aria-hidden="true"></span>Accepted</span><span class="policy-header-callout"><span class="visual-only phui-icon-view phui-font-fa fa-users bluegrey" aria-hidden="true"></span><a class="policy-link" href="https://phabricator.megaputer.ru/policy/explain/PHID-DREV-caljgcv5wago7jgz5d34/view/" data-sigil="workflow">All Users</a></span></div></div><div class="phui-header-col3"><div class="phui-header-action-links"><a class="button simple has-icon phui-mobile-menu msl phui-header-action-link" href="https://phabricator.megaputer.ru/D782#" id="UQ0_10" data-sigil="jx-toggle-class" data-meta="0_107"><span class="visual-only phui-icon-view phui-font-fa fa-bars" aria-hidden="true"></span><div class="phui-button-text">Actions</div></a></div></div></div></h1></div><div class="phui-property-list-view "><div class="phui-property-list-section"><div class="phui-property-list-container grouped"><div class="phui-property-list-actions"><ul class="phabricator-action-list-view" id="UQ0_0"><li class="phabricator-action-view"><a href="https://phabricator.megaputer.ru/differential/revision/edit/782/" class="phabricator-action-view-item"><span class="visual-only phui-icon-view phui-font-fa fa-pencil phabricator-action-view-icon" aria-hidden="true"></span>Edit Revision</a></li><li class="phabricator-action-view"><a href="https://phabricator.megaputer.ru/differential/revision/update/782/" class="phabricator-action-view-item"><span class="visual-only phui-icon-view phui-font-fa fa-upload phabricator-action-view-icon" aria-hidden="true"></span>Update Diff</a></li><li class="phabricator-action-view"><a href="https://phabricator.megaputer.ru/search/attach/PHID-DREV-caljgcv5wago7jgz5d34/DREV/dependencies/" class="phabricator-action-view-item" data-sigil="workflow"><span class="visual-only phui-icon-view phui-font-fa fa-link phabricator-action-view-icon" aria-hidden="true"></span>Edit Dependencies</a></li><li class="phabricator-action-view"><a href="https://phabricator.megaputer.ru/search/attach/PHID-DREV-caljgcv5wago7jgz5d34/TASK/" class="phabricator-action-view-item" data-sigil="workflow"><span class="visual-only phui-icon-view phui-font-fa fa-anchor phabricator-action-view-icon" aria-hidden="true"></span>Edit Maniphest Tasks</a></li><li class="phabricator-action-view"><a href="https://phabricator.megaputer.ru/D782?download=true" class="phabricator-action-view-item"><span class="visual-only phui-icon-view phui-font-fa fa-download phabricator-action-view-icon" aria-hidden="true"></span>Download Raw Diff</a></li><li class="phabricator-action-view phabricator-action-view-disabled"><form action="https://phabricator.megaputer.ru/subscriptions/add/PHID-DREV-caljgcv5wago7jgz5d34/" method="POST" data-sigil="workflow"><input type="hidden" name="__csrf__" value="B@rcc2uyn29d5426da345f851d"><input type="hidden" name="__form__" value="1"><button class="phabricator-action-view-item"><span class="visual-only phui-icon-view phui-font-fa fa-check-circle lightgreytext grey phabricator-action-view-icon" aria-hidden="true"></span>Automatically Subscribed</button></form></li><li class="phabricator-action-view"><a href="https://phabricator.megaputer.ru/token/give/PHID-DREV-caljgcv5wago7jgz5d34/" class="phabricator-action-view-item" data-sigil="workflow"><span class="visual-only phui-icon-view phui-font-fa fa-trophy phabricator-action-view-icon" aria-hidden="true"></span>Award Token</a></li><li class="phabricator-action-view"><a href="https://phabricator.megaputer.ru/flag/edit/PHID-DREV-caljgcv5wago7jgz5d34/" class="phabricator-action-view-item" data-sigil="workflow"><span class="visual-only phui-icon-view phui-font-fa fa-flag phabricator-action-view-icon" aria-hidden="true"></span>Flag For Later</a></li></ul></div><div class="phui-property-list-properties-wrap "><div class="keyboard-shortcuts-available">Press <strong>?</strong> to show keyboard shortcuts.</div><dl class="phui-property-list-properties"><dt class="phui-property-list-key">Next Step </dt><dd class="phui-property-list-value"><tt>arc land 'tm3'</tt> </dd><dt class="phui-property-list-key">Author </dt><dd class="phui-property-list-value"><a href="https://phabricator.megaputer.ru/p/semenov_art/" class="phui-handle phui-link-person">semenov_art</a> </dd><dt class="phui-property-list-key">Reviewers </dt><dd class="phui-property-list-value"><table class="phui-status-list-view "><tbody><tr class=" "><td><span class="visual-only phui-icon-view phui-font-fa fa-circle-o bluegrey" data-meta="0_108" data-sigil="has-tooltip" aria-hidden="true"></span></td><td class="phui-status-item-target"><a href="https://phabricator.megaputer.ru/p/abykov/" class="phui-handle phui-link-person">abykov</a></td><td class="phui-status-item-note"></td></tr><tr class="phui-status-item-highlighted "><td><span class="visual-only phui-icon-view phui-font-fa fa-check-circle green" data-meta="0_109" data-sigil="has-tooltip" aria-hidden="true"></span></td><td class="phui-status-item-target"><a href="https://phabricator.megaputer.ru/p/kozlov/" class="phui-handle phui-link-person">kozlov</a></td><td class="phui-status-item-note"></td></tr><tr class=" "><td><span class="visual-only phui-icon-view phui-font-fa fa-check-circle green" data-meta="0_110" data-sigil="has-tooltip" aria-hidden="true"></span></td><td class="phui-status-item-target"><a href="https://phabricator.megaputer.ru/p/efremov/" class="phui-handle phui-link-person">efremov</a></td><td class="phui-status-item-note"></td></tr></tbody></table> </dd><dt class="phui-property-list-key">Apply Patch </dt><dd class="phui-property-list-value"><tt>arc patch D782</tt> </dd><dt class="phui-property-list-key">Subscribers </dt><dd class="phui-property-list-value"><a href="https://phabricator.megaputer.ru/p/akuzmin/" class="phui-handle phui-link-person">akuzmin</a>, <a href="https://phabricator.megaputer.ru/p/aalexeyev/" class="phui-handle phui-link-person">aalexeyev</a> </dd><dt class="phui-property-list-key">Projects </dt><dd class="phui-property-list-value"><em>None</em> </dd></dl></div></div><div class="phui-property-list-section-header"><span class="phui-property-list-section-header-icon"><span class="visual-only phui-icon-view phui-font-fa fa-align-left bluegrey" aria-hidden="true"></span>Summary</span></div><div class="phui-property-list-text-content"><div class="phabricator-remarkup"><ol class="remarkup-list">
<li class="remarkup-list-item">Добавлена возможность отцеплять тулбар от тримапа.</li>
<li class="remarkup-list-item">Тулбар, если он не влезает в тримап, прячется.</li>
</ol></div></div></div></div></div><div class="phui-box phui-box-border mlt mll mlr phui-object-box" data-meta="0_111" data-sigil="phui-object-box"><div class="phui-header-shell "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header">Diff Detail</span></div><div class="phui-header-col3"></div></div></h1></div><ul class="phui-list-view phui-list-navbar "><li class="phui-list-item-view phui-list-item-type-link phui-list-item-selected " data-meta="0_112" data-sigil="phui-object-box-tab"><a href="https://phabricator.megaputer.ru/D782#" class="phui-list-item-href"><span class="phui-list-item-name">Diff 2160</span></a></li></ul><div id="UQ0_11"><div class="phui-property-list-view "><div class="phui-property-list-section"><div class="phui-property-list-container grouped"><div class="phui-property-list-properties-wrap "><dl class="phui-property-list-properties"><dt class="phui-property-list-key">Repository </dt><dd class="phui-property-list-value"><a href="https://phabricator.megaputer.ru/diffusion/PA/" class="phui-handle">rPA PA6</a> </dd><dt class="phui-property-list-key">Branch </dt><dd class="phui-property-list-value">tm3 </dd><dt class="phui-property-list-key">Lint </dt><dd class="phui-property-list-value"><table class="phui-status-list-view "><tbody><tr class=" "><td><span class="visual-only phui-icon-view phui-font-fa fa-star green" aria-hidden="true"></span></td><td class="phui-status-item-target">Lint OK</td><td class="phui-status-item-note"></td></tr></tbody></table> </dd><dt class="phui-property-list-key">Unit </dt><dd class="phui-property-list-value"><table class="phui-status-list-view "><tbody><tr class=" "><td><span class="visual-only phui-icon-view phui-font-fa fa-star green" aria-hidden="true"></span></td><td class="phui-status-item-target">Unit Tests OK</td><td class="phui-status-item-note"></td></tr></tbody></table> </dd></dl></div></div></div></div></div></div><div class="differential-primary-pane" id="UQ0_4"><div id="UQ0_1"><div class="phui-timeline-view" id="UQ0_2"><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" id="anchor-15425" data-sigil="transaction" data-meta="0_30"><div class="phui-timeline-event-view phui-timeline-minor-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/mfp37fn7xlla5fmjh5gx/PHID-FILE-vyeevqy35q3ah4t2dhne/profile-disgusted-oh-god-why-text.png)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-title phui-timeline-title-with-icon"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-pencil white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/semenov_art/" class="phui-handle phui-link-person">semenov_art</a> created this revision.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Conduit</span><span class="visual-only" aria-hidden="true"> · </span><a name="15425" id="15425" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15425">Wed, Aug 12, 3:09 PM</a></span></div><div class="phui-timeline-title phui-timeline-title-with-icon"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-user white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/semenov_art/" class="phui-handle phui-link-person">semenov_art</a> added reviewers: <a href="https://phabricator.megaputer.ru/p/abykov/" class="phui-handle phui-link-person">abykov</a>, <a href="https://phabricator.megaputer.ru/p/kozlov/" class="phui-handle phui-link-person">kozlov</a>, <a href="https://phabricator.megaputer.ru/p/efremov/" class="phui-handle phui-link-person">efremov</a>.</div><div class="phui-timeline-title phui-timeline-title-with-icon"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-envelope white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/semenov_art/" class="phui-handle phui-link-person">semenov_art</a> added subscribers: <a href="https://phabricator.megaputer.ru/p/aalexeyev/" class="phui-handle phui-link-person">aalexeyev</a>, <a href="https://phabricator.megaputer.ru/p/akuzmin/" class="phui-handle phui-link-person">akuzmin</a>.</div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" id="anchor-15430" data-sigil="transaction" data-meta="0_34"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/mfp37fn7xlla5fmjh5gx/PHID-FILE-vyeevqy35q3ah4t2dhne/profile-disgusted-oh-god-why-text.png)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/semenov_art/" class="phui-handle phui-link-person">semenov_art</a> added a comment.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15430" id="15430" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15430">Wed, Aug 12, 3:10 PM</a></span></div><a href="https://phabricator.megaputer.ru/D782#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_33"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_2"><div class="phabricator-remarkup"><p>Скриншоты:</p>

<p></p><div class="phabricator-remarkup-embed-layout-left"><a href="https://phabricator.megaputer.ru/file/data/d6e5c6l6rpcrlepgkjek/PHID-FILE-ln3ggxwmr3mjmm4nwt26/2015-08-12_15-08-06_%D0%A1%D0%BA%D1%80%D0%B8%D0%BD%D1%88%D0%BE%D1%82_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0.png" class="phabricator-remarkup-embed-image" data-sigil="lightboxable" data-meta="0_0" rel="noreferrer"><img src="./D782_files/saved_resource" width="220" height="184.41176470588"></a></div><p></p>

<p></p><div class="phabricator-remarkup-embed-layout-left"><a href="https://phabricator.megaputer.ru/file/data/goujd6whoq5qthgg3ayc/PHID-FILE-vhypaqickkfm3h3bprqw/2015-08-12_15-07-49_%D0%A1%D0%BA%D1%80%D0%B8%D0%BD%D1%88%D0%BE%D1%82_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0.png" class="phabricator-remarkup-embed-image" data-sigil="lightboxable" data-meta="0_1" rel="noreferrer"><img src="./D782_files/saved_resource(1)" width="220" height="166.35160680529"></a></div><p></p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" id="anchor-15431" data-sigil="transaction" data-meta="0_36"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/akjgnmbf74bezaiy3666/PHID-FILE-irxewmtkykmn6n4wsols/profile-anim.gif)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/kozlov/" class="phui-handle phui-link-person">kozlov</a> added inline comments.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15431" id="15431" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15431">Wed, Aug 12, 3:11 PM</a></span></div><span href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-meta="0_35"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></span><div class="phui-timeline-core-content"><table class="phabricator-inline-summary-table"><tbody><tr><th colspan="3" class="inline-comment-summary-table-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o darkbluetext mmr" aria-hidden="true"></span>trunk/WebUI/paCharts/src/genReferences.ts</th></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782?id=2149#inline-4175" target="_blank" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>26 ↗</a></td><td class="inline-which-diff inline-table-dolumn">(On Diff #2149)</td><td class="inline-summary-content inline-table-dolumn"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_3"><div class="phabricator-remarkup"><p>этот файл надо вернуть в первоначальный вид</p></div></span></div></td></tr></tbody></table></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" id="anchor-15432" data-sigil="transaction" data-meta="0_40"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/mfp37fn7xlla5fmjh5gx/PHID-FILE-vyeevqy35q3ah4t2dhne/profile-disgusted-oh-god-why-text.png)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/semenov_art/" class="phui-handle phui-link-person">semenov_art</a> added a comment.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15432" id="15432" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15432">Wed, Aug 12, 3:11 PM</a></span></div><a href="https://phabricator.megaputer.ru/D782#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_39"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_4"><div class="phabricator-remarkup"><p>Если у вас старый системный tslint, то обновите его.</p>

<div class="remarkup-code-block repository-crossreference" data-code-lang="text" data-sigil="remarkup-code-block" data-autoid="autoid_31"><pre class="remarkup-code">npm update -g tslint</pre></div></div></span><table class="phabricator-inline-summary-table"><tbody><tr><th colspan="3" class="inline-comment-summary-table-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o darkbluetext mmr" aria-hidden="true"></span>trunk/WebUI/paCharts/src/genReferences.ts</th></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782?id=2149#inline-4177" target="_blank" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>26 ↗</a></td><td class="inline-which-diff inline-table-dolumn">(On Diff #2149)</td><td class="inline-summary-content inline-table-dolumn"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_5"><div class="phabricator-remarkup"><p>Ругается же</p></div></span></div></td></tr></tbody></table></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" id="anchor-15437" data-sigil="transaction" data-meta="0_42"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/akjgnmbf74bezaiy3666/PHID-FILE-irxewmtkykmn6n4wsols/profile-anim.gif)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/kozlov/" class="phui-handle phui-link-person">kozlov</a> added inline comments.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15437" id="15437" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15437">Wed, Aug 12, 3:19 PM</a></span></div><span href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-meta="0_41"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></span><div class="phui-timeline-core-content"><table class="phabricator-inline-summary-table"><tbody><tr><th colspan="3" class="inline-comment-summary-table-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o darkbluetext mmr" aria-hidden="true"></span>trunk/WebUI/paCharts/src/genReferences.ts</th></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782?id=2149#inline-4179" target="_blank" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>26 ↗</a></td><td class="inline-which-diff inline-table-dolumn">(On Diff #2149)</td><td class="inline-summary-content inline-table-dolumn"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_6"><div class="phabricator-remarkup"><p>Кто ругается? Что пишет?</p></div></span></div></td></tr></tbody></table></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" id="anchor-15438" data-sigil="transaction" data-meta="0_44"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/mfp37fn7xlla5fmjh5gx/PHID-FILE-vyeevqy35q3ah4t2dhne/profile-disgusted-oh-god-why-text.png)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/semenov_art/" class="phui-handle phui-link-person">semenov_art</a> added inline comments.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15438" id="15438" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15438">Wed, Aug 12, 3:20 PM</a></span></div><span href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-meta="0_43"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></span><div class="phui-timeline-core-content"><table class="phabricator-inline-summary-table"><tbody><tr><th colspan="3" class="inline-comment-summary-table-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o darkbluetext mmr" aria-hidden="true"></span>trunk/WebUI/paCharts/src/genReferences.ts</th></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782?id=2149#inline-4182" target="_blank" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>26 ↗</a></td><td class="inline-which-diff inline-table-dolumn">(On Diff #2149)</td><td class="inline-summary-content inline-table-dolumn"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_7"><div class="phabricator-remarkup"><p>линтер ругался, сейчас уже не ругается, наверное обновление помогло</p></div></span></div></td></tr></tbody></table></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell phui-timeline-sky" id="anchor-15440" data-sigil="transaction" data-meta="0_48"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/mfp37fn7xlla5fmjh5gx/PHID-FILE-vyeevqy35q3ah4t2dhne/profile-disgusted-oh-god-why-text.png)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill phui-timeline-icon-fill-sky"><span class="visual-only phui-icon-view phui-font-fa fa-refresh white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/semenov_art/" class="phui-handle phui-link-person">semenov_art</a> updated this revision to <a href="https://phabricator.megaputer.ru/differential/diff/2152/" class="phui-handle">Diff 2152</a>.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Conduit</span><span class="visual-only" aria-hidden="true"> · </span><a name="15440" id="15440" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15440">Wed, Aug 12, 3:20 PM</a></span></div><a href="https://phabricator.megaputer.ru/D782#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_47"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_8"><div class="phabricator-remarkup"><p>fixed genReferences.ts</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" id="anchor-15442" data-sigil="transaction" data-meta="0_50"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/akjgnmbf74bezaiy3666/PHID-FILE-irxewmtkykmn6n4wsols/profile-anim.gif)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/kozlov/" class="phui-handle phui-link-person">kozlov</a> added inline comments.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15442" id="15442" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15442">Wed, Aug 12, 3:22 PM</a></span></div><span href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-meta="0_49"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></span><div class="phui-timeline-core-content"><table class="phabricator-inline-summary-table"><tbody><tr><th colspan="3" class="inline-comment-summary-table-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o darkbluetext mmr" aria-hidden="true"></span>trunk/WebUI/paCharts/src/genReferences.ts</th></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782?id=2152#inline-4185" target="_blank" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>26 ↗</a></td><td class="inline-which-diff inline-table-dolumn">(On Diff #2152)</td><td class="inline-summary-content inline-table-dolumn"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_9"><div class="phabricator-remarkup"><p>этот файл с недавних пор в исключениях у линтера</p></div></span></div></td></tr></tbody></table></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell phui-timeline-sky" id="anchor-15445" data-sigil="transaction" data-meta="0_54"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/mfp37fn7xlla5fmjh5gx/PHID-FILE-vyeevqy35q3ah4t2dhne/profile-disgusted-oh-god-why-text.png)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill phui-timeline-icon-fill-sky"><span class="visual-only phui-icon-view phui-font-fa fa-refresh white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/semenov_art/" class="phui-handle phui-link-person">semenov_art</a> updated this revision to <a href="https://phabricator.megaputer.ru/differential/diff/2154/" class="phui-handle">Diff 2154</a>.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Conduit</span><span class="visual-only" aria-hidden="true"> · </span><a name="15445" id="15445" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15445">Wed, Aug 12, 3:24 PM</a></span></div><a href="https://phabricator.megaputer.ru/D782#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_53"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_10"><div class="phabricator-remarkup"><p>fixed genReferences.ts #2</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" id="anchor-15447" data-sigil="transaction" data-meta="0_56"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/akjgnmbf74bezaiy3666/PHID-FILE-irxewmtkykmn6n4wsols/profile-anim.gif)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/kozlov/" class="phui-handle phui-link-person">kozlov</a> added inline comments.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15447" id="15447" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15447">Wed, Aug 12, 3:33 PM</a></span></div><span href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-meta="0_55"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></span><div class="phui-timeline-core-content"><table class="phabricator-inline-summary-table"><tbody><tr><th colspan="3" class="inline-comment-summary-table-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o darkbluetext mmr" aria-hidden="true"></span>trunk/WebUI/paCharts/src/treemap/treemap.ts</th></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782#inline-4189" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>447</a></td><td class="inline-summary-content inline-table-dolumn" colspan="2"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_11"><div class="phabricator-remarkup"><p>что тут делается?</p></div></span></div></td></tr></tbody></table></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" id="anchor-15448" data-sigil="transaction" data-meta="0_58"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/mfp37fn7xlla5fmjh5gx/PHID-FILE-vyeevqy35q3ah4t2dhne/profile-disgusted-oh-god-why-text.png)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/semenov_art/" class="phui-handle phui-link-person">semenov_art</a> added inline comments.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15448" id="15448" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15448">Wed, Aug 12, 3:34 PM</a></span></div><span href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-meta="0_57"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></span><div class="phui-timeline-core-content"><table class="phabricator-inline-summary-table"><tbody><tr><th colspan="3" class="inline-comment-summary-table-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o darkbluetext mmr" aria-hidden="true"></span>trunk/WebUI/paCharts/src/treemap/treemap.ts</th></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782#inline-4190" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>447</a></td><td class="inline-summary-content inline-table-dolumn" colspan="2"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_12"><div class="phabricator-remarkup"><p>объявляются переменные elementWidth = this.element.getBoundingClientRect().width и elementHeight = this.element.getBoundingClientRect().height</p></div></span></div></td></tr></tbody></table></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" id="anchor-15449" data-sigil="transaction" data-meta="0_60"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/asconf6ton6x4pvsea7r/PHID-FILE-3sc5ctgg5ouuodxdfcv4/profile-%D0%91%D0%B5%D0%B7_%D0%B8%D0%BC%D0%B5%D0%BD%D0%B8.png)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/efremov/" class="phui-handle phui-link-person">efremov</a> added inline comments.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15449" id="15449" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15449">Wed, Aug 12, 3:35 PM</a></span></div><span href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-meta="0_59"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></span><div class="phui-timeline-core-content"><table class="phabricator-inline-summary-table"><tbody><tr><th colspan="3" class="inline-comment-summary-table-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o darkbluetext mmr" aria-hidden="true"></span>trunk/WebUI/gwt/src/polyanalyst/client/component/TreeMap.java</th></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782#inline-4178" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>48</a></td><td class="inline-summary-content inline-table-dolumn" colspan="2"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_13"><div class="phabricator-remarkup"><p>jscHelper.comp == this</p></div></span></div></td></tr>
<tr><th colspan="3" class="inline-comment-summary-table-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o darkbluetext mmr" aria-hidden="true"></span>trunk/WebUI/paCharts/src/genReferences.ts</th></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782?id=2149#inline-4180" target="_blank" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>26 ↗</a></td><td class="inline-which-diff inline-table-dolumn">(On Diff #2149)</td><td class="inline-summary-content inline-table-dolumn"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_14"><div class="phabricator-remarkup"><p>Нельзя так делать.<br>
В этом файле можно редактировать только то что идет до строки<br>
//grunt-start</p></div></span></div></td></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782?id=2149#inline-4181" target="_blank" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>101 ↗</a></td><td class="inline-which-diff inline-table-dolumn">(On Diff #2149)</td><td class="inline-summary-content inline-table-dolumn"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_15"><div class="phabricator-remarkup"><p>и так тоже нельзя</p></div></span></div></td></tr>
<tr><th colspan="3" class="inline-comment-summary-table-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o darkbluetext mmr" aria-hidden="true"></span>trunk/WebUI/paCharts/src/treemap/treemap.ts</th></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782#inline-4183" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>14</a></td><td class="inline-summary-content inline-table-dolumn" colspan="2"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_16"><div class="phabricator-remarkup"><p>Почему reportPanel? Почему не projectPanel?<br>
С учетом того, что метод называется setSectionPanel()<br>
панель должна называться sectionPanel.<br>
Почему метод называется setSectionPanel?<br>
Seciont - это сущность отчетов.</p></div></span></div></td></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782#inline-4187" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>37</a></td><td class="inline-summary-content inline-table-dolumn" colspan="2"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_17"><div class="phabricator-remarkup"><p>previewMode здесь не должно быть, это тоже сущность связанная с отчетами<br>
Думаю эти две переменные можно объединить в одну: <br>
toolbarMode: { 'normal', 'float', 'hidden' }</p></div></span></div></td></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782#inline-4188" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>89–91</a></td><td class="inline-summary-content inline-table-dolumn" colspan="2"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_18"><div class="phabricator-remarkup"><p>setFloatToolBarParent(panel: HTMLDivElement)</p></div></span></div></td></tr></tbody></table></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" id="anchor-15455" data-sigil="transaction" data-meta="0_62"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/akjgnmbf74bezaiy3666/PHID-FILE-irxewmtkykmn6n4wsols/profile-anim.gif)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/kozlov/" class="phui-handle phui-link-person">kozlov</a> added inline comments.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15455" id="15455" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15455">Wed, Aug 12, 3:36 PM</a></span></div><span href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-meta="0_61"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></span><div class="phui-timeline-core-content"><table class="phabricator-inline-summary-table"><tbody><tr><th colspan="3" class="inline-comment-summary-table-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o darkbluetext mmr" aria-hidden="true"></span>trunk/WebUI/paCharts/src/treemap/treemap.ts</th></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782#inline-4191" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>447</a></td><td class="inline-summary-content inline-table-dolumn" colspan="2"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_19"><div class="phabricator-remarkup"><p>Это так странно выглядит</p></div></span></div></td></tr></tbody></table></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" id="anchor-15456" data-sigil="transaction" data-meta="0_64"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/mfp37fn7xlla5fmjh5gx/PHID-FILE-vyeevqy35q3ah4t2dhne/profile-disgusted-oh-god-why-text.png)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/semenov_art/" class="phui-handle phui-link-person">semenov_art</a> added inline comments.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15456" id="15456" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15456">Wed, Aug 12, 3:37 PM</a></span></div><span href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-meta="0_63"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></span><div class="phui-timeline-core-content"><table class="phabricator-inline-summary-table"><tbody><tr><th colspan="3" class="inline-comment-summary-table-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o darkbluetext mmr" aria-hidden="true"></span>trunk/WebUI/paCharts/src/treemap/treemap.ts</th></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782#inline-4192" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>447</a></td><td class="inline-summary-content inline-table-dolumn" colspan="2"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_20"><div class="phabricator-remarkup"><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" class="remarkup-link" target="_blank" rel="noreferrer">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment</a></p></div></span></div></td></tr></tbody></table></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell phui-timeline-sky" id="anchor-15462" data-sigil="transaction" data-meta="0_68"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/mfp37fn7xlla5fmjh5gx/PHID-FILE-vyeevqy35q3ah4t2dhne/profile-disgusted-oh-god-why-text.png)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill phui-timeline-icon-fill-sky"><span class="visual-only phui-icon-view phui-font-fa fa-refresh white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/semenov_art/" class="phui-handle phui-link-person">semenov_art</a> updated this revision to <a href="https://phabricator.megaputer.ru/differential/diff/2156/" class="phui-handle">Diff 2156</a>.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Conduit</span><span class="visual-only" aria-hidden="true"> · </span><a name="15462" id="15462" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15462">Wed, Aug 12, 3:49 PM</a></span></div><a href="https://phabricator.megaputer.ru/D782#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_67"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_21"><div class="phabricator-remarkup"><p>some fixes</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell phui-timeline-sky" id="anchor-15467" data-sigil="transaction" data-meta="0_72"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/mfp37fn7xlla5fmjh5gx/PHID-FILE-vyeevqy35q3ah4t2dhne/profile-disgusted-oh-god-why-text.png)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill phui-timeline-icon-fill-sky"><span class="visual-only phui-icon-view phui-font-fa fa-refresh white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/semenov_art/" class="phui-handle phui-link-person">semenov_art</a> updated this revision to <a href="https://phabricator.megaputer.ru/differential/diff/2157/" class="phui-handle">Diff 2157</a>.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Conduit</span><span class="visual-only" aria-hidden="true"> · </span><a name="15467" id="15467" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15467">Wed, Aug 12, 4:00 PM</a></span></div><a href="https://phabricator.megaputer.ru/D782#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_71"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_22"><div class="phabricator-remarkup"><p>added ToolBarMode</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" id="anchor-15473" data-sigil="transaction" data-meta="0_74"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/akjgnmbf74bezaiy3666/PHID-FILE-irxewmtkykmn6n4wsols/profile-anim.gif)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/kozlov/" class="phui-handle phui-link-person">kozlov</a> added inline comments.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15473" id="15473" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15473">Wed, Aug 12, 4:15 PM</a></span></div><span href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-meta="0_73"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></span><div class="phui-timeline-core-content"><table class="phabricator-inline-summary-table"><tbody><tr><th colspan="3" class="inline-comment-summary-table-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o darkbluetext mmr" aria-hidden="true"></span>trunk/WebUI/paCharts/src/treemap/treemap.ts</th></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782#inline-4201" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>150</a></td><td class="inline-summary-content inline-table-dolumn" colspan="2"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_23"><div class="phabricator-remarkup"><p>Разве использование this в callback ф-иях безопасно?</p></div></span></div></td></tr></tbody></table></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" id="anchor-15474" data-sigil="transaction" data-meta="0_76"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/akjgnmbf74bezaiy3666/PHID-FILE-irxewmtkykmn6n4wsols/profile-anim.gif)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/kozlov/" class="phui-handle phui-link-person">kozlov</a> added inline comments.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15474" id="15474" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15474">Wed, Aug 12, 4:17 PM</a></span></div><span href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-meta="0_75"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></span><div class="phui-timeline-core-content"><table class="phabricator-inline-summary-table"><tbody><tr><th colspan="3" class="inline-comment-summary-table-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o darkbluetext mmr" aria-hidden="true"></span>trunk/WebUI/paCharts/src/treemap/treemap.ts</th></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782#inline-4202" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>150</a></td><td class="inline-summary-content inline-table-dolumn" colspan="2"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_24"><div class="phabricator-remarkup"><p>Тут про это написано<br>
<a href="http://google.github.io/styleguide/javascriptguide.xml?showone=this#this" class="remarkup-link" target="_blank" rel="noreferrer">http://google.github.io/styleguide/javascriptguide.xml?showone=this#this</a></p></div></span></div></td></tr></tbody></table></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" id="anchor-15478" data-sigil="transaction" data-meta="0_78"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/mfp37fn7xlla5fmjh5gx/PHID-FILE-vyeevqy35q3ah4t2dhne/profile-disgusted-oh-god-why-text.png)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/semenov_art/" class="phui-handle phui-link-person">semenov_art</a> added inline comments.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15478" id="15478" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15478">Wed, Aug 12, 4:22 PM</a></span></div><span href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-meta="0_77"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></span><div class="phui-timeline-core-content"><table class="phabricator-inline-summary-table"><tbody><tr><th colspan="3" class="inline-comment-summary-table-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o darkbluetext mmr" aria-hidden="true"></span>trunk/WebUI/paCharts/src/treemap/treemap.ts</th></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782#inline-4203" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>150</a></td><td class="inline-summary-content inline-table-dolumn" colspan="2"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_25"><div class="phabricator-remarkup"><p>this внутри arrow function и this внутри обычной function отличаются. this в первом случае не является настоящим this-ом, а является захваченной из контекста переменной, которой присвоено значение this.</p></div></span></div></td></tr></tbody></table></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" id="anchor-15485" data-sigil="transaction" data-meta="0_80"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/akjgnmbf74bezaiy3666/PHID-FILE-irxewmtkykmn6n4wsols/profile-anim.gif)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/kozlov/" class="phui-handle phui-link-person">kozlov</a> added inline comments.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15485" id="15485" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15485">Wed, Aug 12, 4:31 PM</a></span></div><span href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-meta="0_79"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></span><div class="phui-timeline-core-content"><table class="phabricator-inline-summary-table"><tbody><tr><th colspan="3" class="inline-comment-summary-table-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o darkbluetext mmr" aria-hidden="true"></span>trunk/WebUI/paCharts/src/treemap/treemap.ts</th></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782#inline-4204" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>150</a></td><td class="inline-summary-content inline-table-dolumn" colspan="2"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_26"><div class="phabricator-remarkup"><p>Круть</p></div></span></div></td></tr></tbody></table></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell phui-timeline-green" id="anchor-15488" data-sigil="transaction" data-meta="0_81"><div class="phui-timeline-event-view phui-timeline-minor-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/akjgnmbf74bezaiy3666/PHID-FILE-irxewmtkykmn6n4wsols/profile-anim.gif)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-title phui-timeline-title-with-icon"><span class="phui-timeline-icon-fill phui-timeline-icon-fill-green"><span class="visual-only phui-icon-view phui-font-fa fa-check-circle-o white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/kozlov/" class="phui-handle phui-link-person">kozlov</a> accepted this revision.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15488" id="15488" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15488">Wed, Aug 12, 4:33 PM</a></span></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell phui-timeline-green" id="anchor-15490" data-sigil="transaction" data-meta="0_82"><div class="phui-timeline-event-view phui-timeline-minor-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/akjgnmbf74bezaiy3666/PHID-FILE-irxewmtkykmn6n4wsols/profile-anim.gif)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-title phui-timeline-title-with-icon"><span class="phui-timeline-icon-fill phui-timeline-icon-fill-green"><span class="visual-only phui-icon-view phui-font-fa fa-check white phui-timeline-icon" aria-hidden="true"></span></span>This revision is now accepted and ready to land.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15490" id="15490" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15490">Wed, Aug 12, 4:33 PM</a></span></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell phui-timeline-sky" id="anchor-15492" data-sigil="transaction" data-meta="0_86"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/mfp37fn7xlla5fmjh5gx/PHID-FILE-vyeevqy35q3ah4t2dhne/profile-disgusted-oh-god-why-text.png)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill phui-timeline-icon-fill-sky"><span class="visual-only phui-icon-view phui-font-fa fa-refresh white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/semenov_art/" class="phui-handle phui-link-person">semenov_art</a> updated this revision to <a href="https://phabricator.megaputer.ru/differential/diff/2160/" class="phui-handle">Diff 2160</a>.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Conduit</span><span class="visual-only" aria-hidden="true"> · </span><a name="15492" id="15492" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15492">Wed, Aug 12, 4:42 PM</a></span></div><a href="https://phabricator.megaputer.ru/D782#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_85"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_27"><div class="phabricator-remarkup"><p>misprint</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell phui-timeline-green anchor-target" id="anchor-15504" data-sigil="transaction" data-meta="0_88"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/asconf6ton6x4pvsea7r/PHID-FILE-3sc5ctgg5ouuodxdfcv4/profile-%D0%91%D0%B5%D0%B7_%D0%B8%D0%BC%D0%B5%D0%BD%D0%B8.png)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill phui-timeline-icon-fill-green"><span class="visual-only phui-icon-view phui-font-fa fa-check-circle-o white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/efremov/" class="phui-handle phui-link-person">efremov</a> accepted this revision.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15504" id="15504" class="phabricator-anchor-view"></a><a href="./D782_files/D782.html">Wed, Aug 12, 4:56 PM</a></span></div><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/efremov/" class="phui-handle phui-link-person">efremov</a> added inline comments.</div><span href="#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-meta="0_87"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></span><div class="phui-timeline-core-content"><table class="phabricator-inline-summary-table"><tbody><tr><th colspan="3" class="inline-comment-summary-table-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o darkbluetext mmr" aria-hidden="true"></span>trunk/WebUI/paCharts/src/treemap/treemap.ts</th></tr>
<tr><td class="inline-line-number inline-table-dolumn"><a href="https://phabricator.megaputer.ru/D782#inline-4196" class="num"><span class="visual-only phui-icon-view phui-font-fa fa-share darkbluetext mmr" aria-hidden="true"></span>412</a></td><td class="inline-summary-content inline-table-dolumn" colspan="2"><div class="phabricator-remarkup"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_28"><div class="phabricator-remarkup"><p>mimimum)</p></div></span></div></td></tr></tbody></table></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div><div class="phui-timeline-shell" id="anchor-15507" data-sigil="transaction" data-meta="0_92"><div class="phui-timeline-event-view phui-timeline-major-event"><div class="phui-timeline-content"><div style="background-image: url(https://phabricator.megaputer.ru/file/data/asconf6ton6x4pvsea7r/PHID-FILE-3sc5ctgg5ouuodxdfcv4/profile-%D0%91%D0%B5%D0%B7_%D0%B8%D0%BC%D0%B5%D0%BD%D0%B8.png)" class="phui-timeline-image"></div><div class="phui-timeline-wedge phui-timeline-border" style=""></div><div class="phui-timeline-group phui-timeline-border"><div class="phui-timeline-inner-content"><div class="phui-timeline-title phui-timeline-title-with-icon phui-timeline-title-with-menu"><span class="phui-timeline-icon-fill"><span class="visual-only phui-icon-view phui-font-fa fa-comment white phui-timeline-icon" aria-hidden="true"></span></span><a href="https://phabricator.megaputer.ru/p/efremov/" class="phui-handle phui-link-person">efremov</a> added a comment.<span class="phui-timeline-extra"><span class="phabricator-content-source-view">Via Web</span><span class="visual-only" aria-hidden="true"> · </span><a name="15507" id="15507" class="phabricator-anchor-view"></a><a href="https://phabricator.megaputer.ru/D782#15507">Wed, Aug 12, 4:56 PM</a></span></div><a href="https://phabricator.megaputer.ru/D782#" class="phui-timeline-menu" aria-haspopup="true" aria-expanded="false" data-sigil="phui-dropdown-menu" data-meta="0_91"><span class="aural-only">Comment Actions</span><span class="visual-only phui-icon-view phui-font-fa fa-caret-down" aria-hidden="true"></span></a><div class="phui-timeline-core-content"><span class="transaction-comment" data-sigil="transaction-comment" data-meta="0_29"><div class="phabricator-remarkup"><p>line 402</p></div></span></div></div></div></div></div></div><div class="phui-timeline-event-view phui-timeline-spacer"></div></div></div><div class="phui-box phui-box-border mlt mll mlr phui-object-box phui-object-box-collapsed phui-object-box-flush"><div class="phui-header-shell "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header">Revision Update History</span></div><div class="phui-header-col3"></div></div></h1></div><form action="https://phabricator.megaputer.ru/D782#toc"><div class="aphront-table-wrap"><table class="aphront-table-view"><tbody><tr><th class="pri">Diff</th><th>ID</th><th class="aphront-table-view-nodevice">Base</th><th class="wide">Description</th><th class="date aphront-table-view-nodevice">Created</th><th class="center aphront-table-view-nodevice">Lint</th><th class="center aphront-table-view-nodevice">Unit</th><th class="center differential-update-history-old"></th><th class="center differential-update-history-new"></th></tr><tr class="differential-update-history-old-now"><td class="pri">Base</td><td><a href="https://phabricator.megaputer.ru/D782?id="></a></td><td class="aphront-table-view-nodevice"></td><td class="wide">Base</td><td class="date aphront-table-view-nodevice"></td><td class="center aphront-table-view-nodevice"></td><td class="center aphront-table-view-nodevice"></td><td class="center differential-update-history-old"><div class="differential-update-history-radio"><input type="radio" name="vs" id="UQ0_12" checked="checked"></div></td><td class="center differential-update-history-new"></td></tr><tr class="alt"><td class="pri">Diff 1</td><td><a href="https://phabricator.megaputer.ru/D782?id=2149">2149</a></td><td class="aphront-table-view-nodevice"><a href="https://phabricator.megaputer.ru/rPAf55f283fa92ff557a50a515bd58657387d382923">f55f283</a></td><td class="wide"></td><td class="date aphront-table-view-nodevice">Wed, Aug 12, 3:09 PM</td><td class="center aphront-table-view-nodevice"><div class="lintunit-star" title="Lint OK"><span class="diff-star-okay">★</span></div></td><td class="center aphront-table-view-nodevice"><div class="lintunit-star" title="Unit Tests OK"><span class="diff-star-okay">★</span></div></td><td class="center differential-update-history-old"><div class="differential-update-history-radio"><input type="radio" name="vs" value="2149" id="UQ0_13"></div></td><td class="center differential-update-history-new"><div class="differential-update-history-radio"><input type="radio" name="id" value="2149" data-sigil="differential-new-radio"></div></td></tr><tr><td class="pri">Diff 2</td><td><a href="https://phabricator.megaputer.ru/D782?id=2152">2152</a></td><td class="aphront-table-view-nodevice"><a href="https://phabricator.megaputer.ru/rPAf55f283fa92ff557a50a515bd58657387d382923">f55f283</a></td><td class="wide">fixed genReferences.ts</td><td class="date aphront-table-view-nodevice">Wed, Aug 12, 3:20 PM</td><td class="center aphront-table-view-nodevice"><div class="lintunit-star" title="Lint OK"><span class="diff-star-okay">★</span></div></td><td class="center aphront-table-view-nodevice"><div class="lintunit-star" title="Unit Tests OK"><span class="diff-star-okay">★</span></div></td><td class="center differential-update-history-old"><div class="differential-update-history-radio"><input type="radio" name="vs" value="2152" id="UQ0_14"></div></td><td class="center differential-update-history-new"><div class="differential-update-history-radio"><input type="radio" name="id" value="2152" data-sigil="differential-new-radio"></div></td></tr><tr class="alt"><td class="pri">Diff 3</td><td><a href="https://phabricator.megaputer.ru/D782?id=2154">2154</a></td><td class="aphront-table-view-nodevice"><a href="https://phabricator.megaputer.ru/rPAf55f283fa92ff557a50a515bd58657387d382923">f55f283</a></td><td class="wide">fixed genReferences.ts #2</td><td class="date aphront-table-view-nodevice">Wed, Aug 12, 3:24 PM</td><td class="center aphront-table-view-nodevice"><div class="lintunit-star" title="Lint OK"><span class="diff-star-okay">★</span></div></td><td class="center aphront-table-view-nodevice"><div class="lintunit-star" title="Unit Tests OK"><span class="diff-star-okay">★</span></div></td><td class="center differential-update-history-old"><div class="differential-update-history-radio"><input type="radio" name="vs" value="2154" id="UQ0_15"></div></td><td class="center differential-update-history-new"><div class="differential-update-history-radio"><input type="radio" name="id" value="2154" data-sigil="differential-new-radio"></div></td></tr><tr><td class="pri">Diff 4</td><td><a href="https://phabricator.megaputer.ru/D782?id=2156">2156</a></td><td class="aphront-table-view-nodevice"><a href="https://phabricator.megaputer.ru/rPAf55f283fa92ff557a50a515bd58657387d382923">f55f283</a></td><td class="wide">some fixes</td><td class="date aphront-table-view-nodevice">Wed, Aug 12, 3:49 PM</td><td class="center aphront-table-view-nodevice"><div class="lintunit-star" title="Lint OK"><span class="diff-star-okay">★</span></div></td><td class="center aphront-table-view-nodevice"><div class="lintunit-star" title="Unit Tests OK"><span class="diff-star-okay">★</span></div></td><td class="center differential-update-history-old"><div class="differential-update-history-radio"><input type="radio" name="vs" value="2156" id="UQ0_16"></div></td><td class="center differential-update-history-new"><div class="differential-update-history-radio"><input type="radio" name="id" value="2156" data-sigil="differential-new-radio"></div></td></tr><tr class="alt"><td class="pri">Diff 5</td><td><a href="https://phabricator.megaputer.ru/D782?id=2157">2157</a></td><td class="aphront-table-view-nodevice"><a href="https://phabricator.megaputer.ru/rPAf55f283fa92ff557a50a515bd58657387d382923">f55f283</a></td><td class="wide">added ToolBarMode</td><td class="date aphront-table-view-nodevice">Wed, Aug 12, 4:00 PM</td><td class="center aphront-table-view-nodevice"><div class="lintunit-star" title="Lint OK"><span class="diff-star-okay">★</span></div></td><td class="center aphront-table-view-nodevice"><div class="lintunit-star" title="Unit Tests OK"><span class="diff-star-okay">★</span></div></td><td class="center differential-update-history-old"><div class="differential-update-history-radio"><input type="radio" name="vs" value="2157" id="UQ0_17"></div></td><td class="center differential-update-history-new"><div class="differential-update-history-radio"><input type="radio" name="id" value="2157" data-sigil="differential-new-radio"></div></td></tr><tr class="differential-update-history-new-now"><td class="pri">Diff 6</td><td><a href="https://phabricator.megaputer.ru/D782?id=2160">2160</a></td><td class="aphront-table-view-nodevice"><a href="https://phabricator.megaputer.ru/rPAf55f283fa92ff557a50a515bd58657387d382923">f55f283</a></td><td class="wide">misprint</td><td class="date aphront-table-view-nodevice">Wed, Aug 12, 4:42 PM</td><td class="center aphront-table-view-nodevice"><div class="lintunit-star" title="Lint OK"><span class="diff-star-okay">★</span></div></td><td class="center aphront-table-view-nodevice"><div class="lintunit-star" title="Unit Tests OK"><span class="diff-star-okay">★</span></div></td><td class="center differential-update-history-old"></td><td class="center differential-update-history-new"><div class="differential-update-history-radio"><input type="radio" name="id" value="2160" checked="checked" data-sigil="differential-new-radio"></div></td></tr></tbody></table></div><div class="differential-update-history-footer"><label>Whitespace Changes:<select name="whitespace"><option value="ignore-all">Ignore All</option><option value="ignore-most" selected="selected">Ignore Most</option><option value="ignore-trailing">Ignore Trailing</option><option value="show-all">Show All</option></select></label><button>Show Diff</button></div></form></div><div class="phui-box phui-box-border mlt mll mlr phui-object-box phui-object-box-collapsed"><div class="phui-header-shell "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header">Local Commits</span></div><div class="phui-header-col3"></div></div></h1></div><div class="aphront-table-wrap"><table class="aphront-table-view"><tbody><tr><th>Commit</th><th>Tree</th><th>Parents</th><th>Author</th><th class="wide">Summary</th><th class="date">Date</th></tr><tr><td>ad4ae051e12d</td><td>dfecf8677310</td><td><a href="https://phabricator.megaputer.ru/rPAf55f283fa92ff557a50a515bd58657387d382923">f55f283fa92f</a></td><td>Artem Semenov</td><td class="wide"><div data-sigil="aphront-more-view">WTM:S1:E1:R2:18091 added floating toolbar mode <a href="https://phabricator.megaputer.ru/D782#" data-sigil="aphront-more-view-show-more" data-mustcapture="1" data-meta="0_113">(Show More…)</a></div></td><td class="date">Wed, Aug 12, 2:50 PM</td></tr></tbody></table></div></div><div class="phui-box phui-box-border mlt mll mlr phui-object-box phui-object-box-collapsed"><div class="phui-header-shell "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header">Table of Contents</span></div><div class="phui-header-col3"></div></div></h1></div><div class="aphront-table-wrap"><table class="aphront-table-view"><tbody><tr><th class="differential-toc-char center"></th><th class="differential-toc-prop center"></th><th class="differential-toc-ftype center"></th><th class="differential-toc-file wide">Path</th><th class="differential-toc-cov aphront-table-view-nodevice">Coverage (All)</th><th class="differential-toc-cov aphront-table-view-nodevice">Coverage (Touched)</th></tr><tr><td class="differential-toc-char center"><span class="phui-text-black">M</span></td><td class="differential-toc-prop center"></td><td class="differential-toc-ftype center"></td><td class="differential-toc-file wide"><a href="https://phabricator.megaputer.ru/D782#f849bdae" data-sigil="differential-load" data-meta="0_114">trunk/WebUI/gwt/src/polyanalyst/client/component/TreeMap.java</a> (5 lines)</td><td class="differential-toc-cov aphront-table-view-nodevice"><em>-</em></td><td class="differential-toc-cov aphront-table-view-nodevice"><em>-</em></td></tr><tr class="alt"><td class="differential-toc-char center"><span class="phui-text-black">M</span></td><td class="differential-toc-prop center"></td><td class="differential-toc-ftype center"></td><td class="differential-toc-file wide"><a href="https://phabricator.megaputer.ru/D782#5b70ca53" data-sigil="differential-load" data-meta="0_115">trunk/WebUI/paCharts/css/treemap.css</a> (24 lines)</td><td class="differential-toc-cov aphront-table-view-nodevice"><em>-</em></td><td class="differential-toc-cov aphront-table-view-nodevice"><em>-</em></td></tr><tr><td class="differential-toc-char center"><span class="phui-text-black">M</span></td><td class="differential-toc-prop center"></td><td class="differential-toc-ftype center"></td><td class="differential-toc-file wide"><a href="https://phabricator.megaputer.ru/D782#9113bd63" data-sigil="differential-load" data-meta="0_116">trunk/WebUI/paCharts/src/treemap/treemap.ts</a> (222 lines)</td><td class="differential-toc-cov aphront-table-view-nodevice"><em>-</em></td><td class="differential-toc-cov aphront-table-view-nodevice"><em>-</em></td></tr><tr class="alt"><td class="differential-toc-char center"><span class="phui-text-green">A</span></td><td class="differential-toc-prop center"><span title="Properties Changed">M</span></td><td class="differential-toc-ftype center"></td><td class="differential-toc-file wide"><a href="https://phabricator.megaputer.ru/D782#4be4e593" data-sigil="differential-load" data-meta="0_117">trunk/WebUI/widgets/css/dropdownmenu.css</a> (32 lines)</td><td class="differential-toc-cov aphront-table-view-nodevice"><em>-</em></td><td class="differential-toc-cov aphront-table-view-nodevice"><em>-</em></td></tr><tr><td class="differential-toc-char center"><span class="phui-text-green">A</span></td><td class="differential-toc-prop center"><span title="Properties Changed">M</span></td><td class="differential-toc-ftype center"></td><td class="differential-toc-file wide"><a href="https://phabricator.megaputer.ru/D782#0fe847e8" data-sigil="differential-load" data-meta="0_118">trunk/WebUI/widgets/src/dropdownmenu.ts</a> (64 lines)</td><td class="differential-toc-cov aphront-table-view-nodevice"><em>-</em></td><td class="differential-toc-cov aphront-table-view-nodevice"><em>-</em></td></tr><tr class="alt"><td class="differential-toc-char center"><span class="phui-text-black">M</span></td><td class="differential-toc-prop center"></td><td class="differential-toc-ftype center"></td><td class="differential-toc-file wide"><a href="https://phabricator.megaputer.ru/D782#07851cdb" data-sigil="differential-load" data-meta="0_119">trunk/WebUI/widgets/src/genReferences.ts</a> (1 line)</td><td class="differential-toc-cov aphront-table-view-nodevice"><em>-</em></td><td class="differential-toc-cov aphront-table-view-nodevice"><em>-</em></td></tr></tbody></table></div><legend class="phabricator-anchor-navigation-marker" data-sigil="marker" data-meta="0_120"></legend><a name="toc" id="toc" class="phabricator-anchor-view"></a><div class="differential-toc-buttons grouped"><a class="button differential-toc-reveal-all" data-sigil="differential-reveal-all" data-mustcapture="1">Show All Context</a></div></div><div class="phui-box phui-box-border mlt mll mlr phui-object-box phui-object-box-collapsed"><div class="phui-header-shell "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header">Diff 2160</span></div><div class="phui-header-col3"></div></div></h1></div><div class="differential-review-stage" id="differential-review-stage"><div class="differential-changeset repository-crossreference" id="diff-f849bdae" data-sigil="differential-changeset" data-meta="0_123" data-autoid="autoid_14"><legend class="phabricator-anchor-navigation-marker" data-sigil="marker" data-meta="0_122"></legend><a name="f849bdae" id="f849bdae" class="phabricator-anchor-view"></a><div class="differential-changeset-buttons"><a class="button grey dropdown" href="https://phabricator.megaputer.ru/D782#" target="_blank" data-meta="0_121" data-sigil="differential-view-options">View Options<span class="caret"></span></a></div><h1 class="differential-file-icon-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o" aria-hidden="true"></span>trunk/WebUI/gwt/src/polyanalyst/client/component/TreeMap.java</h1><div class="changeset-view-content" data-sigil="changeset-view-content"><table class="differential-diff remarkup-code PhabricatorMonospaced diff-2up" data-sigil="differential-diff"><colgroup><col class="num"><col class="left"><col class="num"><col class="copy"><col class="right"><col class="cov"></colgroup><tbody><tr data-sigil="context-target"><td colspan="2" class="show-more"><a href="https://phabricator.megaputer.ru/D782#" data-mustcapture="1" data-sigil="show-more" data-meta="4_0">Show All 39 Lines</a></td><th class="show-context-line">18</th><td colspan="3" class="show-context"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">TreeMap</span> <span class="kd">extends</span> <span class="n">PAComponentWidgetBase</span> <span class="o">{</span>
</td></tr><tr><th id="C12541OL40">40</th><td class="">  <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">BuildComponentImpl</span><span class="o">()</span> <span class="o">{</span>
</td><th id="C12541NL40">40</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>  <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">BuildComponentImpl</span><span class="o">()</span> <span class="o">{</span>
</td></tr><tr><th id="C12541OL41">41</th><td class="">    <span class="k">if</span> <span class="o">(</span><span class="n">treemap</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
</td><th id="C12541NL41">41</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="k">if</span> <span class="o">(</span><span class="n">treemap</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
</td></tr><tr><th id="C12541OL42">42</th><td class="">      <span class="n">treemap</span><span class="o">.</span><span class="na">setParent</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
</td><th id="C12541NL42">42</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>      <span class="n">treemap</span><span class="o">.</span><span class="na">setParent</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
</td></tr><tr><th id="C12541OL43">43</th><td class="">
</td><th id="C12541NL43">43</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12541OL44">44</th><td class="">    <span class="n">SimplePanel</span> <span class="n">parent</span> <span class="o">=</span> <span class="n">jscHelper</span><span class="o">.</span><span class="na">createParent</span><span class="o">();</span>
</td><th id="C12541NL44">44</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="n">SimplePanel</span> <span class="n">parent</span> <span class="o">=</span> <span class="n">jscHelper</span><span class="o">.</span><span class="na">createParent</span><span class="o">();</span>
</td></tr><tr><th id="C12541OL45">45</th><td class="">
</td><th id="C12541NL45">45</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12541OL46">46</th><td class="">    <span class="n">treemap</span> <span class="o">=</span> <span class="n">TreeMapWidget</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">accss</span><span class="o">);</span>
</td><th id="C12541NL46">46</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="n">treemap</span> <span class="o">=</span> <span class="n">TreeMapWidget</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">accss</span><span class="o">);</span>
</td></tr><tr><th id="C12541OL47">47</th><td class="">    <span class="n">treemap</span><span class="o">.</span><span class="na">setParent</span><span class="o">(</span><span class="n">parent</span><span class="o">.</span><span class="na">getElement</span><span class="o">());</span>
</td><th id="C12541NL47">47</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="n">treemap</span><span class="o">.</span><span class="na">setParent</span><span class="o">(</span><span class="n">parent</span><span class="o">.</span><span class="na">getElement</span><span class="o">());</span>
</td></tr><tr><th></th><td class=""></td><th id="C12541NL48">48</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="n">treemap</span><span class="o">.</span><span class="na">setFloatToolBarParent</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">getContainer</span><span class="o">().</span><span class="na">getParent</span><span class="o">().</span><span class="na">getElement</span><span class="o">());</span>
</td></tr><tr class="inline" data-sigil="inline-row"><th></th><td class="left"></td><th></th><td colspan="3" class="right3" id="anchor-inline-4178"><div class="differential-inline-comment inline-comment-ghost" data-sigil="differential-inline-comment" data-meta="4_9"><div class="differential-inline-comment-head grouped"><div class="inline-head-left">efremov<span class="phui-tag-view phui-tag-type-shade phui-tag-shade phui-tag-shade-red phui-tag-shade-slim mml inline-draft-text"><span class="phui-tag-core ">Unsubmitted</span></span><a class="ghost-icon" href="https://phabricator.megaputer.ru/D782?id=2149#inline-4178" target="_blank"><span class="visual-only phui-icon-view phui-font-fa fa-fast-backward" data-meta="4_4" data-sigil="has-tooltip" aria-hidden="true"></span></a></div><div class="inline-head-right"><a name="inline-4178" id="inline-4178" class="differential-inline-comment-anchor"></a><div class="done-label button-not-done">Not Done</div><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon " data-sigil="has-tooltip differential-inline-reply" data-meta="4_5" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-reply" aria-hidden="true"></span><div class="phui-button-text"></div></a></span><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon phui-button-bar-first" data-sigil="has-tooltip hide-inline" data-meta="4_6" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-times" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-middle" data-sigil="has-tooltip differential-inline-prev" data-meta="4_7" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-up" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-last" data-sigil="has-tooltip differential-inline-next" data-meta="4_8" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-down" aria-hidden="true"></span><div class="phui-button-text"></div></a></span></div></div><div class="differential-inline-comment-content"><div class="phabricator-remarkup"><p>jscHelper.comp == this</p></div></div></div></td></tr><tr><th id="C12541OL48">48</th><td class="">    <span class="n">treemap</span><span class="o">.</span><span class="na">setDrillDownHandler</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
</td><th id="C12541NL49">49</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="n">treemap</span><span class="o">.</span><span class="na">setDrillDownHandler</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
</td></tr><tr><th id="C12541OL49">49</th><td class="">  <span class="o">}</span>
</td><th id="C12541NL50">50</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>  <span class="o">}</span>
</td></tr><tr><th id="C12541OL50">50</th><td class="">
</td><th id="C12541NL51">51</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12541OL51">51</th><td class="">  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onDrillDown</span><span class="o">(</span><span class="n">String</span> <span class="n">data</span><span class="o">,</span> <span class="kd">final</span> <span class="kt">boolean</span> <span class="n">ctrlKey</span><span class="o">)</span> <span class="o">{</span>
</td><th id="C12541NL52">52</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onDrillDown</span><span class="o">(</span><span class="n">String</span> <span class="n">data</span><span class="o">,</span> <span class="kd">final</span> <span class="kt">boolean</span> <span class="n">ctrlKey</span><span class="o">)</span> <span class="o">{</span>
</td></tr><tr><th id="C12541OL52">52</th><td class="">    <span class="n">String</span> <span class="n">action</span> <span class="o">=</span>
</td><th id="C12541NL53">53</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="n">String</span> <span class="n">action</span> <span class="o">=</span>
</td></tr><tr><th id="C12541OL53">53</th><td class="">        <span class="n">URLBuilder</span><span class="o">.</span><span class="na">DynData</span><span class="o">(</span><span class="s">"/polyanalyst/treemap_drilldown"</span><span class="o">).</span><span class="na">putPrjUUID</span><span class="o">(</span><span class="n">ReportBook</span><span class="o">.</span><span class="na">getProjectUUID</span><span class="o">())</span>
</td><th id="C12541NL54">54</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="n">URLBuilder</span><span class="o">.</span><span class="na">DynData</span><span class="o">(</span><span class="s">"/polyanalyst/treemap_drilldown"</span><span class="o">).</span><span class="na">putPrjUUID</span><span class="o">(</span><span class="n">ReportBook</span><span class="o">.</span><span class="na">getProjectUUID</span><span class="o">())</span>
</td></tr><tr><th id="C12541OL54">54</th><td class="">            <span class="o">.</span><span class="na">putPubl</span><span class="o">(</span><span class="n">ReportBook</span><span class="o">.</span><span class="na">getPubId</span><span class="o">()).</span><span class="na">putSliceId</span><span class="o">(</span><span class="n">getSliceId</span><span class="o">()).</span><span class="na">putCID</span><span class="o">(</span><span class="n">getID</span><span class="o">()).</span><span class="na">get</span><span class="o">();</span>
</td><th id="C12541NL55">55</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="o">.</span><span class="na">putPubl</span><span class="o">(</span><span class="n">ReportBook</span><span class="o">.</span><span class="na">getPubId</span><span class="o">()).</span><span class="na">putSliceId</span><span class="o">(</span><span class="n">getSliceId</span><span class="o">()).</span><span class="na">putCID</span><span class="o">(</span><span class="n">getID</span><span class="o">()).</span><span class="na">get</span><span class="o">();</span>
</td></tr><tr><th id="C12541OL55">55</th><td class="">
</td><th id="C12541NL56">56</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr data-sigil="context-target"><td colspan="2" class="show-more"><a href="https://phabricator.megaputer.ru/D782#" data-mustcapture="1" data-sigil="show-more" data-meta="4_1">▲ Show 20 Lines</a> • <a href="https://phabricator.megaputer.ru/D782#" data-mustcapture="1" data-sigil="show-more" data-meta="4_2">Show All 53 Lines</a> • <a href="https://phabricator.megaputer.ru/D782#" data-mustcapture="1" data-sigil="show-more" data-meta="4_3">▼ Show 20 Line(s)</a></td><th class="show-context-line">106</th><td colspan="3" class="show-context"><span class="kd">class</span> <span class="nc">TreeMapWidget</span> <span class="kd">extends</span> <span class="n">JavaScriptObject</span> <span class="o">{</span>
</td></tr><tr><th id="C12541OL109">109</th><td class="">  <span class="kd">static</span> <span class="kd">native</span> <span class="n">TreeMapWidget</span> <span class="nf">create</span><span class="o">(</span><span class="n">TreeMapReportAccess</span> <span class="n">access</span><span class="o">)</span> <span class="cm">/*-{</span>
</td><th id="C12541NL110">110</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>  <span class="kd">static</span> <span class="kd">native</span> <span class="n">TreeMapWidget</span> <span class="nf">create</span><span class="o">(</span><span class="n">TreeMapReportAccess</span> <span class="n">access</span><span class="o">)</span> <span class="cm">/*-{</span>
</td></tr><tr><th id="C12541OL110">110</th><td class=""><span class="cm">    return new $wnd.paTreeMap.TreeMap(access);</span>
</td><th id="C12541NL111">111</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="cm">    return new $wnd.paTreeMap.TreeMap(access);</span>
</td></tr><tr><th id="C12541OL111">111</th><td class=""><span class="cm">  }-*/</span><span class="o">;</span>
</td><th id="C12541NL112">112</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="cm">  }-*/</span><span class="o">;</span>
</td></tr><tr><th id="C12541OL112">112</th><td class="">
</td><th id="C12541NL113">113</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12541OL113">113</th><td class="">  <span class="kd">public</span> <span class="kd">final</span> <span class="kd">native</span> <span class="kt">void</span> <span class="nf">setParent</span><span class="o">(</span><span class="n">Element</span> <span class="n">parent</span><span class="o">)</span> <span class="cm">/*-{</span>
</td><th id="C12541NL114">114</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>  <span class="kd">public</span> <span class="kd">final</span> <span class="kd">native</span> <span class="kt">void</span> <span class="nf">setParent</span><span class="o">(</span><span class="n">Element</span> <span class="n">parent</span><span class="o">)</span> <span class="cm">/*-{</span>
</td></tr><tr><th id="C12541OL114">114</th><td class=""><span class="cm">    this.setParent(parent);</span>
</td><th id="C12541NL115">115</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="cm">    this.setParent(parent);</span>
</td></tr><tr><th id="C12541OL115">115</th><td class=""><span class="cm">  }-*/</span><span class="o">;</span>
</td><th id="C12541NL116">116</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="cm">  }-*/</span><span class="o">;</span>
</td></tr><tr><th id="C12541OL116">116</th><td class="">
</td><th id="C12541NL117">117</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12541NL118">118</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>  <span class="kd">public</span> <span class="kd">final</span> <span class="kd">native</span> <span class="kt">void</span> <span class="nf">setFloatToolBarParent</span><span class="o">(</span><span class="n">Element</span> <span class="n">parent</span><span class="o">)</span> <span class="cm">/*-{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12541NL119">119</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="cm">    this.setFloatToolBarParent(parent);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12541NL120">120</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="cm">  }-*/</span><span class="o">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12541NL121">121</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12541OL117">117</th><td class="">  <span class="kd">public</span> <span class="kd">final</span> <span class="kd">native</span> <span class="kt">void</span> <span class="nf">resize</span><span class="o">(</span><span class="kt">int</span> <span class="n">width</span><span class="o">,</span> <span class="kt">int</span> <span class="n">height</span><span class="o">)</span> <span class="cm">/*-{</span>
</td><th id="C12541NL122">122</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>  <span class="kd">public</span> <span class="kd">final</span> <span class="kd">native</span> <span class="kt">void</span> <span class="nf">resize</span><span class="o">(</span><span class="kt">int</span> <span class="n">width</span><span class="o">,</span> <span class="kt">int</span> <span class="n">height</span><span class="o">)</span> <span class="cm">/*-{</span>
</td></tr><tr><th id="C12541OL118">118</th><td class=""><span class="cm">    this.resize(width, height);</span>
</td><th id="C12541NL123">123</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="cm">    this.resize(width, height);</span>
</td></tr><tr><th id="C12541OL119">119</th><td class=""><span class="cm">  }-*/</span><span class="o">;</span>
</td><th id="C12541NL124">124</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="cm">  }-*/</span><span class="o">;</span>
</td></tr><tr><th id="C12541OL120">120</th><td class="">
</td><th id="C12541NL125">125</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12541OL121">121</th><td class="">  <span class="kd">public</span> <span class="kd">final</span> <span class="kd">native</span> <span class="kt">void</span> <span class="nf">setDrillDownHandler</span><span class="o">(</span><span class="kd">final</span> <span class="n">Object</span> <span class="n">handler</span><span class="o">)</span> <span class="cm">/*-{</span>
</td><th id="C12541NL126">126</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>  <span class="kd">public</span> <span class="kd">final</span> <span class="kd">native</span> <span class="kt">void</span> <span class="nf">setDrillDownHandler</span><span class="o">(</span><span class="kd">final</span> <span class="n">Object</span> <span class="n">handler</span><span class="o">)</span> <span class="cm">/*-{</span>
</td></tr><tr><th id="C12541OL122">122</th><td class=""><span class="cm">    this.setDrillDownHandler(function(data) {</span>
</td><th id="C12541NL127">127</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="cm">    this.setDrillDownHandler(function(data) {</span>
</td></tr><tr><th id="C12541OL123">123</th><td class=""><span class="cm">      handler.@polyanalyst.client.component.TreeMap::onDrillDown(Ljava/lang/String;Z)(data, false);</span>
</td><th id="C12541NL128">128</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="cm">      handler.@polyanalyst.client.component.TreeMap::onDrillDown(Ljava/lang/String;Z)(data, false);</span>
</td></tr><tr><th id="C12541OL124">124</th><td class=""><span class="cm">    });</span>
</td><th id="C12541NL129">129</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="cm">    });</span>
</td></tr><tr><th id="C12541OL125">125</th><td class=""><span class="cm">  }-*/</span><span class="o">;</span>
</td><th id="C12541NL130">130</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="cm">  }-*/</span><span class="o">;</span>
</td></tr><tr><th id="C12541OL126">126</th><td class=""><span class="o">}</span>
</td><th id="C12541NL131">131</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="o">}</span>
</td></tr></tbody></table></div></div><div class="differential-changeset repository-crossreference" id="diff-5b70ca53" data-sigil="differential-changeset" data-meta="0_126" data-autoid="autoid_15"><legend class="phabricator-anchor-navigation-marker" data-sigil="marker" data-meta="0_125"></legend><a name="5b70ca53" id="5b70ca53" class="phabricator-anchor-view"></a><div class="differential-changeset-buttons"><a class="button grey dropdown" href="https://phabricator.megaputer.ru/D782#" target="_blank" data-meta="0_124" data-sigil="differential-view-options">View Options<span class="caret"></span></a></div><h1 class="differential-file-icon-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o" aria-hidden="true"></span>trunk/WebUI/paCharts/css/treemap.css</h1><div class="changeset-view-content" data-sigil="changeset-view-content"><table class="differential-diff remarkup-code PhabricatorMonospaced diff-2up" data-sigil="differential-diff"><colgroup><col class="num"><col class="left"><col class="num"><col class="copy"><col class="right"><col class="cov"></colgroup><tbody><tr data-sigil="context-target"><td colspan="2" class="show-more"><a href="https://phabricator.megaputer.ru/D782#" data-mustcapture="1" data-sigil="show-more" data-meta="5_0">Show First 20 Lines</a> • <a href="https://phabricator.megaputer.ru/D782#" data-mustcapture="1" data-sigil="show-more" data-meta="5_1">Show All 147 Lines</a> • <a href="https://phabricator.megaputer.ru/D782#" data-mustcapture="1" data-sigil="show-more" data-meta="5_2">▼ Show 20 Line(s)</a></td><th class="show-context-line">147</th><td colspan="3" class="show-context"><span class="nt">table</span><span class="nc">.tm-toolbar</span> <span class="nt">input</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="s1">'number'</span><span class="o">]</span> <span class="p">{</span>
</td></tr><tr><th id="C12542OL148">148</th><td class="">    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">appearance</span><span class="o">:</span><span class="n">textfield</span><span class="p">;</span>
</td><th id="C12542NL148">148</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="o">-</span><span class="n">moz</span><span class="o">-</span><span class="n">appearance</span><span class="o">:</span><span class="n">textfield</span><span class="p">;</span>
</td></tr><tr><th id="C12542OL149">149</th><td class=""><span class="p">}</span>
</td><th id="C12542NL149">149</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="p">}</span>
</td></tr><tr><th id="C12542OL150">150</th><td class="">
</td><th id="C12542NL150">150</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12542OL151">151</th><td class=""><span class="nt">table</span><span class="nc">.tm-toolbar</span> <span class="nt">input</span><span class="o">:</span><span class="nd">:-webkit-outer-spin-button</span><span class="o">,</span>
</td><th id="C12542NL151">151</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="nt">table</span><span class="nc">.tm-toolbar</span> <span class="nt">input</span><span class="o">:</span><span class="nd">:-webkit-outer-spin-button</span><span class="o">,</span>
</td></tr><tr><th id="C12542OL152">152</th><td class=""><span class="nt">table</span><span class="nc">.tm-toolbar</span> <span class="nt">input</span><span class="o">:</span><span class="nd">:-webkit-inner-spin-button</span> <span class="p">{</span>
</td><th id="C12542NL152">152</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="nt">table</span><span class="nc">.tm-toolbar</span> <span class="nt">input</span><span class="o">:</span><span class="nd">:-webkit-inner-spin-button</span> <span class="p">{</span>
</td></tr><tr><th id="C12542OL153">153</th><td class="">    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">appearance</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
</td><th id="C12542NL153">153</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="o">-</span><span class="n">webkit</span><span class="o">-</span><span class="n">appearance</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
</td></tr><tr><th id="C12542OL154">154</th><td class=""><span class="p">}</span>
</td><th id="C12542NL154">154</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="p">}</span>
</td></tr><tr><th id="C12542OL155">155</th><td class="">
</td><th id="C12542NL155">155</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL156">156</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="nc">.toolbar-dialog</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL157">157</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">display</span><span class="o">:</span> <span class="k">inline</span><span class="o">-</span><span class="k">block</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL158">158</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">position</span><span class="o">:</span> <span class="k">absolute</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL159">159</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">left</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL160">160</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">top</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL161">161</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">padding</span><span class="o">:</span> <span class="m">15px</span> <span class="m">5px</span> <span class="m">5px</span> <span class="m">5px</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL162">162</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">background-color</span><span class="o">:</span> <span class="m">#ffffff</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL163">163</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">cursor</span><span class="o">:</span> <span class="k">default</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL164">164</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">border</span><span class="o">:</span> <span class="m">1px</span> <span class="k">solid</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">.</span><span class="m">2</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL165">165</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="n">box</span><span class="o">-</span><span class="n">shadow</span><span class="o">:</span> <span class="m">0</span> <span class="m">6px</span> <span class="m">12px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">.</span><span class="m">2</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL166">166</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL167">167</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12542OL156">156</th><td class=""><span class="nc">.color-slider-handle</span> <span class="p">{</span>
</td><th id="C12542NL168">168</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="nc">.color-slider-handle</span> <span class="p">{</span>
</td></tr><tr><th id="C12542OL157">157</th><td class="">    <span class="k">position</span><span class="o">:</span> <span class="k">relative</span><span class="p">;</span>
</td><th id="C12542NL169">169</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="k">position</span><span class="o">:</span> <span class="k">relative</span><span class="p">;</span>
</td></tr><tr><th id="C12542OL158">158</th><td class=""><span class="p">}</span>
</td><th id="C12542NL170">170</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="p">}</span>
</td></tr><tr><th id="C12542OL159">159</th><td class="">
</td><th id="C12542NL171">171</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12542OL160">160</th><td class=""><span class="nc">.color-slider-handle</span> <span class="nc">.marker</span> <span class="p">{</span>
</td><th id="C12542NL172">172</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="nc">.color-slider-handle</span> <span class="nc">.marker</span> <span class="p">{</span>
</td></tr><tr><th id="C12542OL161">161</th><td class="">    <span class="k">position</span><span class="o">:</span> <span class="k">absolute</span><span class="p">;</span>
</td><th id="C12542NL173">173</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="k">position</span><span class="o">:</span> <span class="k">absolute</span><span class="p">;</span>
</td></tr><tr><th id="C12542OL162">162</th><td class="">    <span class="k">width</span><span class="o">:</span> <span class="m">16px</span><span class="p">;</span>
</td><th id="C12542NL174">174</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="k">width</span><span class="o">:</span> <span class="m">16px</span><span class="p">;</span>
</td></tr><tr><th id="C12542OL163">163</th><td class="">    <span class="k">height</span><span class="o">:</span> <span class="m">16px</span><span class="p">;</span>
</td><th id="C12542NL175">175</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="k">height</span><span class="o">:</span> <span class="m">16px</span><span class="p">;</span>
</td></tr><tr><th id="C12542OL164">164</th><td class="">    <span class="k">border</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
</td><th id="C12542NL176">176</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="k">border</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span>
</td></tr><tr><th id="C12542OL165">165</th><td class="">    <span class="k">background-repeat</span><span class="o">:</span> <span class="k">no-repeat</span><span class="p">;</span>
</td><th id="C12542NL177">177</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="k">background-repeat</span><span class="o">:</span> <span class="k">no-repeat</span><span class="p">;</span>
</td></tr><tr><th id="C12542OL166">166</th><td class="">    <span class="k">background-image</span><span class="o">:</span> <span class="sx">url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABvklEQVR4nKWSTasSURjHfzNjTXkLKawL0UYihCCdjQvbihudDyAVcq4tB0lE3IffwI/Qoo0QgS/hwnUgtJcg0IUtakboUjSp42nRUUYxbnB/8HBeOP//eZ5zHo19NMAATOC6mgeAryIAZFhgHBFfA2KpVKqYy+XeRqPR5Xw+/wRsVBw10IAIcALcymazL9Pp9CvLsnwgH4vF7k+n0w8hk03YRFcp3wYe5PP5947j+LPZbCOllIvFQtZqtV/FYvGjaZqPgLjKUt8aRIG7pmk+LpVKn1ut1sr3fRkmCALZbrfX5XL5WzwefwKcKp0OcJpIJAqO4/zsdDo7keu6st/vv3Ndd7c3Go1ktVpdWpb1DLgDXAV42Gg0fo/H4z2xbdtnhULhqW3bZ2GTyWQi6/V6ACSAqA6caJp2JZPJAOB5HkKICjAcDAZvgKEQouJ5HgDJZBLDMDRVQkRXr79DCPEcGPZ6vS8AahwKIV7stwwGoOnqC8OYW/GWw/XhF16KCAedBaxs264cOWv+y2AZ3uh2u6//8/IVIC9bwjoCnAdBsG42m5ELjyt835fAD2CtAfeAm8AN/vb4RSyB78A58PUPIh7R/ZkID9QAAAAASUVORK5CYII=)</span><span class="p">;</span>
</td><th id="C12542NL178">178</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="k">background-image</span><span class="o">:</span> <span class="sx">url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABvklEQVR4nKWSTasSURjHfzNjTXkLKawL0UYihCCdjQvbihudDyAVcq4tB0lE3IffwI/Qoo0QgS/hwnUgtJcg0IUtakboUjSp42nRUUYxbnB/8HBeOP//eZ5zHo19NMAATOC6mgeAryIAZFhgHBFfA2KpVKqYy+XeRqPR5Xw+/wRsVBw10IAIcALcymazL9Pp9CvLsnwgH4vF7k+n0w8hk03YRFcp3wYe5PP5947j+LPZbCOllIvFQtZqtV/FYvGjaZqPgLjKUt8aRIG7pmk+LpVKn1ut1sr3fRkmCALZbrfX5XL5WzwefwKcKp0OcJpIJAqO4/zsdDo7keu6st/vv3Ndd7c3Go1ktVpdWpb1DLgDXAV42Gg0fo/H4z2xbdtnhULhqW3bZ2GTyWQi6/V6ACSAqA6caJp2JZPJAOB5HkKICjAcDAZvgKEQouJ5HgDJZBLDMDRVQkRXr79DCPEcGPZ6vS8AahwKIV7stwwGoOnqC8OYW/GWw/XhF16KCAedBaxs264cOWv+y2AZ3uh2u6//8/IVIC9bwjoCnAdBsG42m5ELjyt835fAD2CtAfeAm8AN/vb4RSyB78A58PUPIh7R/ZkID9QAAAAASUVORK5CYII=)</span><span class="p">;</span>
</td></tr><tr><th id="C12542OL167">167</th><td class=""><span class="p">}</span>
</td><th id="C12542NL179">179</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="p">}</span>
</td></tr><tr><th id="C12542OL168">168</th><td class="">
</td><th id="C12542NL180">180</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12542OL169">169</th><td class=""><span class="nc">.color-slider-handle</span> <span class="nc">.back</span> <span class="p">{</span>
</td><th id="C12542NL181">181</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="nc">.color-slider-handle</span> <span class="nc">.back</span> <span class="p">{</span>
</td></tr><tr><th id="C12542OL170">170</th><td class="">    <span class="k">position</span><span class="o">:</span> <span class="k">absolute</span><span class="p">;</span>
</td><th id="C12542NL182">182</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="k">position</span><span class="o">:</span> <span class="k">absolute</span><span class="p">;</span>
</td></tr><tr><th id="C12542OL171">171</th><td class="">    <span class="k">left</span><span class="o">:</span> <span class="m">4px</span><span class="p">;</span>
</td><th id="C12542NL183">183</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="k">left</span><span class="o">:</span> <span class="m">4px</span><span class="p">;</span>
</td></tr><tr><th id="C12542OL172">172</th><td class="">    <span class="k">top</span><span class="o">:</span> <span class="m">4px</span><span class="p">;</span>
</td><th id="C12542NL184">184</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="k">top</span><span class="o">:</span> <span class="m">4px</span><span class="p">;</span>
</td></tr><tr><th id="C12542OL173">173</th><td class="">    <span class="k">width</span><span class="o">:</span> <span class="m">8px</span><span class="p">;</span>
</td><th id="C12542NL185">185</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="k">width</span><span class="o">:</span> <span class="m">8px</span><span class="p">;</span>
</td></tr><tr><th id="C12542OL174">174</th><td class="">    <span class="k">height</span><span class="o">:</span> <span class="m">8px</span><span class="p">;</span>
</td><th id="C12542NL186">186</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="k">height</span><span class="o">:</span> <span class="m">8px</span><span class="p">;</span>
</td></tr><tr><th id="C12542OL175">175</th><td class="">    <span class="k">background-color</span><span class="o">:</span> <span class="nb">red</span><span class="p">;</span>
</td><th id="C12542NL187">187</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="k">background-color</span><span class="o">:</span> <span class="nb">red</span><span class="p">;</span>
</td></tr><tr><th id="C12542OL176">176</th><td class=""><span class="p">}</span>
</td><th id="C12542NL188">188</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL189">189</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL190">190</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="nc">.treemap</span> <span class="nc">.menu-button</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL191">191</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">position</span><span class="o">:</span> <span class="k">absolute</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL192">192</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">padding</span><span class="o">:</span> <span class="m">5px</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL193">193</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">top</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL194">194</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">right</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL195">195</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">color</span><span class="o">:</span> <span class="nb">gray</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL196">196</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL197">197</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL198">198</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="nc">.treemap</span> <span class="nc">.dropdown-menu</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL199">199</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">top</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL200">200</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12542NL201">201</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="nt">No</span> <span class="nt">newline</span> <span class="nt">at</span> <span class="nt">end</span> <span class="nt">of</span> <span class="nt">file</span>
</td></tr></tbody></table></div></div><div class="differential-changeset repository-crossreference" id="diff-9113bd63" data-sigil="differential-changeset" data-meta="0_129" data-autoid="autoid_16"><legend class="phabricator-anchor-navigation-marker" data-sigil="marker" data-meta="0_128"></legend><a name="9113bd63" id="9113bd63" class="phabricator-anchor-view"></a><div class="differential-changeset-buttons"><a class="button grey dropdown" href="https://phabricator.megaputer.ru/D782#" target="_blank" data-meta="0_127" data-sigil="differential-view-options">View Options<span class="caret"></span></a></div><h1 class="differential-file-icon-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o" aria-hidden="true"></span>trunk/WebUI/paCharts/src/treemap/treemap.ts</h1><div class="changeset-view-content" data-sigil="changeset-view-content"><table class="differential-diff remarkup-code PhabricatorMonospaced diff-2up" data-sigil="differential-diff"><colgroup><col class="num"><col class="left"><col class="num"><col class="copy"><col class="right"><col class="cov"></colgroup><tbody><tr><th id="C12543OL1">1</th><td class=""><span class="kr">module</span> <span class="nx">paCharts.paTreeMap</span> <span class="p">{</span>
</td><th id="C12543NL1">1</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="kr">module</span> <span class="nx">paCharts.paTreeMap</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL2">2</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="kr">export</span> <span class="kr">enum</span> <span class="nx">ToolBarMode</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL3">3</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="nx">Normal</span><span class="p">,</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL4">4</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="nx">Hidden</span><span class="p">,</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL5">5</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="nx">FloatOnly</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL6">6</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL7">7</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL2">2</th><td class="">    <span class="kr">export</span> <span class="kr">class</span> <span class="nx">TreeMap</span> <span class="p">{</span>
</td><th id="C12543NL8">8</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>    <span class="kr">export</span> <span class="kr">class</span> <span class="nx">TreeMap</span> <span class="p">{</span>
</td></tr><tr><th id="C12543OL3">3</th><td class="">        <span class="kr">private</span> <span class="nx">view</span>: <span class="kt">TreeMapView</span><span class="p">;</span>
</td><th id="C12543NL9">9</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">view</span>: <span class="kt">TreeMapView</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL4">4</th><td class="">        <span class="kr">private</span> <span class="nx">access</span>: <span class="kt">TreeMapAccess</span><span class="p">;</span>
</td><th id="C12543NL10">10</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">access</span>: <span class="kt">TreeMapAccess</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL5">5</th><td class="">        <span class="kr">private</span> <span class="nx">element</span>: <span class="kt">HTMLDivElement</span><span class="p">;</span>
</td><th id="C12543NL11">11</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">element</span>: <span class="kt">HTMLDivElement</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL6">6</th><td class="">        <span class="kr">private</span> <span class="nx">toolbar</span>: <span class="kt">HTMLElement</span><span class="p">;</span>
</td><th id="C12543NL12">12</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">toolbar</span>: <span class="kt">HTMLElement</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL7">7</th><td class="">        <span class="kr">private</span> <span class="nx">gradientSlider</span>: <span class="kt">paWidgets.ReactControl</span><span class="o">&lt;</span><span class="nx">ReactControls</span><span class="p">.</span><span class="nx">GradientColorState</span><span class="o">&gt;</span><span class="p">;</span>
</td><th id="C12543NL13">13</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">gradientSlider</span>: <span class="kt">paWidgets.ReactControl</span><span class="o">&lt;</span><span class="nx">ReactControls</span><span class="p">.</span><span class="nx">GradientColorState</span><span class="o">&gt;</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL14">14</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">floatToolBarParent</span>: <span class="kt">HTMLDivElement</span><span class="p">;</span>
</td></tr><tr class="inline" data-sigil="inline-row"><th></th><td class="left"></td><th></th><td colspan="3" class="right3" id="anchor-inline-4183"><div class="differential-inline-comment inline-comment-ghost" data-sigil="differential-inline-comment" data-meta="6_17"><div class="differential-inline-comment-head grouped"><div class="inline-head-left">efremov<span class="phui-tag-view phui-tag-type-shade phui-tag-shade phui-tag-shade-red phui-tag-shade-slim mml inline-draft-text"><span class="phui-tag-core ">Unsubmitted</span></span><a class="ghost-icon" href="https://phabricator.megaputer.ru/D782?id=2149#inline-4183" target="_blank"><span class="visual-only phui-icon-view phui-font-fa fa-fast-backward" data-meta="6_12" data-sigil="has-tooltip" aria-hidden="true"></span></a></div><div class="inline-head-right"><a name="inline-4183" id="inline-4183" class="differential-inline-comment-anchor"></a><div class="done-label button-not-done">Not Done</div><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon " data-sigil="has-tooltip differential-inline-reply" data-meta="6_13" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-reply" aria-hidden="true"></span><div class="phui-button-text"></div></a></span><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon phui-button-bar-first" data-sigil="has-tooltip hide-inline" data-meta="6_14" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-times" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-middle" data-sigil="has-tooltip differential-inline-prev" data-meta="6_15" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-up" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-last" data-sigil="has-tooltip differential-inline-next" data-meta="6_16" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-down" aria-hidden="true"></span><div class="phui-button-text"></div></a></span></div></div><div class="differential-inline-comment-content"><div class="phabricator-remarkup"><p>Почему reportPanel? Почему не projectPanel?<br>
С учетом того, что метод называется setSectionPanel()<br>
панель должна называться sectionPanel.<br>
Почему метод называется setSectionPanel?<br>
Seciont - это сущность отчетов.</p></div></div></div></td></tr><tr><th id="C12543OL8">8</th><td class="">
</td><th id="C12543NL15">15</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL9">9</th><td class="">        <span class="kr">private</span> <span class="nx">areaSlider</span>: <span class="kt">paWidgets.RangeSlider</span><span class="p">;</span>
</td><th id="C12543NL16">16</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">areaSlider</span>: <span class="kt">paWidgets.RangeSlider</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL10">10</th><td class="">        <span class="kr">private</span> <span class="nx">statSlider</span>: <span class="kt">paWidgets.RangeSlider</span><span class="p">;</span>
</td><th id="C12543NL17">17</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">statSlider</span>: <span class="kt">paWidgets.RangeSlider</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL11">11</th><td class="">
</td><th id="C12543NL18">18</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL12">12</th><td class="">        <span class="kr">private</span> <span class="nx">areaMinValue</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</td><th id="C12543NL19">19</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">areaMinValue</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL13">13</th><td class="">        <span class="kr">private</span> <span class="nx">areaMaxValue</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</td><th id="C12543NL20">20</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">areaMaxValue</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL14">14</th><td class="">        <span class="kr">private</span> <span class="nx">statMinValue</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</td><th id="C12543NL21">21</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">statMinValue</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL15">15</th><td class="">        <span class="kr">private</span> <span class="nx">statMaxValue</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</td><th id="C12543NL22">22</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">statMaxValue</span>: <span class="kt">number</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL16">16</th><td class="">
</td><th id="C12543NL23">23</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL17">17</th><td class="">        <span class="kr">private</span> <span class="nx">logScale</span>: <span class="kt">boolean</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</td><th id="C12543NL24">24</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">logScale</span>: <span class="kt">boolean</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL18">18</th><td class="">        <span class="kr">private</span> <span class="nx">areaSliderLogScale</span>: <span class="kt">boolean</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</td><th id="C12543NL25">25</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">areaSliderLogScale</span>: <span class="kt">boolean</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL19">19</th><td class="">        <span class="kr">private</span> <span class="nx">statSliderLogScale</span>: <span class="kt">boolean</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</td><th id="C12543NL26">26</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">statSliderLogScale</span>: <span class="kt">boolean</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL20">20</th><td class="">
</td><th id="C12543NL27">27</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL21">21</th><td class="">        <span class="kr">private</span> <span class="nx">areaMinInput</span>: <span class="kt">HTMLInputElement</span><span class="p">;</span>
</td><th id="C12543NL28">28</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">areaMinInput</span>: <span class="kt">HTMLInputElement</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL22">22</th><td class="">        <span class="kr">private</span> <span class="nx">areaMaxInput</span>: <span class="kt">HTMLInputElement</span><span class="p">;</span>
</td><th id="C12543NL29">29</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">areaMaxInput</span>: <span class="kt">HTMLInputElement</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL23">23</th><td class="">        <span class="kr">private</span> <span class="nx">statMinInput</span>: <span class="kt">HTMLInputElement</span><span class="p">;</span>
</td><th id="C12543NL30">30</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">statMinInput</span>: <span class="kt">HTMLInputElement</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL24">24</th><td class="">        <span class="kr">private</span> <span class="nx">statMaxInput</span>: <span class="kt">HTMLInputElement</span><span class="p">;</span>
</td><th id="C12543NL31">31</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">statMaxInput</span>: <span class="kt">HTMLInputElement</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL25">25</th><td class="">
</td><th id="C12543NL32">32</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL26">26</th><td class="">        <span class="kr">private</span> <span class="nx">prevWidth</span>: <span class="kt">number</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</td><th id="C12543NL33">33</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">prevWidth</span>: <span class="kt">number</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL27">27</th><td class="">        <span class="kr">private</span> <span class="nx">prevHeight</span>: <span class="kt">number</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</td><th id="C12543NL34">34</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">prevHeight</span>: <span class="kt">number</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL28">28</th><td class="">
</td><th id="C12543NL35">35</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL36">36</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">toolbarMode</span>: <span class="kt">ToolBarMode</span> <span class="o">=</span> <span class="nx">ToolBarMode</span><span class="p">.</span><span class="nx">Normal</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL37">37</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr class="inline" data-sigil="inline-row"><th></th><td class="left"></td><th></th><td colspan="3" class="right3" id="anchor-inline-4187"><div class="differential-inline-comment inline-comment-ghost" data-sigil="differential-inline-comment" data-meta="6_23"><div class="differential-inline-comment-head grouped"><div class="inline-head-left">efremov<span class="phui-tag-view phui-tag-type-shade phui-tag-shade phui-tag-shade-red phui-tag-shade-slim mml inline-draft-text"><span class="phui-tag-core ">Unsubmitted</span></span><a class="ghost-icon" href="https://phabricator.megaputer.ru/D782?id=2149#inline-4187" target="_blank"><span class="visual-only phui-icon-view phui-font-fa fa-fast-backward" data-meta="6_18" data-sigil="has-tooltip" aria-hidden="true"></span></a></div><div class="inline-head-right"><a name="inline-4187" id="inline-4187" class="differential-inline-comment-anchor"></a><div class="done-label button-not-done">Not Done</div><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon " data-sigil="has-tooltip differential-inline-reply" data-meta="6_19" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-reply" aria-hidden="true"></span><div class="phui-button-text"></div></a></span><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon phui-button-bar-first" data-sigil="has-tooltip hide-inline" data-meta="6_20" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-times" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-middle" data-sigil="has-tooltip differential-inline-prev" data-meta="6_21" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-up" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-last" data-sigil="has-tooltip differential-inline-next" data-meta="6_22" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-down" aria-hidden="true"></span><div class="phui-button-text"></div></a></span></div></div><div class="differential-inline-comment-content"><div class="phabricator-remarkup"><p>previewMode здесь не должно быть, это тоже сущность связанная с отчетами<br>
Думаю эти две переменные можно объединить в одну: <br>
toolbarMode: { 'normal', 'float', 'hidden' }</p></div></div></div></td></tr><tr><th id="C12543OL29">29</th><td class="">        <span class="kr">private</span> <span class="nx">hierarchyColumns</span>: <span class="kt">string</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span> <span class="c1">// tree hierarchy columns</span>
</td><th id="C12543NL38">38</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">hierarchyColumns</span>: <span class="kt">string</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span> <span class="c1">// tree hierarchy columns</span>
</td></tr><tr><th id="C12543OL30">30</th><td class="">        <span class="kr">private</span> <span class="nx">functionNames</span>: <span class="kt">string</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span> <span class="c1">// mapping from  function index to name</span>
</td><th id="C12543NL39">39</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">functionNames</span>: <span class="kt">string</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span> <span class="c1">// mapping from  function index to name</span>
</td></tr><tr><th id="C12543OL31">31</th><td class="">
</td><th id="C12543NL40">40</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL32">32</th><td class="">        <span class="kr">private</span> <span class="nx">queryState</span>: <span class="kt">TreeMapState</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TreeMapState</span><span class="p">();</span>
</td><th id="C12543NL41">41</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">queryState</span>: <span class="kt">TreeMapState</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TreeMapState</span><span class="p">();</span>
</td></tr><tr><th id="C12543OL33">33</th><td class="">        <span class="kr">private</span> <span class="nx">areaFilterMinValue</span>: <span class="kt">number</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</td><th id="C12543NL42">42</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">areaFilterMinValue</span>: <span class="kt">number</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL34">34</th><td class="">        <span class="kr">private</span> <span class="nx">areaFilterMaxValue</span>: <span class="kt">number</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</td><th id="C12543NL43">43</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">areaFilterMaxValue</span>: <span class="kt">number</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL35">35</th><td class="">        <span class="kr">private</span> <span class="nx">statFilterMinValue</span>: <span class="kt">number</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</td><th id="C12543NL44">44</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">statFilterMinValue</span>: <span class="kt">number</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL36">36</th><td class="">        <span class="kr">private</span> <span class="nx">statFilterMaxValue</span>: <span class="kt">number</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</td><th id="C12543NL45">45</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">statFilterMaxValue</span>: <span class="kt">number</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL37">37</th><td class="">
</td><th id="C12543NL46">46</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL38">38</th><td class="">        <span class="kr">private</span> <span class="nx">drillDownHandler</span><span class="o">:</span> <span class="p">(</span><span class="nx">data</span>: <span class="kt">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
</td><th id="C12543NL47">47</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">drillDownHandler</span><span class="o">:</span> <span class="p">(</span><span class="nx">data</span>: <span class="kt">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL39">39</th><td class="old old-full">
</td><th></th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span></td></tr><tr><th id="C12543OL40">40</th><td class="">        <span class="kr">private</span> <span class="nx">appr</span>: <span class="kt">paCommon.Appearance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">paCommon</span><span class="p">.</span><span class="nx">Appearance</span><span class="p">();</span>
</td><th id="C12543NL48">48</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">appr</span>: <span class="kt">paCommon.Appearance</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">paCommon</span><span class="p">.</span><span class="nx">Appearance</span><span class="p">();</span>
</td></tr><tr><th id="C12543OL41">41</th><td class="">
</td><th id="C12543NL49">49</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL50">50</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">onCloseToolbarDialog</span>: <span class="kt">any</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL51">51</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL42">42</th><td class="">        <span class="kr">constructor</span><span class="p">(</span><span class="nx">access</span>: <span class="kt">TreeMapAccess</span><span class="p">)</span> <span class="p">{</span>
</td><th id="C12543NL52">52</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">constructor</span><span class="p">(</span><span class="nx">access</span>: <span class="kt">TreeMapAccess</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th id="C12543OL43">43</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">access</span> <span class="o">=</span> <span class="nx">access</span><span class="p">;</span>
</td><th id="C12543NL53">53</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">access</span> <span class="o">=</span> <span class="nx">access</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL44">44</th><td class="">
</td><th id="C12543NL54">54</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL45">45</th><td class="">            <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'div'</span><span class="p">)).</span><span class="nx">classed</span><span class="p">(</span><span class="s1">'treemap'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</td><th id="C12543NL55">55</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'div'</span><span class="p">)).</span><span class="nx">classed</span><span class="p">(</span><span class="s1">'treemap'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL46">46</th><td class="">
</td><th id="C12543NL56">56</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL47">47</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">createToolBar</span><span class="p">();</span>
</td><th id="C12543NL57">57</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">createToolBar</span><span class="p">();</span>
</td></tr><tr><th id="C12543OL48">48</th><td class="">
</td><th id="C12543NL58">58</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL49">49</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">view</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TreeMapView</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">);</span>
</td><th id="C12543NL59">59</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">view</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TreeMapView</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">);</span>
</td></tr><tr data-sigil="context-target"><td colspan="2" class="show-more"><a href="https://phabricator.megaputer.ru/D782#" data-mustcapture="1" data-sigil="show-more" data-meta="6_0">Show All 21 Lines</a></td><th class="show-context-line">77</th><td colspan="3" class="show-context">        <span class="nx">setParent</span><span class="p">(</span><span class="nx">parent</span>: <span class="kt">HTMLDivElement</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th id="C12543OL71">71</th><td class="">            <span class="k">if</span> <span class="p">(</span><span class="nx">parent</span><span class="p">)</span> <span class="p">{</span>
</td><th id="C12543NL81">81</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">if</span> <span class="p">(</span><span class="nx">parent</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th id="C12543OL72">72</th><td class="">                <span class="nx">parent</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">);</span>
</td><th id="C12543NL82">82</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>                <span class="nx">parent</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL73">73</th><td class="">
</td><th id="C12543NL83">83</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL74">74</th><td class="">                <span class="k">this</span><span class="p">.</span><span class="nx">setupToolBar</span><span class="p">();</span>
</td><th id="C12543NL84">84</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">setupToolBar</span><span class="p">();</span>
</td></tr><tr><th id="C12543OL75">75</th><td class="">                <span class="k">this</span><span class="p">.</span><span class="nx">checkParentSize</span><span class="p">();</span>
</td><th id="C12543NL85">85</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">checkParentSize</span><span class="p">();</span>
</td></tr><tr><th id="C12543OL76">76</th><td class="">            <span class="p">}</span>
</td><th id="C12543NL86">86</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="p">}</span>
</td></tr><tr><th id="C12543OL77">77</th><td class="">        <span class="p">}</span>
</td><th id="C12543NL87">87</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="p">}</span>
</td></tr><tr><th id="C12543OL78">78</th><td class="">
</td><th id="C12543NL88">88</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL79">79</th><td class="old">        <span class="bright"></span><span class="nx"><span class="bright">resize</span></span><span class="bright"></span><span class="p"><span class="bright">(</span></span><span class="bright"></span><span class="nx"><span class="bright">width</span></span><span class="bright">: </span><span class="kt"><span class="bright">number</span></span><span class="bright"></span><span class="p"><span class="bright">,</span></span><span class="bright"> </span><span class="nx"><span class="bright">height</span></span><span class="bright">: </span><span class="kt"><span class="bright">number</span></span><span class="p">)</span> <span class="p">{</span>
</td><th id="C12543NL89">89</th><td class="copy new"></td><td class="new" colspan="2"><span class="zwsp">​</span>        <span class="bright"></span><span class="nx"><span class="bright">setFloatToolBarParent</span></span><span class="bright"></span><span class="p"><span class="bright">(</span></span><span class="bright"></span><span class="nx"><span class="bright">parent</span></span><span class="bright">: </span><span class="kt"><span class="bright">HTMLDivElement</span></span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th id="C12543OL80">80</th><td class="old">            <span class="bright"></span><span class="kd"><span class="bright">var</span></span><span class="bright"> </span><span class="nx"><span class="bright">toolBarHeight</span></span><span class="bright"> </span><span class="o"><span class="bright">=</span></span><span class="bright"> </span><span class="k"><span class="bright">this</span></span><span class="bright"></span><span class="p"><span class="bright">.</span></span><span class="bright"></span><span class="nx"><span class="bright">toolbar</span></span><span class="bright"></span><span class="p"><span class="bright">.</span></span><span class="bright"></span><span class="nx"><span class="bright">hidden</span></span><span class="bright"> </span><span class="o"><span class="bright">?</span></span><span class="bright"> </span><span class="mi"><span class="bright">0</span></span><span class="bright"> </span><span class="o"><span class="bright">:</span></span><span class="bright"> </span><span class="p"><span class="bright">(</span></span><span class="bright"></span><span class="k"><span class="bright">this</span></span><span class="bright"></span><span class="p"><span class="bright">.</span></span><span class="bright"></span><span class="nx"><span class="bright">toolbar</span></span><span class="bright"></span><span class="p"><span class="bright">.</span></span><span class="bright"></span><span class="nx"><span class="bright">clientHeight</span></span><span class="bright"> </span><span class="o"><span class="bright">+</span></span><span class="bright"> </span><span class="mi"><span class="bright">2</span></span><span class="bright"> </span><span class="cm"><span class="bright">/* border */</span></span><span class="bright"></span><span class="p"><span class="bright">)</span>;</span>
</td><th id="C12543NL90">90</th><td class="copy new"></td><td class="new" colspan="2"><span class="zwsp">​</span>            <span class="bright"></span><span class="k"><span class="bright">this</span></span><span class="bright"></span><span class="p"><span class="bright">.</span></span><span class="bright"></span><span class="nx"><span class="bright">floatToolBarParent</span></span><span class="bright"> </span><span class="o"><span class="bright">=</span></span><span class="bright"> </span><span class="nx"><span class="bright">parent</span></span><span class="p">;</span>
</td></tr><tr><th id="C12543OL81">81</th><td class="old">        <span class="bright">    </span><span class="kd"><span class="bright">var</span></span><span class="bright"> </span><span class="nx"><span class="bright">viewWidth</span></span><span class="bright"> </span><span class="o"><span class="bright">=</span></span><span class="bright"> </span><span class="nx"><span class="bright">width</span></span><span class="bright"></span><span class="p"><span class="bright">;</span></span>
</td><th id="C12543NL91">91</th><td class="copy new-copy" data-meta="6_1"></td><td class="new" colspan="2"><span class="zwsp">​</span>        <span class="bright"></span><span class="p"><span class="bright">}</span></span>
</td></tr><tr class="inline" data-sigil="inline-row"><th></th><td class="left"></td><th></th><td colspan="3" class="right3" id="anchor-inline-4188"><div class="differential-inline-comment inline-comment-ghost" data-sigil="differential-inline-comment" data-meta="6_29"><div class="differential-inline-comment-head grouped"><div class="inline-head-left">efremov<span class="phui-tag-view phui-tag-type-shade phui-tag-shade phui-tag-shade-red phui-tag-shade-slim mml inline-draft-text"><span class="phui-tag-core ">Unsubmitted</span></span><a class="ghost-icon" href="https://phabricator.megaputer.ru/D782?id=2149#inline-4188" target="_blank"><span class="visual-only phui-icon-view phui-font-fa fa-fast-backward" data-meta="6_24" data-sigil="has-tooltip" aria-hidden="true"></span></a></div><div class="inline-head-right"><a name="inline-4188" id="inline-4188" class="differential-inline-comment-anchor"></a><div class="done-label button-not-done">Not Done</div><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon " data-sigil="has-tooltip differential-inline-reply" data-meta="6_25" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-reply" aria-hidden="true"></span><div class="phui-button-text"></div></a></span><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon phui-button-bar-first" data-sigil="has-tooltip hide-inline" data-meta="6_26" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-times" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-middle" data-sigil="has-tooltip differential-inline-prev" data-meta="6_27" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-up" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-last" data-sigil="has-tooltip differential-inline-next" data-meta="6_28" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-down" aria-hidden="true"></span><div class="phui-button-text"></div></a></span></div></div><div class="differential-inline-comment-content"><div class="phabricator-remarkup"><p>setFloatToolBarParent(panel: HTMLDivElement)</p></div></div></div></td></tr><tr><th id="C12543OL82">82</th><td class="old old-full">            <span class="kd">var</span> <span class="nx">viewHeight</span> <span class="o">=</span> <span class="nx">height</span> <span class="o">-</span> <span class="nx">toolBarHeight</span><span class="p">;</span>
</td><th></th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span></td></tr><tr><th id="C12543OL83">83</th><td class="">
</td><th id="C12543NL92">92</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL84">84</th><td class="old">        <span class="bright">    </span><span class="k"><span class="bright">this</span></span><span class="bright"></span><span class="p"><span class="bright">.</span></span><span class="bright"></span><span class="nx"><span class="bright">view</span></span><span class="bright"></span><span class="p"><span class="bright">.</span></span><span class="nx">resize</span><span class="p">(<span class="bright"></span></span><span class="bright"></span><span class="nx"><span class="bright">viewW</span>idth<span class="bright"></span></span><span class="bright"></span><span class="p"><span class="bright">,</span></span><span class="bright"> </span><span class="nx"><span class="bright">viewH</span>eight<span class="bright"></span></span><span class="bright"></span><span class="p"><span class="bright">);</span></span>
</td><th id="C12543NL93">93</th><td class="copy new-move" data-meta="6_2"></td><td class="new" colspan="2"><span class="zwsp">​</span>        <span class="nx">resize</span><span class="p">(<span class="bright"></span></span><span class="bright"></span><span class="nx"><span class="bright">w</span>idth<span class="bright"></span></span><span class="bright">: </span><span class="kt"><span class="bright">number</span></span><span class="bright"></span><span class="p"><span class="bright">,</span></span><span class="bright"> </span><span class="nx"><span class="bright">h</span>eight<span class="bright"></span></span><span class="bright">: </span><span class="kt"><span class="bright">number</span></span><span class="bright"></span><span class="p"><span class="bright">)</span></span><span class="bright"> </span><span class="p"><span class="bright">{</span></span>
</td></tr><tr><th id="C12543OL85">85</th><td class="old">            <span class="k">this</span><span class="p">.<span class="bright"></span></span><span class="bright"></span><span class="nx"><span class="bright">view</span></span><span class="bright"></span><span class="p"><span class="bright">.</span></span><span class="bright"></span><span class="nx"><span class="bright">render</span></span><span class="p">();</span>
</td><th id="C12543NL94">94</th><td class="copy new"></td><td class="new" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.<span class="bright"></span></span><span class="bright"></span><span class="nx"><span class="bright">adjustToolBarVisibility</span></span><span class="p">();</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL95">95</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">resizeView</span><span class="p">(</span><span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL86">86</th><td class="">        <span class="p">}</span>
</td><th id="C12543NL96">96</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="p">}</span>
</td></tr><tr><th id="C12543OL87">87</th><td class="">
</td><th id="C12543NL97">97</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL88">88</th><td class="">        <span class="nx">setDrillDownHandler</span><span class="p">(</span><span class="nx">handler</span><span class="o">:</span> <span class="p">(</span><span class="nx">data</span>: <span class="kt">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">)</span> <span class="p">{</span>
</td><th id="C12543NL98">98</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="nx">setDrillDownHandler</span><span class="p">(</span><span class="nx">handler</span><span class="o">:</span> <span class="p">(</span><span class="nx">data</span>: <span class="kt">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th id="C12543OL89">89</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">drillDownHandler</span> <span class="o">=</span> <span class="nx">handler</span><span class="p">;</span>
</td><th id="C12543NL99">99</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">drillDownHandler</span> <span class="o">=</span> <span class="nx">handler</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL90">90</th><td class="">        <span class="p">}</span>
</td><th id="C12543NL100">100</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="p">}</span>
</td></tr><tr><th id="C12543OL91">91</th><td class="">
</td><th id="C12543NL101">101</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL102">102</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">resizeView</span><span class="p">(</span><span class="nx">width</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">height</span>: <span class="kt">number</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL103">103</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isToolBarShown</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isToolBarFloating</span><span class="p">())</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL104">104</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="nx">height</span> <span class="o">-=</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">.</span><span class="nx">clientHeight</span> <span class="o">+</span> <span class="mi">2</span> <span class="cm">/* border */</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL105">105</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL106">106</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL107">107</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">resize</span><span class="p">(</span><span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL108">108</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL109">109</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL110">110</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL92">92</th><td class="">        <span class="kr">private</span> <span class="nx">checkParentSize() {</span>
</td><th id="C12543NL111">111</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">checkParentSize() {</span>
</td></tr><tr><th id="C12543OL93">93</th><td class="">            <span class="kd">var</span> <span class="nx">size</span> <span class="o">=</span> <span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">.</span><span class="nx">clientWidth</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">.</span><span class="nx">clientHeight</span><span class="p">];</span>
</td><th id="C12543NL112">112</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="kd">var</span> <span class="nx">size</span> <span class="o">=</span> <span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">.</span><span class="nx">clientWidth</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">.</span><span class="nx">clientHeight</span><span class="p">];</span>
</td></tr><tr><th id="C12543OL94">94</th><td class="">
</td><th id="C12543NL113">113</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL95">95</th><td class="">            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">prevWidth</span> <span class="o">===</span> <span class="nx">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">prevHeight</span> <span class="o">===</span> <span class="nx">size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</td><th id="C12543NL114">114</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">prevWidth</span> <span class="o">===</span> <span class="nx">size</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">prevHeight</span> <span class="o">===</span> <span class="nx">size</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</td></tr><tr><th id="C12543OL96">96</th><td class="">                <span class="k">return</span><span class="p">;</span>
</td><th id="C12543NL115">115</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>                <span class="k">return</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL97">97</th><td class="">
</td><th id="C12543NL116">116</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL98">98</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">prevWidth</span> <span class="o">=</span> <span class="nx">size</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</td><th id="C12543NL117">117</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">prevWidth</span> <span class="o">=</span> <span class="nx">size</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
</td></tr><tr><th id="C12543OL99">99</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">prevHeight</span> <span class="o">=</span> <span class="nx">size</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
</td><th id="C12543NL118">118</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">prevHeight</span> <span class="o">=</span> <span class="nx">size</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
</td></tr><tr><th id="C12543OL100">100</th><td class="">
</td><th id="C12543NL119">119</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL101">101</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">resize</span><span class="p">(</span><span class="nx">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
</td><th id="C12543NL120">120</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">resize</span><span class="p">(</span><span class="nx">size</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">size</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
</td></tr><tr><th id="C12543OL102">102</th><td class="">        <span class="p">}</span>
</td><th id="C12543NL121">121</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="p">}</span>
</td></tr><tr><th id="C12543OL103">103</th><td class="">
</td><th id="C12543NL122">122</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL104">104</th><td class="">        <span class="kr">private</span> <span class="nx">createToolBar</span><span class="p">()</span><span class="o">:</span> <span class="nx">HTMLElement</span> <span class="p">{</span>
</td><th id="C12543NL123">123</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">createToolBar</span><span class="p">()</span><span class="o">:</span> <span class="nx">HTMLElement</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL124">124</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">createToolBarMenuButton</span><span class="p">();</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL125">125</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL105">105</th><td class="">            <span class="k">return</span> <span class="o">&lt;</span><span class="nx">HTMLElement</span><span class="o">&gt;</span><span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">'table'</span><span class="p">)</span>
</td><th id="C12543NL126">126</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">return</span> <span class="o">&lt;</span><span class="nx">HTMLElement</span><span class="o">&gt;</span><span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">'table'</span><span class="p">)</span>
</td></tr><tr><th id="C12543OL106">106</th><td class="">                <span class="p">.</span><span class="nx">classed</span><span class="p">(</span><span class="s1">'tm-toolbar'</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
</td><th id="C12543NL127">127</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>                <span class="p">.</span><span class="nx">classed</span><span class="p">(</span><span class="s1">'tm-toolbar'</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
</td></tr><tr><th id="C12543OL107">107</th><td class="">                <span class="p">.</span><span class="nx">classed</span><span class="p">(</span><span class="s1">'noselectable'</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
</td><th id="C12543NL128">128</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>                <span class="p">.</span><span class="nx">classed</span><span class="p">(</span><span class="s1">'noselectable'</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
</td></tr><tr><th id="C12543OL108">108</th><td class="">                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'height'</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
</td><th id="C12543NL129">129</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'height'</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
</td></tr><tr><th id="C12543OL109">109</th><td class="">                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'width'</span><span class="p">,</span> <span class="s1">'100%'</span><span class="p">)</span>
</td><th id="C12543NL130">130</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'width'</span><span class="p">,</span> <span class="s1">'100%'</span><span class="p">)</span>
</td></tr><tr><th id="C12543OL110">110</th><td class="">                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'cellspacing'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</td><th id="C12543NL131">131</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'cellspacing'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</td></tr><tr><th id="C12543OL111">111</th><td class="">                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'cellpadding'</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</td><th id="C12543NL132">132</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>                <span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'cellpadding'</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</td></tr><tr><th id="C12543OL112">112</th><td class="">                <span class="p">.</span><span class="nx">node</span><span class="p">();</span>
</td><th id="C12543NL133">133</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>                <span class="p">.</span><span class="nx">node</span><span class="p">();</span>
</td></tr><tr><th id="C12543OL113">113</th><td class="">        <span class="p">}</span>
</td><th id="C12543NL134">134</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="p">}</span>
</td></tr><tr><th id="C12543OL114">114</th><td class="">
</td><th id="C12543NL135">135</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL136">136</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">createToolBarMenuButton</span><span class="p">()</span><span class="o">:</span> <span class="nx">HTMLElement</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL137">137</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="kd">var</span> <span class="nx">menuButton</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">'div'</span><span class="p">).</span><span class="nx">classed</span><span class="p">(</span><span class="s1">'menu-button'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL138">138</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="nx">menuButton</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'i'</span><span class="p">).</span><span class="nx">classed</span><span class="p">(</span><span class="s1">'fa fa-cog fa-lg'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL139">139</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL140">140</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="kd">var</span> <span class="nx">menu</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">paWidgets</span><span class="p">.</span><span class="nx">DropDownMenu</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">HTMLElement</span><span class="o">&gt;</span><span class="nx">menuButton</span><span class="p">.</span><span class="nx">node</span><span class="p">());</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL141">141</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL142">142</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="nx">menuButton</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL143">143</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">if</span> <span class="p">(</span><span class="nx">menu</span><span class="p">.</span><span class="nx">isShown</span><span class="p">())</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL144">144</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                    <span class="nx">menu</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL145">145</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                    <span class="k">return</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL146">146</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL147">147</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL148">148</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="nx">menu</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL149">149</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL150">150</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">toolbarMode</span> <span class="o">===</span> <span class="nx">ToolBarMode</span><span class="p">.</span><span class="nx">FloatOnly</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr class="inline" data-sigil="inline-row"><th></th><td class="left"></td><th></th><td colspan="3" class="right3" id="anchor-inline-4201"><div class="differential-inline-comment inline-comment-ghost inline-comment-has-reply" data-sigil="differential-inline-comment" data-meta="6_35"><div class="differential-inline-comment-head grouped"><div class="inline-head-left">kozlov<span class="phui-tag-view phui-tag-type-shade phui-tag-shade phui-tag-shade-red phui-tag-shade-slim mml inline-draft-text"><span class="phui-tag-core ">Unsubmitted</span></span><a class="ghost-icon" href="https://phabricator.megaputer.ru/D782?id=2156#inline-4201" target="_blank"><span class="visual-only phui-icon-view phui-font-fa fa-fast-backward" data-meta="6_30" data-sigil="has-tooltip" aria-hidden="true"></span></a></div><div class="inline-head-right"><a name="inline-4201" id="inline-4201" class="differential-inline-comment-anchor"></a><div class="done-label button-not-done">Not Done</div><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon " data-sigil="has-tooltip differential-inline-reply" data-meta="6_31" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-reply" aria-hidden="true"></span><div class="phui-button-text"></div></a></span><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon phui-button-bar-first" data-sigil="has-tooltip hide-inline" data-meta="6_32" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-times" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-middle" data-sigil="has-tooltip differential-inline-prev" data-meta="6_33" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-up" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-last" data-sigil="has-tooltip differential-inline-next" data-meta="6_34" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-down" aria-hidden="true"></span><div class="phui-button-text"></div></a></span></div></div><div class="differential-inline-comment-content"><div class="phabricator-remarkup"><p>Разве использование this в callback ф-иях безопасно?</p></div></div></div></td></tr><tr class="inline" data-sigil="inline-row"><th></th><td class="left"></td><th></th><td colspan="3" class="right3" id="anchor-inline-4202"><div class="differential-inline-comment inline-comment-ghost inline-comment-is-reply" data-sigil="differential-inline-comment" data-meta="6_41"><div class="differential-inline-comment-head grouped"><div class="inline-head-left">kozlov<span class="phui-tag-view phui-tag-type-shade phui-tag-shade phui-tag-shade-red phui-tag-shade-slim mml inline-draft-text"><span class="phui-tag-core ">Unsubmitted</span></span><a class="ghost-icon" href="https://phabricator.megaputer.ru/D782?id=2157#inline-4202" target="_blank"><span class="visual-only phui-icon-view phui-font-fa fa-fast-backward" data-meta="6_36" data-sigil="has-tooltip" aria-hidden="true"></span></a></div><div class="inline-head-right"><a name="inline-4202" id="inline-4202" class="differential-inline-comment-anchor"></a><div class="done-label button-not-done">Not Done</div><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon " data-sigil="has-tooltip differential-inline-reply" data-meta="6_37" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-reply" aria-hidden="true"></span><div class="phui-button-text"></div></a></span><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon phui-button-bar-first" data-sigil="has-tooltip hide-inline" data-meta="6_38" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-times" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-middle" data-sigil="has-tooltip differential-inline-prev" data-meta="6_39" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-up" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-last" data-sigil="has-tooltip differential-inline-next" data-meta="6_40" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-down" aria-hidden="true"></span><div class="phui-button-text"></div></a></span></div></div><div class="differential-inline-comment-content"><div class="phabricator-remarkup"><p>Тут про это написано<br>
<a href="http://google.github.io/styleguide/javascriptguide.xml?showone=this#this" class="remarkup-link" target="_blank" rel="noreferrer">http://google.github.io/styleguide/javascriptguide.xml?showone=this#this</a></p></div></div></div></td></tr><tr class="inline" data-sigil="inline-row"><th></th><td class="left"></td><th></th><td colspan="3" class="right3" id="anchor-inline-4203"><div class="differential-inline-comment inline-comment-ghost inline-comment-has-reply inline-comment-is-reply" data-sigil="differential-inline-comment" data-meta="6_47"><div class="differential-inline-comment-head grouped"><div class="inline-head-left">semenov_art<span class="phui-tag-view phui-tag-type-shade phui-tag-shade phui-tag-shade-yellow phui-tag-shade-slim mml"><span class="phui-tag-core ">Author</span></span><span class="phui-tag-view phui-tag-type-shade phui-tag-shade phui-tag-shade-red phui-tag-shade-slim mml inline-draft-text"><span class="phui-tag-core ">Unsubmitted</span></span><a class="ghost-icon" href="https://phabricator.megaputer.ru/D782?id=2157#inline-4203" target="_blank"><span class="visual-only phui-icon-view phui-font-fa fa-fast-backward" data-meta="6_42" data-sigil="has-tooltip" aria-hidden="true"></span></a></div><div class="inline-head-right"><a name="inline-4203" id="inline-4203" class="differential-inline-comment-anchor"></a><div class="done-label button-not-done">Not Done</div><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon " data-sigil="has-tooltip differential-inline-reply" data-meta="6_43" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-reply" aria-hidden="true"></span><div class="phui-button-text"></div></a></span><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon phui-button-bar-first" data-sigil="has-tooltip hide-inline" data-meta="6_44" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-times" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-middle" data-sigil="has-tooltip differential-inline-prev" data-meta="6_45" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-up" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-last" data-sigil="has-tooltip differential-inline-next" data-meta="6_46" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-down" aria-hidden="true"></span><div class="phui-button-text"></div></a></span></div></div><div class="differential-inline-comment-content"><div class="phabricator-remarkup"><p>this внутри arrow function и this внутри обычной function отличаются. this в первом случае не является настоящим this-ом, а является захваченной из контекста переменной, которой присвоено значение this.</p></div></div></div></td></tr><tr class="inline" data-sigil="inline-row"><th></th><td class="left"></td><th></th><td colspan="3" class="right3" id="anchor-inline-4204"><div class="differential-inline-comment inline-comment-ghost inline-comment-is-reply" data-sigil="differential-inline-comment" data-meta="6_53"><div class="differential-inline-comment-head grouped"><div class="inline-head-left">kozlov<span class="phui-tag-view phui-tag-type-shade phui-tag-shade phui-tag-shade-red phui-tag-shade-slim mml inline-draft-text"><span class="phui-tag-core ">Unsubmitted</span></span><a class="ghost-icon" href="https://phabricator.megaputer.ru/D782?id=2157#inline-4204" target="_blank"><span class="visual-only phui-icon-view phui-font-fa fa-fast-backward" data-meta="6_48" data-sigil="has-tooltip" aria-hidden="true"></span></a></div><div class="inline-head-right"><a name="inline-4204" id="inline-4204" class="differential-inline-comment-anchor"></a><div class="done-label button-not-done">Not Done</div><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon " data-sigil="has-tooltip differential-inline-reply" data-meta="6_49" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-reply" aria-hidden="true"></span><div class="phui-button-text"></div></a></span><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon phui-button-bar-first" data-sigil="has-tooltip hide-inline" data-meta="6_50" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-times" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-middle" data-sigil="has-tooltip differential-inline-prev" data-meta="6_51" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-up" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-last" data-sigil="has-tooltip differential-inline-next" data-meta="6_52" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-down" aria-hidden="true"></span><div class="phui-button-text"></div></a></span></div></div><div class="differential-inline-comment-content"><div class="phabricator-remarkup"><p>Круть</p></div></div></div></td></tr><tr><th></th><td class=""></td><th id="C12543NL151">151</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                    <span class="nx">menu</span><span class="p">.</span><span class="nx">addItemEx</span><span class="p">(</span><span class="s1">'Show toolbar'</span><span class="p">,</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL152">152</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                        <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL153">153</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                            <span class="k">this</span><span class="p">.</span><span class="nx">floatToolBar</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL154">154</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                            <span class="k">this</span><span class="p">.</span><span class="nx">showToolBar</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL155">155</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                        <span class="p">});</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL156">156</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL157">157</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                    <span class="nx">menu</span><span class="p">.</span><span class="nx">addItemEx</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isToolBarShown</span><span class="p">()</span> <span class="o">?</span> <span class="s1">'Hide toolbar'</span> <span class="o">:</span> <span class="s1">'Show toolbar'</span><span class="p">,</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL158">158</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                        <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL159">159</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                            <span class="k">this</span><span class="p">.</span><span class="nx">showToolBar</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isToolBarShown</span><span class="p">());</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL160">160</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                            <span class="k">this</span><span class="p">.</span><span class="nx">resizeView</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">prevWidth</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">prevHeight</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL161">161</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                        <span class="p">});</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL162">162</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL163">163</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                    <span class="nx">menu</span><span class="p">.</span><span class="nx">addItemEx</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isToolBarFloating</span><span class="p">()</span> <span class="o">?</span> <span class="s1">'Pin toolbar'</span> <span class="o">:</span> <span class="s1">'Float toolbar'</span><span class="p">,</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL164">164</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                        <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">floatToolBar</span><span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isToolBarFloating</span><span class="p">()));</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL165">165</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL166">166</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL167">167</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="nx">menu</span><span class="p">.</span><span class="nx">show</span><span class="p">();</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL168">168</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="p">});</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL169">169</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL170">170</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">return</span> <span class="o">&lt;</span><span class="nx">HTMLElement</span><span class="o">&gt;</span><span class="nx">menuButton</span><span class="p">.</span><span class="nx">node</span><span class="p">();</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL171">171</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL172">172</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL115">115</th><td class="">        <span class="cm">/**</span>
</td><th id="C12543NL173">173</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="cm">/**</span>
</td></tr><tr><th id="C12543OL116">116</th><td class=""><span class="cm">         * Populates toolbar with controls</span>
</td><th id="C12543NL174">174</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="cm">         * Populates toolbar with controls</span>
</td></tr><tr><th id="C12543OL117">117</th><td class=""><span class="cm">         */</span>
</td><th id="C12543NL175">175</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="cm">         */</span>
</td></tr><tr><th id="C12543OL118">118</th><td class="">        <span class="kr">private</span> <span class="nx">setupToolBar() {</span>
</td><th id="C12543NL176">176</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">setupToolBar() {</span>
</td></tr><tr><th id="C12543OL119">119</th><td class="">            <span class="kd">var</span> <span class="nx">tableSelector</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">);</span>
</td><th id="C12543NL177">177</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="kd">var</span> <span class="nx">tableSelector</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL120">120</th><td class="">            <span class="nx">tableSelector</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s1">'*'</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
</td><th id="C12543NL178">178</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="nx">tableSelector</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s1">'*'</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
</td></tr><tr><th id="C12543OL121">121</th><td class="">
</td><th id="C12543NL179">179</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL122">122</th><td class="">            <span class="kd">var</span> <span class="nx">appendLabel</span> <span class="o">=</span> <span class="p">(</span><span class="nx">row</span><span class="p">,</span> <span class="nx">label</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">row</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'td'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">'div'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">label</span><span class="p">).</span><span class="nx">classed</span><span class="p">(</span><span class="s1">'label'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</td><th id="C12543NL180">180</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="kd">var</span> <span class="nx">appendLabel</span> <span class="o">=</span> <span class="p">(</span><span class="nx">row</span><span class="p">,</span> <span class="nx">label</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">row</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'td'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">'div'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">label</span><span class="p">).</span><span class="nx">classed</span><span class="p">(</span><span class="s1">'label'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</td></tr><tr data-sigil="context-target"><td colspan="2" class="show-more"><a href="https://phabricator.megaputer.ru/D782#" data-mustcapture="1" data-sigil="show-more" data-meta="6_3">▲ Show 20 Lines</a> • <a href="https://phabricator.megaputer.ru/D782#" data-mustcapture="1" data-sigil="show-more" data-meta="6_4">Show All 126 Lines</a> • <a href="https://phabricator.megaputer.ru/D782#" data-mustcapture="1" data-sigil="show-more" data-meta="6_5">▼ Show 20 Line(s)</a></td><th class="show-context-line">288</th><td colspan="3" class="show-context">        <span class="kr">private</span> <span class="nx">onLoadAppearance</span><span class="p">(</span><span class="nx">appr</span>: <span class="kt">paCommon.Appearance</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th id="C12543OL249">249</th><td class="">            <span class="kd">var</span> <span class="nx">statColors</span> <span class="o">=</span> <span class="nx">appr</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'treemap/statColors'</span><span class="p">);</span>
</td><th id="C12543NL307">307</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="kd">var</span> <span class="nx">statColors</span> <span class="o">=</span> <span class="nx">appr</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'treemap/statColors'</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL250">250</th><td class="">
</td><th id="C12543NL308">308</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL251">251</th><td class="">            <span class="k">if</span> <span class="p">(</span><span class="nx">statColors</span><span class="p">)</span> <span class="p">{</span>
</td><th id="C12543NL309">309</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">if</span> <span class="p">(</span><span class="nx">statColors</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th id="C12543OL252">252</th><td class="">                <span class="k">this</span><span class="p">.</span><span class="nx">gradientSlider</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="nx">gradient</span>: <span class="kt">statColors</span> <span class="p">});</span>
</td><th id="C12543NL310">310</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">gradientSlider</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="nx">gradient</span>: <span class="kt">statColors</span> <span class="p">});</span>
</td></tr><tr><th id="C12543OL253">253</th><td class="">                <span class="k">this</span><span class="p">.</span><span class="nx">onStatColorChanged</span><span class="p">(</span><span class="nx">statColors</span><span class="p">);</span>
</td><th id="C12543NL311">311</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">onStatColorChanged</span><span class="p">(</span><span class="nx">statColors</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL254">254</th><td class="">            <span class="p">}</span>
</td><th id="C12543NL312">312</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="p">}</span>
</td></tr><tr><th id="C12543OL255">255</th><td class="">        <span class="p">}</span>
</td><th id="C12543NL313">313</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="p">}</span>
</td></tr><tr><th id="C12543OL256">256</th><td class="">
</td><th id="C12543NL314">314</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL257">257</th><td class="old">        <span class="kr">private</span> <span class="bright"></span><span class="nx"><span class="bright">show</span>Tool<span class="bright">bar</span></span><span class="bright"></span><span class="p"><span class="bright">(</span></span><span class="bright"></span><span class="nx"><span class="bright">show</span></span>: <span class="kt">boolean<span class="bright"></span></span><span class="bright"> </span><span class="o"><span class="bright">=</span></span><span class="bright"> </span><span class="kc"><span class="bright">true</span></span><span class="bright"></span><span class="p"><span class="bright">)</span></span> <span class="p">{</span>
</td><th id="C12543NL315">315</th><td class="copy new"></td><td class="new" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="bright"></span><span class="nx"><span class="bright">is</span>Tool<span class="bright">BarShown</span></span><span class="bright"></span><span class="p"><span class="bright">()</span></span><span class="o">:</span> <span class="kr">boolean</span> <span class="p">{</span>
</td></tr><tr><th id="C12543OL258">258</th><td class="old">            <span class="bright"></span><span class="nx"><span class="bright">d3</span></span><span class="bright"></span><span class="p"><span class="bright">.</span></span><span class="bright"></span><span class="nx"><span class="bright">select</span></span><span class="bright"></span><span class="p"><span class="bright">(</span></span><span class="k">this</span><span class="p">.</span><span class="nx">toolbar<span class="bright"></span></span><span class="bright"></span><span class="p"><span class="bright">)</span>.</span><span class="nx">style<span class="bright"></span></span><span class="bright"></span><span class="p"><span class="bright">(</span></span><span class="bright"></span><span class="s1"><span class="bright">'</span>display<span class="bright">'</span></span><span class="bright"></span><span class="p"><span class="bright">,</span></span><span class="bright"> </span><span class="nx"><span class="bright">show</span></span><span class="bright"> </span><span class="o"><span class="bright">?</span></span><span class="bright"> </span><span class="s1"><span class="bright">''</span></span><span class="bright"> </span><span class="o"><span class="bright">:</span></span> <span class="s1">'none'<span class="bright"></span></span><span class="bright"></span><span class="p"><span class="bright">)</span>;</span>
</td><th id="C12543NL316">316</th><td class="copy new"></td><td class="new" colspan="2"><span class="zwsp">​</span>            <span class="bright"></span><span class="k"><span class="bright">return</span></span><span class="bright"> </span><span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">.</span><span class="nx">style<span class="bright"></span></span><span class="bright"></span><span class="p"><span class="bright">.</span></span><span class="nx">display<span class="bright"></span></span><span class="bright"> </span><span class="o"><span class="bright">!==</span></span> <span class="s1">'none'</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL259">259</th><td class="old old-full">            <span class="k">this</span><span class="p">.</span><span class="nx">resize</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">.</span><span class="nx">clientWidth</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">.</span><span class="nx">clientHeight</span><span class="p">);</span>
</td><th></th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span></td></tr><tr><th id="C12543OL260">260</th><td class="">        <span class="p">}</span>
</td><th id="C12543NL317">317</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="p">}</span>
</td></tr><tr><th id="C12543OL261">261</th><td class="">
</td><th id="C12543NL318">318</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL262">262</th><td class="old">        <span class="bright"></span><span class="cm"><span class="bright">/*</span>private <span class="bright">is</span>ToolBar<span class="bright">Showed(</span>) {</span>
</td><th id="C12543NL319">319</th><td class="copy new"></td><td class="new" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="bright"></span><span class="nx"><span class="bright">show</span>ToolBar<span class="bright"></span></span><span class="bright"></span><span class="p"><span class="bright">(</span></span><span class="bright"></span><span class="nx"><span class="bright">show</span></span><span class="bright">: </span><span class="kt"><span class="bright">boolean</span></span><span class="bright"> </span><span class="o"><span class="bright">=</span></span><span class="bright"> </span><span class="kc"><span class="bright">true</span></span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th id="C12543OL263">263</th><td class="old"><span class="cm">         <span class="bright">return !</span>this.toolbar.<span class="bright">hidden</span>;</span>
</td><th id="C12543NL320">320</th><td class="copy new"></td><td class="new" colspan="2"><span class="zwsp">​</span>         <span class="bright">   </span><span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">.<span class="bright"></span></span><span class="bright"></span><span class="nx"><span class="bright">style</span></span><span class="bright"></span><span class="p"><span class="bright">.</span></span><span class="bright"></span><span class="nx"><span class="bright">display</span></span><span class="bright"> </span><span class="o"><span class="bright">=</span></span><span class="bright"> </span><span class="nx"><span class="bright">show</span></span><span class="bright"> </span><span class="o"><span class="bright">?</span></span><span class="bright"> </span><span class="kc"><span class="bright">null</span></span><span class="bright"> </span><span class="o"><span class="bright">:</span></span><span class="bright"> </span><span class="s1"><span class="bright">'none'</span></span><span class="p">;</span>
</td></tr><tr><th id="C12543OL264">264</th><td class="old"><span class="bright"></span><span class="cm"><span class="bright">         }*/</span></span>
</td><th id="C12543NL321">321</th><td class="copy new"></td><td class="new" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL322">322</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isToolBarFloating</span><span class="p">())</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL323">323</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">.</span><span class="nx">parentElement</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">display</span> <span class="o">=</span> <span class="nx">show</span> <span class="o">?</span> <span class="kc">null</span> <span class="o">:</span> <span class="s1">'none'</span><span class="p">;</span> <span class="c1">// apply visibility to parent dialog</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL324">324</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'mousedown'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">onCloseToolbarDialog</span><span class="p">);</span> <span class="c1">// re-add listener</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL325">325</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL326">326</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL327">327</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL328">328</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="cm">/**</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL329">329</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="cm">         * Enables toolbar floating mode (detached from treeview container)</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL330">330</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="cm">         */</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL331">331</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">floatToolBar</span><span class="p">(</span><span class="nx">enable</span>: <span class="kt">boolean</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL332">332</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">if</span> <span class="p">(</span><span class="nx">enable</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">floatToolBarParent</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL333">333</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">return</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL334">334</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL335">335</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL336">336</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">if</span> <span class="p">(</span><span class="nx">enable</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">isToolBarFloating</span><span class="p">())</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL337">337</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="kd">var</span> <span class="nx">parent</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL338">338</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">HTMLElement</span><span class="o">&gt;</span><span class="nx">parent</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL339">339</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL340">340</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="kd">var</span> <span class="nx">dialogSelection</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">floatToolBarParent</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">'div'</span><span class="p">).</span><span class="nx">classed</span><span class="p">(</span><span class="s1">'toolbar-dialog'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL341">341</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="nx">dialogSelection</span><span class="p">.</span><span class="nx">node</span><span class="p">().</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL342">342</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL343">343</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="kd">var</span> <span class="nx">skipToolBarClose</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL344">344</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="kd">var</span> <span class="nx">disableToolBarDialogDrag</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL345">345</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL346">346</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">)</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL347">347</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                    <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'mousedown'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL348">348</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                        <span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="nx">d3</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL349">349</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                        <span class="nx">disableToolBarDialogDrag</span> <span class="o">=</span> <span class="nx">e</span><span class="p">.</span><span class="nx">currentTarget</span> <span class="o">===</span> <span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL350">350</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                        <span class="nx">skipToolBarClose</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL351">351</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                    <span class="p">})</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL352">352</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                    <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'mouseup'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">disableToolBarDialogDrag</span> <span class="o">=</span> <span class="kc">false</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL353">353</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL354">354</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="nx">dialogSelection</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL355">355</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                    <span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'mousedown'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">skipToolBarClose</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL356">356</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                    <span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">d3</span><span class="p">.</span><span class="nx">behavior</span><span class="p">.</span><span class="nx">drag</span><span class="p">().</span><span class="nx">on</span><span class="p">(</span><span class="s1">'drag'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL357">357</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                        <span class="k">if</span> <span class="p">(</span><span class="nx">disableToolBarDialogDrag</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL358">358</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                            <span class="k">return</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL359">359</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                        <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL360">360</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL361">361</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                        <span class="nx">dialogSelection</span><span class="p">.</span><span class="nx">style</span><span class="p">({</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL362">362</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                            <span class="nx">left</span>: <span class="kt">d3.event.dx</span> <span class="o">+</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">dialogSelection</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s1">'left'</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'px'</span><span class="p">,</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL363">363</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                            <span class="nx">top</span>: <span class="kt">d3.event.dy</span> <span class="o">+</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">dialogSelection</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s1">'top'</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="s1">'px'</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL364">364</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                        <span class="p">});</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL365">365</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                    <span class="p">}));</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL366">366</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL367">367</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">onCloseToolbarDialog</span> <span class="o">=</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL368">368</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                    <span class="k">if</span> <span class="p">(</span><span class="nx">skipToolBarClose</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL369">369</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                        <span class="nx">skipToolBarClose</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL370">370</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                        <span class="k">return</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL371">371</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                    <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL372">372</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL373">373</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                    <span class="k">this</span><span class="p">.</span><span class="nx">showToolBar</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL374">374</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                    <span class="nb">window</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s1">'mousedown'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">onCloseToolbarDialog</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL375">375</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="p">};</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL376">376</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL377">377</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">'mousedown'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">onCloseToolbarDialog</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL378">378</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL379">379</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">fitToolBar</span><span class="p">();</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL380">380</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">showToolBar</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL381">381</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">resizeView</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">prevWidth</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">prevHeight</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL382">382</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL383">383</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL384">384</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">enable</span> <span class="o">&amp;&amp;</span> <span class="k">this</span><span class="p">.</span><span class="nx">isToolBarFloating</span><span class="p">())</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL385">385</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="kd">var</span> <span class="nx">dialog</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL386">386</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">HTMLElement</span><span class="o">&gt;</span><span class="nx">dialog</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL387">387</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="nx">dialog</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL388">388</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL389">389</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">,</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">element</span><span class="p">()).</span><span class="nx">node</span><span class="p">());</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL390">390</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL391">391</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">expandToolBar</span><span class="p">();</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL392">392</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">showToolBar</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL393">393</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">resizeView</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">prevWidth</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">prevHeight</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL394">394</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL395">395</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL396">396</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL397">397</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">isToolBarFloating</span><span class="p">()</span><span class="o">:</span> <span class="kr">boolean</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL398">398</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">return</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">).</span><span class="nx">classed</span><span class="p">(</span><span class="s1">'toolbar-dialog'</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL399">399</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL400">400</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL401">401</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="cm">/**</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL402">402</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="cm">         * Set mimimum toolbar size for floating mode</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL403">403</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="cm">         */</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL404">404</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">fitToolBar() {</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL405">405</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="kd">var</span> <span class="nx">lastCell</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s1">'tr td:last-child'</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL406">406</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">if</span> <span class="p">(</span><span class="nx">lastCell</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'width'</span><span class="p">)</span> <span class="o">===</span> <span class="s1">'100%'</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL407">407</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="nx">lastCell</span><span class="p">.</span><span class="nx">remove</span><span class="p">();</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL408">408</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL409">409</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL410">410</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL411">411</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="cm">/**</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL412">412</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="cm">         * Expand toolbar width for pinned mode</span>
</td></tr><tr class="inline" data-sigil="inline-row"><th></th><td class="left"></td><th></th><td colspan="3" class="right3" id="anchor-inline-4196"><div class="differential-inline-comment inline-comment-ghost" data-sigil="differential-inline-comment" data-meta="6_59"><div class="differential-inline-comment-head grouped"><div class="inline-head-left">efremov<span class="phui-tag-view phui-tag-type-shade phui-tag-shade phui-tag-shade-red phui-tag-shade-slim mml inline-draft-text"><span class="phui-tag-core ">Unsubmitted</span></span><a class="ghost-icon" href="https://phabricator.megaputer.ru/D782?id=2154#inline-4196" target="_blank"><span class="visual-only phui-icon-view phui-font-fa fa-fast-backward" data-meta="6_54" data-sigil="has-tooltip" aria-hidden="true"></span></a></div><div class="inline-head-right"><a name="inline-4196" id="inline-4196" class="differential-inline-comment-anchor"></a><div class="done-label button-not-done">Not Done</div><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon " data-sigil="has-tooltip differential-inline-reply" data-meta="6_55" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-reply" aria-hidden="true"></span><div class="phui-button-text"></div></a></span><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon phui-button-bar-first" data-sigil="has-tooltip hide-inline" data-meta="6_56" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-times" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-middle" data-sigil="has-tooltip differential-inline-prev" data-meta="6_57" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-up" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-last" data-sigil="has-tooltip differential-inline-next" data-meta="6_58" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-down" aria-hidden="true"></span><div class="phui-button-text"></div></a></span></div></div><div class="differential-inline-comment-content"><div class="phabricator-remarkup"><p>mimimum)</p></div></div></div></td></tr><tr><th></th><td class=""></td><th id="C12543NL413">413</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="cm">         */</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL414">414</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">expandToolBar() {</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL415">415</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="kd">var</span> <span class="nx">lastCell</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s1">'tr td:last-child'</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL416">416</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">if</span> <span class="p">(</span><span class="nx">lastCell</span><span class="p">.</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'width'</span><span class="p">)</span> <span class="o">!==</span> <span class="s1">'100%'</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL417">417</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">).</span><span class="nx">select</span><span class="p">(</span><span class="s1">'tr'</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">'td'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">'width'</span><span class="p">,</span> <span class="s1">'100%'</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL418">418</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL419">419</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL420">420</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL421">421</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="cm">/**</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL422">422</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="cm">         * Hides pinned toolbar if it can not fit to container element</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL423">423</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="cm">         */</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL424">424</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">adjustToolBarVisibility() {</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL425">425</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isToolBarFloating</span><span class="p">())</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL426">426</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">return</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL427">427</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL428">428</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL429">429</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">toolbarMode</span> <span class="o">===</span> <span class="nx">ToolBarMode</span><span class="p">.</span><span class="nx">Hidden</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL430">430</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">showToolBar</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL431">431</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">return</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL432">432</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL433">433</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL434">434</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="c1">// force toolbar visibility for correct getBoundingClientRect result</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL435">435</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">showToolBar</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL436">436</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL437">437</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="kd">var</span> <span class="p">{</span><span class="nx">width</span>: <span class="kt">elementWidth</span><span class="p">,</span> <span class="nx">height</span>: <span class="kt">elementHeight</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">element</span><span class="p">.</span><span class="nx">getBoundingClientRect</span><span class="p">();</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL438">438</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="kd">var</span> <span class="p">{</span><span class="nx">width</span>: <span class="kt">toolbarWidth</span><span class="p">,</span> <span class="nx">height</span>: <span class="kt">toolbarHeight</span><span class="p">}</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">.</span><span class="nx">getBoundingClientRect</span><span class="p">();</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL439">439</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL440">440</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="kd">var</span> <span class="nx">fitted</span> <span class="o">=</span> <span class="nx">toolbarWidth</span> <span class="o">&lt;=</span> <span class="nx">elementWidth</span> <span class="o">&amp;&amp;</span> <span class="nx">toolbarHeight</span> <span class="o">&lt;=</span> <span class="nx">elementHeight</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL441">441</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">showToolBar</span><span class="p">(</span><span class="nx">fitted</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL442">442</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL443">443</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">fitted</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL444">444</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">toolbarMode</span> <span class="o">=</span> <span class="nx">ToolBarMode</span><span class="p">.</span><span class="nx">FloatOnly</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL445">445</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL446">446</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="p">}</span>
</td></tr><tr><th id="C12543OL265">265</th><td class="">
</td><th id="C12543NL447">447</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr class="inline" data-sigil="inline-row"><th></th><td class="left"></td><th></th><td colspan="3" class="right3" id="anchor-inline-4189"><div class="differential-inline-comment inline-comment-ghost inline-comment-has-reply" data-sigil="differential-inline-comment" data-meta="6_65"><div class="differential-inline-comment-head grouped"><div class="inline-head-left">kozlov<span class="phui-tag-view phui-tag-type-shade phui-tag-shade phui-tag-shade-red phui-tag-shade-slim mml inline-draft-text"><span class="phui-tag-core ">Unsubmitted</span></span><a class="ghost-icon" href="https://phabricator.megaputer.ru/D782?id=2149#inline-4189" target="_blank"><span class="visual-only phui-icon-view phui-font-fa fa-fast-backward" data-meta="6_60" data-sigil="has-tooltip" aria-hidden="true"></span></a></div><div class="inline-head-right"><a name="inline-4189" id="inline-4189" class="differential-inline-comment-anchor"></a><div class="done-label button-not-done">Not Done</div><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon " data-sigil="has-tooltip differential-inline-reply" data-meta="6_61" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-reply" aria-hidden="true"></span><div class="phui-button-text"></div></a></span><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon phui-button-bar-first" data-sigil="has-tooltip hide-inline" data-meta="6_62" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-times" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-middle" data-sigil="has-tooltip differential-inline-prev" data-meta="6_63" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-up" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-last" data-sigil="has-tooltip differential-inline-next" data-meta="6_64" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-down" aria-hidden="true"></span><div class="phui-button-text"></div></a></span></div></div><div class="differential-inline-comment-content"><div class="phabricator-remarkup"><p>что тут делается?</p></div></div></div></td></tr><tr class="inline" data-sigil="inline-row"><th></th><td class="left"></td><th></th><td colspan="3" class="right3" id="anchor-inline-4190"><div class="differential-inline-comment inline-comment-ghost inline-comment-has-reply inline-comment-is-reply" data-sigil="differential-inline-comment" data-meta="6_71"><div class="differential-inline-comment-head grouped"><div class="inline-head-left">semenov_art<span class="phui-tag-view phui-tag-type-shade phui-tag-shade phui-tag-shade-yellow phui-tag-shade-slim mml"><span class="phui-tag-core ">Author</span></span><span class="phui-tag-view phui-tag-type-shade phui-tag-shade phui-tag-shade-red phui-tag-shade-slim mml inline-draft-text"><span class="phui-tag-core ">Unsubmitted</span></span><a class="ghost-icon" href="https://phabricator.megaputer.ru/D782?id=2154#inline-4190" target="_blank"><span class="visual-only phui-icon-view phui-font-fa fa-fast-backward" data-meta="6_66" data-sigil="has-tooltip" aria-hidden="true"></span></a></div><div class="inline-head-right"><a name="inline-4190" id="inline-4190" class="differential-inline-comment-anchor"></a><div class="done-label button-not-done">Not Done</div><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon " data-sigil="has-tooltip differential-inline-reply" data-meta="6_67" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-reply" aria-hidden="true"></span><div class="phui-button-text"></div></a></span><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon phui-button-bar-first" data-sigil="has-tooltip hide-inline" data-meta="6_68" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-times" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-middle" data-sigil="has-tooltip differential-inline-prev" data-meta="6_69" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-up" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-last" data-sigil="has-tooltip differential-inline-next" data-meta="6_70" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-down" aria-hidden="true"></span><div class="phui-button-text"></div></a></span></div></div><div class="differential-inline-comment-content"><div class="phabricator-remarkup"><p>объявляются переменные elementWidth = this.element.getBoundingClientRect().width и elementHeight = this.element.getBoundingClientRect().height</p></div></div></div></td></tr><tr class="inline" data-sigil="inline-row"><th></th><td class="left"></td><th></th><td colspan="3" class="right3" id="anchor-inline-4191"><div class="differential-inline-comment inline-comment-ghost inline-comment-has-reply inline-comment-is-reply" data-sigil="differential-inline-comment" data-meta="6_77"><div class="differential-inline-comment-head grouped"><div class="inline-head-left">kozlov<span class="phui-tag-view phui-tag-type-shade phui-tag-shade phui-tag-shade-red phui-tag-shade-slim mml inline-draft-text"><span class="phui-tag-core ">Unsubmitted</span></span><a class="ghost-icon" href="https://phabricator.megaputer.ru/D782?id=2154#inline-4191" target="_blank"><span class="visual-only phui-icon-view phui-font-fa fa-fast-backward" data-meta="6_72" data-sigil="has-tooltip" aria-hidden="true"></span></a></div><div class="inline-head-right"><a name="inline-4191" id="inline-4191" class="differential-inline-comment-anchor"></a><div class="done-label button-not-done">Not Done</div><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon " data-sigil="has-tooltip differential-inline-reply" data-meta="6_73" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-reply" aria-hidden="true"></span><div class="phui-button-text"></div></a></span><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon phui-button-bar-first" data-sigil="has-tooltip hide-inline" data-meta="6_74" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-times" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-middle" data-sigil="has-tooltip differential-inline-prev" data-meta="6_75" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-up" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-last" data-sigil="has-tooltip differential-inline-next" data-meta="6_76" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-down" aria-hidden="true"></span><div class="phui-button-text"></div></a></span></div></div><div class="differential-inline-comment-content"><div class="phabricator-remarkup"><p>Это так странно выглядит</p></div></div></div></td></tr><tr class="inline" data-sigil="inline-row"><th></th><td class="left"></td><th></th><td colspan="3" class="right3" id="anchor-inline-4192"><div class="differential-inline-comment inline-comment-ghost inline-comment-is-reply" data-sigil="differential-inline-comment" data-meta="6_83"><div class="differential-inline-comment-head grouped"><div class="inline-head-left">semenov_art<span class="phui-tag-view phui-tag-type-shade phui-tag-shade phui-tag-shade-yellow phui-tag-shade-slim mml"><span class="phui-tag-core ">Author</span></span><span class="phui-tag-view phui-tag-type-shade phui-tag-shade phui-tag-shade-red phui-tag-shade-slim mml inline-draft-text"><span class="phui-tag-core ">Unsubmitted</span></span><a class="ghost-icon" href="https://phabricator.megaputer.ru/D782?id=2154#inline-4192" target="_blank"><span class="visual-only phui-icon-view phui-font-fa fa-fast-backward" data-meta="6_78" data-sigil="has-tooltip" aria-hidden="true"></span></a></div><div class="inline-head-right"><a name="inline-4192" id="inline-4192" class="differential-inline-comment-anchor"></a><div class="done-label button-not-done">Not Done</div><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon " data-sigil="has-tooltip differential-inline-reply" data-meta="6_79" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-reply" aria-hidden="true"></span><div class="phui-button-text"></div></a></span><span class="phui-button-bar phui-button-bar-borderless inline-button-divider"><a class="button has-icon phui-button-bar-first" data-sigil="has-tooltip hide-inline" data-meta="6_80" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-times" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-middle" data-sigil="has-tooltip differential-inline-prev" data-meta="6_81" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-up" aria-hidden="true"></span><div class="phui-button-text"></div></a><a class="button has-icon phui-button-bar-last" data-sigil="has-tooltip differential-inline-next" data-meta="6_82" data-mustcapture="1"><span class="visual-only phui-icon-view phui-font-fa fa-chevron-down" aria-hidden="true"></span><div class="phui-button-text"></div></a></span></div></div><div class="differential-inline-comment-content"><div class="phabricator-remarkup"><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" class="remarkup-link" target="_blank" rel="noreferrer">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment</a></p></div></div></div></td></tr><tr><th id="C12543OL266">266</th><td class="">        <span class="cm">/**</span>
</td><th id="C12543NL448">448</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="cm">/**</span>
</td></tr><tr><th id="C12543OL267">267</th><td class=""><span class="cm">         * Updates toolbar controls</span>
</td><th id="C12543NL449">449</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="cm">         * Updates toolbar controls</span>
</td></tr><tr><th id="C12543OL268">268</th><td class=""><span class="cm">         */</span>
</td><th id="C12543NL450">450</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="cm">         */</span>
</td></tr><tr><th id="C12543OL269">269</th><td class="">        <span class="kr">private</span> <span class="nx">updateToolbar</span><span class="p">(</span><span class="nx">obj</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">{</span>
</td><th id="C12543NL451">451</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">updateToolbar</span><span class="p">(</span><span class="nx">obj</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th id="C12543OL270">270</th><td class="">            <span class="kd">var</span> <span class="nx">populateSelectElement</span> <span class="o">=</span> <span class="p">(</span><span class="nx">selection</span><span class="p">,</span> <span class="nx">labels</span><span class="p">,</span> <span class="nx">values</span><span class="p">,</span> <span class="nx">current</span><span class="o">?</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</td><th id="C12543NL452">452</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="kd">var</span> <span class="nx">populateSelectElement</span> <span class="o">=</span> <span class="p">(</span><span class="nx">selection</span><span class="p">,</span> <span class="nx">labels</span><span class="p">,</span> <span class="nx">values</span><span class="p">,</span> <span class="nx">current</span><span class="o">?</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</td></tr><tr><th id="C12543OL271">271</th><td class="">                <span class="nx">selection</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s1">'*'</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
</td><th id="C12543NL453">453</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>                <span class="nx">selection</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s1">'*'</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
</td></tr><tr><th id="C12543OL272">272</th><td class="">                <span class="nx">selection</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s1">'option'</span><span class="p">)</span>
</td><th id="C12543NL454">454</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>                <span class="nx">selection</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s1">'option'</span><span class="p">)</span>
</td></tr><tr><th id="C12543OL273">273</th><td class="">                    <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">labels</span><span class="p">)</span>
</td><th id="C12543NL455">455</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>                    <span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="nx">labels</span><span class="p">)</span>
</td></tr><tr data-sigil="context-target"><td colspan="2" class="show-more"><a href="https://phabricator.megaputer.ru/D782#" data-mustcapture="1" data-sigil="show-more" data-meta="6_6">▲ Show 20 Lines</a> • <a href="https://phabricator.megaputer.ru/D782#" data-mustcapture="1" data-sigil="show-more" data-meta="6_7">Show All 168 Lines</a> • <a href="https://phabricator.megaputer.ru/D782#" data-mustcapture="1" data-sigil="show-more" data-meta="6_8">▼ Show 20 Line(s)</a></td><th class="show-context-line">614</th><td colspan="3" class="show-context">        <span class="kr">private</span> <span class="nx">onDataChanged</span><span class="p">(</span><span class="nx">data</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th id="C12543OL442">442</th><td class="">            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">statFilterMinValue</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">statFilterMinValue</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">statMinValue</span><span class="p">;</span>
</td><th id="C12543NL624">624</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">statFilterMinValue</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">statFilterMinValue</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">statMinValue</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL443">443</th><td class="">            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">statFilterMaxValue</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">statFilterMaxValue</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">statMaxValue</span><span class="p">;</span>
</td><th id="C12543NL625">625</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">statFilterMaxValue</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">statFilterMaxValue</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">statMaxValue</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL444">444</th><td class="">
</td><th id="C12543NL626">626</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL445">445</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">areaMinValue</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">areaMinValue</span><span class="p">;</span>
</td><th id="C12543NL627">627</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">areaMinValue</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">areaMinValue</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL446">446</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">areaMaxValue</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">areaMaxValue</span><span class="p">;</span>
</td><th id="C12543NL628">628</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">areaMaxValue</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">areaMaxValue</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL447">447</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">statMinValue</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">statMinValue</span><span class="p">;</span>
</td><th id="C12543NL629">629</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">statMinValue</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">statMinValue</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL448">448</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">statMaxValue</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">statMaxValue</span><span class="p">;</span>
</td><th id="C12543NL630">630</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">statMaxValue</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">statMaxValue</span><span class="p">;</span>
</td></tr><tr><th id="C12543OL449">449</th><td class="">
</td><th id="C12543NL631">631</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL450">450</th><td class="old">            <span class="bright"></span><span class="kd"><span class="bright">var</span></span><span class="bright"> </span><span class="nx"><span class="bright">preview</span></span><span class="bright">: </span><span class="kt"><span class="bright">boolean</span></span><span class="bright"> </span><span class="o"><span class="bright">=</span></span><span class="bright"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">previewMode</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="nx">data</span><span class="p">.</span><span class="nx">previewMode</span> <span class="o">===</span> <span class="mi">1<span class="bright"></span></span><span class="bright"></span><span class="p"><span class="bright">;</span></span>
</td><th id="C12543NL632">632</th><td class="copy new"></td><td class="new" colspan="2"><span class="zwsp">​</span>            <span class="bright"></span><span class="k"><span class="bright">if</span></span><span class="bright"> </span><span class="p"><span class="bright">(</span></span><span class="nx">data</span><span class="p">.</span><span class="nx">previewMode</span> <span class="o">!==</span> <span class="kc">undefined</span> <span class="o">&amp;&amp;</span> <span class="nx">data</span><span class="p">.</span><span class="nx">previewMode</span> <span class="o">===</span> <span class="mi">1<span class="bright"></span></span><span class="bright"></span><span class="p"><span class="bright">)</span></span><span class="bright"> </span><span class="p"><span class="bright">{</span></span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL633">633</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">toolbarMode</span> <span class="o">=</span> <span class="nx">ToolBarMode</span><span class="p">.</span><span class="nx">Hidden</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL634">634</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL635">635</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL636">636</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">adjustToolBarVisibility</span><span class="p">();</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL637">637</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL638">638</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">toolbarMode</span> <span class="o">!==</span> <span class="nx">ToolBarMode</span><span class="p">.</span><span class="nx">Hidden</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL639">639</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>                <span class="k">this</span><span class="p">.</span><span class="nx">updateToolbar</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12543NL640">640</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>            <span class="p">}</span>
</td></tr><tr><th id="C12543OL451">451</th><td class="">
</td><th id="C12543NL641">641</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL452">452</th><td class="old">            <span class="k">this</span><span class="p">.<span class="bright"></span></span><span class="bright"></span><span class="nx"><span class="bright">showToolbar</span></span><span class="bright"></span><span class="p"><span class="bright">(</span></span><span class="bright"></span><span class="o"><span class="bright">!</span></span><span class="nx">prev<span class="bright">iew</span></span><span class="p">);</span>
</td><th id="C12543NL642">642</th><td class="copy new"></td><td class="new" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.<span class="bright"></span></span><span class="bright"></span><span class="nx"><span class="bright">resizeView</span></span><span class="bright"></span><span class="p"><span class="bright">(</span></span><span class="bright"></span><span class="k"><span class="bright">this</span></span><span class="bright"></span><span class="p"><span class="bright">.</span></span><span class="nx">prev<span class="bright">Width</span></span><span class="bright"></span><span class="p"><span class="bright">,</span></span><span class="bright"> </span><span class="k"><span class="bright">this</span></span><span class="bright"></span><span class="p"><span class="bright">.</span></span><span class="bright"></span><span class="nx"><span class="bright">prevHeight</span></span><span class="p">);</span>
</td></tr><tr><th id="C12543OL453">453</th><td class="old old-full">            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">preview</span><span class="p">)</span> <span class="k">this</span><span class="p">.</span><span class="nx">updateToolbar</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</td><th></th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span></td></tr><tr><th id="C12543OL454">454</th><td class="">
</td><th id="C12543NL643">643</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL455">455</th><td class="">            <span class="c1">// save query state to appearence</span>
</td><th id="C12543NL644">644</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="c1">// save query state to appearence</span>
</td></tr><tr><th id="C12543OL456">456</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">appr</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'treemap/areaColumn'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">queryState</span><span class="p">.</span><span class="nx">areaColumn</span><span class="p">);</span>
</td><th id="C12543NL645">645</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">appr</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'treemap/areaColumn'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">queryState</span><span class="p">.</span><span class="nx">areaColumn</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL457">457</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">appr</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'treemap/areaFunction'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">queryState</span><span class="p">.</span><span class="nx">areaFunction</span><span class="p">);</span>
</td><th id="C12543NL646">646</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">appr</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'treemap/areaFunction'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">queryState</span><span class="p">.</span><span class="nx">areaFunction</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL458">458</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">appr</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'treemap/statColumn'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">queryState</span><span class="p">.</span><span class="nx">statColumn</span><span class="p">);</span>
</td><th id="C12543NL647">647</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">appr</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'treemap/statColumn'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">queryState</span><span class="p">.</span><span class="nx">statColumn</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL459">459</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">appr</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'treemap/statFunction'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">queryState</span><span class="p">.</span><span class="nx">statFunction</span><span class="p">);</span>
</td><th id="C12543NL648">648</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">appr</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'treemap/statFunction'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">queryState</span><span class="p">.</span><span class="nx">statFunction</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL460">460</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">appr</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'treemap/iterativeView'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">queryState</span><span class="p">.</span><span class="nx">iterativeView</span><span class="p">);</span>
</td><th id="C12543NL649">649</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">appr</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="s1">'treemap/iterativeView'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">queryState</span><span class="p">.</span><span class="nx">iterativeView</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL461">461</th><td class="">
</td><th id="C12543NL650">650</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL462">462</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">access</span><span class="p">.</span><span class="nx">saveAppearance</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">appr</span><span class="p">);</span>
</td><th id="C12543NL651">651</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">access</span><span class="p">.</span><span class="nx">saveAppearance</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">appr</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL463">463</th><td class="">
</td><th id="C12543NL652">652</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL464">464</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>
</td><th id="C12543NL653">653</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>
</td></tr><tr><th id="C12543OL465">465</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">setAreaMinMax</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">areaMinValue</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">areaMaxValue</span><span class="p">);</span>
</td><th id="C12543NL654">654</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">setAreaMinMax</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">areaMinValue</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">areaMaxValue</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL466">466</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">setAreaRangeValues</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">areaFilterMinValue</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">areaFilterMaxValue</span><span class="p">);</span>
</td><th id="C12543NL655">655</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">setAreaRangeValues</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">areaFilterMinValue</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">areaFilterMaxValue</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL467">467</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">setStatMinMax</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">statMinValue</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">statMaxValue</span><span class="p">);</span>
</td><th id="C12543NL656">656</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">setStatMinMax</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">statMinValue</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">statMaxValue</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL468">468</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">setStatRangeValues</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">statFilterMinValue</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">statFilterMaxValue</span><span class="p">);</span>
</td><th id="C12543NL657">657</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">setStatRangeValues</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">statFilterMinValue</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">statFilterMaxValue</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL469">469</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">setStatFunction</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">statFunction</span><span class="p">);</span>
</td><th id="C12543NL658">658</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">setStatFunction</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">statFunction</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL470">470</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">setHierarchy</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">hierarchyColumns</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">hierarchyColumns</span><span class="p">);</span>
</td><th id="C12543NL659">659</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">setHierarchy</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">hierarchyColumns</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">hierarchyColumns</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL471">471</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">setLayoutType</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">LayoutTypeFromNumber</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">layoutType</span><span class="p">),</span> <span class="nx">data</span><span class="p">.</span><span class="nx">layoutOrder</span><span class="p">);</span>
</td><th id="C12543NL660">660</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">setLayoutType</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">LayoutTypeFromNumber</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">layoutType</span><span class="p">),</span> <span class="nx">data</span><span class="p">.</span><span class="nx">layoutOrder</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL472">472</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">setData</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
</td><th id="C12543NL661">661</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">setData</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
</td></tr><tr><th id="C12543OL473">473</th><td class="old old-full">            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">layout</span><span class="p">();</span>
</td><th></th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span></td></tr><tr><th id="C12543OL474">474</th><td class="">            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
</td><th id="C12543NL662">662</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">this</span><span class="p">.</span><span class="nx">view</span><span class="p">.</span><span class="nx">render</span><span class="p">();</span>
</td></tr><tr><th id="C12543OL475">475</th><td class="">        <span class="p">}</span>
</td><th id="C12543NL663">663</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="p">}</span>
</td></tr><tr><th id="C12543OL476">476</th><td class="">
</td><th id="C12543NL664">664</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th id="C12543OL477">477</th><td class="">        <span class="kr">private</span> <span class="nx">mergeQueryState</span><span class="p">(</span><span class="nx">params</span>: <span class="kt">any</span><span class="p">)</span><span class="o">:</span> <span class="nx">any</span> <span class="p">{</span>
</td><th id="C12543NL665">665</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>        <span class="kr">private</span> <span class="nx">mergeQueryState</span><span class="p">(</span><span class="nx">params</span>: <span class="kt">any</span><span class="p">)</span><span class="o">:</span> <span class="nx">any</span> <span class="p">{</span>
</td></tr><tr><th id="C12543OL478">478</th><td class="">            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">params</span><span class="p">)</span> <span class="p">{</span>
</td><th id="C12543NL666">666</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">name</span> <span class="k">in</span> <span class="nx">params</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th id="C12543OL479">479</th><td class="">                <span class="k">if</span> <span class="p">(</span><span class="nx">params</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">name</span><span class="p">))</span>
</td><th id="C12543NL667">667</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>                <span class="k">if</span> <span class="p">(</span><span class="nx">params</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">name</span><span class="p">))</span>
</td></tr><tr><th id="C12543OL480">480</th><td class="">                    <span class="k">this</span><span class="p">.</span><span class="nx">queryState</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">params</span><span class="p">[</span><span class="nx">name</span><span class="p">];</span>
</td><th id="C12543NL668">668</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>                    <span class="k">this</span><span class="p">.</span><span class="nx">queryState</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="nx">params</span><span class="p">[</span><span class="nx">name</span><span class="p">];</span>
</td></tr><tr><th id="C12543OL481">481</th><td class="">            <span class="p">}</span>
</td><th id="C12543NL669">669</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span>            <span class="p">}</span>
</td></tr><tr data-sigil="context-target"><td colspan="2" class="show-more"><a href="https://phabricator.megaputer.ru/D782#" data-mustcapture="1" data-sigil="show-more" data-meta="6_9">▲ Show 20 Lines</a> • <a href="https://phabricator.megaputer.ru/D782#" data-mustcapture="1" data-sigil="show-more" data-meta="6_10">Show All 174 Lines</a> • <a href="https://phabricator.megaputer.ru/D782#" data-mustcapture="1" data-sigil="show-more" data-meta="6_11">Show Last 20 Lines</a></td><th class="show-context-line"></th><td colspan="3" class="show-context"></td></tr></tbody></table></div></div><div class="differential-changeset repository-crossreference" id="diff-4be4e593" data-sigil="differential-changeset" data-meta="0_132" data-autoid="autoid_17"><legend class="phabricator-anchor-navigation-marker" data-sigil="marker" data-meta="0_131"></legend><a name="4be4e593" id="4be4e593" class="phabricator-anchor-view"></a><div class="differential-changeset-buttons"><a class="button grey dropdown" href="https://phabricator.megaputer.ru/D782#" target="_blank" data-meta="0_130" data-sigil="differential-view-options">View Options<span class="caret"></span></a></div><h1 class="differential-file-icon-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o" aria-hidden="true"></span>trunk/WebUI/widgets/css/dropdownmenu.css</h1><div class="changeset-view-content" data-sigil="changeset-view-content"><ul class="differential-meta-notice"><li>This file was added.</li></ul><table class="differential-diff remarkup-code PhabricatorMonospaced diff-2up" data-sigil="differential-diff"><colgroup><col class="num"><col class="left"><col class="num"><col class="copy"><col class="right"><col class="cov"></colgroup><tbody><tr><th></th><td class=""></td><th id="C12544NL1">1</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="nc">.dropdown-menu</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL2">2</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">top</span><span class="o">:</span> <span class="m">100</span><span class="o">%</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL3">3</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">right</span><span class="o">:</span> <span class="m">100</span><span class="o">%</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL4">4</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">display</span><span class="o">:</span> <span class="k">inline</span><span class="o">-</span><span class="k">block</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL5">5</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">position</span><span class="o">:</span> <span class="k">absolute</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL6">6</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">z-index</span><span class="o">:</span> <span class="m">1000</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL7">7</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">float</span><span class="o">:</span> <span class="k">left</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL8">8</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">min-width</span><span class="o">:</span> <span class="m">100px</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL9">9</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">padding</span><span class="o">:</span> <span class="m">2px</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL10">10</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">margin</span><span class="o">:</span> <span class="m">2px</span> <span class="m">0</span> <span class="m">0</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL11">11</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">font-size</span><span class="o">:</span> <span class="m">14px</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL12">12</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">text-align</span><span class="o">:</span> <span class="k">left</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL13">13</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">list-style</span><span class="o">:</span> <span class="k">outside</span> <span class="k">none</span> <span class="k">none</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL14">14</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">background-color</span><span class="o">:</span> <span class="m">#ffffff</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL15">15</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">border</span><span class="o">:</span> <span class="m">1px</span> <span class="k">solid</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">.</span><span class="m">4</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL16">16</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">2px</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL17">17</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="n">box</span><span class="o">-</span><span class="n">shadow</span><span class="o">:</span> <span class="m">0</span> <span class="m">6px</span> <span class="m">12px</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">,</span> <span class="m">0</span><span class="o">.</span><span class="m">2</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL18">18</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">cursor</span><span class="o">:</span> <span class="k">default</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL19">19</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL20">20</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL21">21</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="nc">.dropdown-menu</span> <span class="o">&gt;</span> <span class="nt">li</span> <span class="o">&gt;</span> <span class="nt">a</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL22">22</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">display</span><span class="o">:</span> <span class="k">block</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL23">23</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">padding</span><span class="o">:</span> <span class="m">3px</span> <span class="m">5px</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL24">24</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">clear</span><span class="o">:</span> <span class="k">both</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL25">25</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">line-height</span><span class="o">:</span> <span class="m">1</span><span class="o">.</span><span class="m">42857</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL26">26</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">color</span><span class="o">:</span> <span class="m">#333</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL27">27</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">white-space</span><span class="o">:</span> <span class="k">nowrap</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL28">28</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL29">29</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL30">30</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="nc">.dropdown-menu</span> <span class="o">&gt;</span> <span class="nt">li</span><span class="nd">:hover</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL31">31</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="k">background-color</span><span class="o">:</span> <span class="m">#cccccc</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL32">32</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12544NL33">33</th><td class="copy comment"></td><td class="comment" colspan="2"><span class="zwsp">​</span>No newline at end of file
</td></tr></tbody></table></div></div><div class="differential-changeset repository-crossreference" id="diff-0fe847e8" data-sigil="differential-changeset" data-meta="0_135" data-autoid="autoid_18"><legend class="phabricator-anchor-navigation-marker" data-sigil="marker" data-meta="0_134"></legend><a name="0fe847e8" id="0fe847e8" class="phabricator-anchor-view"></a><div class="differential-changeset-buttons"><a class="button grey dropdown" href="https://phabricator.megaputer.ru/D782#" target="_blank" data-meta="0_133" data-sigil="differential-view-options">View Options<span class="caret"></span></a></div><h1 class="differential-file-icon-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o" aria-hidden="true"></span>trunk/WebUI/widgets/src/dropdownmenu.ts</h1><div class="changeset-view-content" data-sigil="changeset-view-content"><ul class="differential-meta-notice"><li>This file was added.</li></ul><table class="differential-diff remarkup-code PhabricatorMonospaced diff-2up" data-sigil="differential-diff"><colgroup><col class="num"><col class="left"><col class="num"><col class="copy"><col class="right"><col class="cov"></colgroup><tbody><tr><th></th><td class=""></td><th id="C12545NL1">1</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="kr">module</span> <span class="nx">paWidgets</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL2">2</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>  <span class="cm">/**</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL3">3</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="cm">   *  Drop-down menu</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL4">4</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="cm">   *</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL5">5</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="cm">   *  Use addItem or addItemEx methods for populating menu</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL6">6</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="cm">   *  By default menu has left-bottom align relative to target element,</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL7">7</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="cm">   *  you can change default menu aligment by changing bottom/top/right/left style</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL8">8</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="cm">   */</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL9">9</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL10">10</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>  <span class="kr">export</span> <span class="kr">class</span> <span class="nx">DropDownMenu</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL11">11</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="kr">public</span> <span class="nx">onSelectMenu</span><span class="o">:</span> <span class="p">(</span><span class="nx">index</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">itemData</span>: <span class="kt">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL12">12</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL13">13</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="kr">private</span> <span class="nx">menuSelector</span>: <span class="kt">D3.Selection</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL14">14</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL15">15</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="kr">constructor</span><span class="p">(</span><span class="nx">target</span>: <span class="kt">HTMLElement</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL16">16</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>      <span class="k">this</span><span class="p">.</span><span class="nx">menuSelector</span> <span class="o">=</span> <span class="nx">d3</span><span class="p">.</span><span class="nx">select</span><span class="p">(</span><span class="nx">target</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s1">'ul'</span><span class="p">).</span><span class="nx">classed</span><span class="p">(</span><span class="s1">'dropdown-menu'</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL17">17</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>      <span class="k">this</span><span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL18">18</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL19">19</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL20">20</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="nx">addItem</span><span class="p">(</span><span class="nx">title</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">itemData?</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL21">21</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>      <span class="k">this</span><span class="p">.</span><span class="nx">createItemElement</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span> <span class="nx">itemData</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL22">22</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL23">23</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL24">24</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="nx">addItemEx</span><span class="p">(</span><span class="nx">title</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">callback</span><span class="o">?:</span> <span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL25">25</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>      <span class="k">this</span><span class="p">.</span><span class="nx">createItemElement</span><span class="p">(</span><span class="nx">title</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">,</span> <span class="nx">callback</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL26">26</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL27">27</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL28">28</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="nx">clear() {</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL29">29</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>      <span class="k">this</span><span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL30">30</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>      <span class="k">this</span><span class="p">.</span><span class="nx">menuSelector</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s1">'li'</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL31">31</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL32">32</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL33">33</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="nx">show</span><span class="p">(</span><span class="nx">show</span>: <span class="kt">boolean</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL34">34</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>      <span class="k">this</span><span class="p">.</span><span class="nx">menuSelector</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s1">'display'</span><span class="p">,</span> <span class="nx">show</span> <span class="o">?</span> <span class="s1">'inline-block'</span> <span class="o">:</span> <span class="s1">'none'</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL35">35</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL36">36</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL37">37</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="nx">isShown</span><span class="p">()</span><span class="o">:</span> <span class="kr">boolean</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL38">38</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>      <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">menuSelector</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s1">'display'</span><span class="p">)</span> <span class="o">!==</span> <span class="s1">'none'</span><span class="p">;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL39">39</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL40">40</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL41">41</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="kr">private</span> <span class="nx">invokeOnSelectMenu</span><span class="p">(</span><span class="nx">index</span>: <span class="kt">number</span><span class="p">,</span> <span class="nx">itemData</span>: <span class="kt">any</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL42">42</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>      <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">onSelectMenu</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL43">43</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="k">this</span><span class="p">.</span><span class="nx">onSelectMenu</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="nx">itemData</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL44">44</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>      <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL45">45</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL46">46</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL47">47</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="kr">private</span> <span class="nx">createItemElement</span><span class="p">(</span><span class="nx">title</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">itemData?</span>: <span class="kt">any</span><span class="p">,</span> <span class="nx">callback</span><span class="o">?:</span> <span class="p">(</span><span class="nx">index</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL48">48</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>      <span class="kd">var</span> <span class="nx">liSelector</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">menuSelector</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'li'</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL49">49</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>      <span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">menuSelector</span><span class="p">.</span><span class="nx">selectAll</span><span class="p">(</span><span class="s1">'li'</span><span class="p">).</span><span class="nx">size</span><span class="p">();</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL50">50</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL51">51</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>      <span class="nx">liSelector</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s1">'a'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">title</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL52">52</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>      <span class="nx">liSelector</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'click'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL53">53</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="k">if</span> <span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL54">54</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>          <span class="nx">callback</span><span class="p">(</span><span class="nx">index</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL55">55</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL56">56</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL57">57</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="k">this</span><span class="p">.</span><span class="nx">invokeOnSelectMenu</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="nx">itemData</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL58">58</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="k">this</span><span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL59">59</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL60">60</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>        <span class="p">(</span><span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span><span class="nx">d3</span><span class="p">.</span><span class="nx">event</span><span class="p">).</span><span class="nx">stopPropagation</span><span class="p">();</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL61">61</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>      <span class="p">});</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL62">62</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>    <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL63">63</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span>  <span class="p">}</span>
</td></tr><tr><th></th><td class=""></td><th id="C12545NL64">64</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="p">}</span>
</td></tr></tbody></table></div></div><div class="differential-changeset repository-crossreference" id="diff-07851cdb" data-sigil="differential-changeset" data-meta="0_138" data-autoid="autoid_19"><legend class="phabricator-anchor-navigation-marker" data-sigil="marker" data-meta="0_137"></legend><a name="07851cdb" id="07851cdb" class="phabricator-anchor-view"></a><div class="differential-changeset-buttons"><a class="button grey dropdown" href="https://phabricator.megaputer.ru/D782#" target="_blank" data-meta="0_136" data-sigil="differential-view-options">View Options<span class="caret"></span></a></div><h1 class="differential-file-icon-header"><span class="visual-only phui-icon-view phui-font-fa fa-file-code-o" aria-hidden="true"></span>trunk/WebUI/widgets/src/genReferences.ts</h1><div class="changeset-view-content" data-sigil="changeset-view-content"><table class="differential-diff remarkup-code PhabricatorMonospaced diff-2up" data-sigil="differential-diff"><colgroup><col class="num"><col class="left"><col class="num"><col class="copy"><col class="right"><col class="cov"></colgroup><tbody><tr><th id="C12546OL1">1</th><td class=""><span class="c1">//grunt-start</span>
</td><th id="C12546NL1">1</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="c1">//grunt-start</span>
</td></tr><tr><th id="C12546OL2">2</th><td class=""><span class="c1">/// &lt;reference path="ColorPicker.ts" /&gt;</span>
</td><th id="C12546NL2">2</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="c1">/// &lt;reference path="ColorPicker.ts" /&gt;</span>
</td></tr><tr><th id="C12546OL3">3</th><td class=""><span class="c1">/// &lt;reference path="GradientColorSlider.ts" /&gt;</span>
</td><th id="C12546NL3">3</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="c1">/// &lt;reference path="GradientColorSlider.ts" /&gt;</span>
</td></tr><tr><th id="C12546OL4">4</th><td class=""><span class="c1">/// &lt;reference path="autocomplete.ts" /&gt;</span>
</td><th id="C12546NL4">4</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="c1">/// &lt;reference path="autocomplete.ts" /&gt;</span>
</td></tr><tr><th id="C12546OL5">5</th><td class=""><span class="c1">/// &lt;reference path="common.ts" /&gt;</span>
</td><th id="C12546NL5">5</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="c1">/// &lt;reference path="common.ts" /&gt;</span>
</td></tr><tr><th></th><td class=""></td><th id="C12546NL6">6</th><td class="copy new new-full"></td><td class="new new-full" colspan="2"><span class="zwsp">​</span><span class="c1">/// &lt;reference path="dropdownmenu.ts" /&gt;</span>
</td></tr><tr><th id="C12546OL6">6</th><td class=""><span class="c1">/// &lt;reference path="panel.ts" /&gt;</span>
</td><th id="C12546NL7">7</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="c1">/// &lt;reference path="panel.ts" /&gt;</span>
</td></tr><tr><th id="C12546OL7">7</th><td class=""><span class="c1">/// &lt;reference path="rangeslider.ts" /&gt;</span>
</td><th id="C12546NL8">8</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="c1">/// &lt;reference path="rangeslider.ts" /&gt;</span>
</td></tr><tr><th id="C12546OL8">8</th><td class=""><span class="c1">/// &lt;reference path="reactcontrols.ts" /&gt;</span>
</td><th id="C12546NL9">9</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="c1">/// &lt;reference path="reactcontrols.ts" /&gt;</span>
</td></tr><tr><th id="C12546OL9">9</th><td class=""><span class="c1">/// &lt;reference path="references.ts" /&gt;</span>
</td><th id="C12546NL10">10</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="c1">/// &lt;reference path="references.ts" /&gt;</span>
</td></tr><tr><th id="C12546OL10">10</th><td class=""><span class="c1">/// &lt;reference path="scrollbar.ts" /&gt;</span>
</td><th id="C12546NL11">11</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="c1">/// &lt;reference path="scrollbar.ts" /&gt;</span>
</td></tr><tr><th id="C12546OL11">11</th><td class=""><span class="c1">/// &lt;reference path="sizers/boxsizer.ts" /&gt;</span>
</td><th id="C12546NL12">12</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="c1">/// &lt;reference path="sizers/boxsizer.ts" /&gt;</span>
</td></tr><tr><th id="C12546OL12">12</th><td class=""><span class="c1">/// &lt;reference path="sizers/gridsizer.ts" /&gt;</span>
</td><th id="C12546NL13">13</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="c1">/// &lt;reference path="sizers/gridsizer.ts" /&gt;</span>
</td></tr><tr><th id="C12546OL13">13</th><td class=""><span class="c1">/// &lt;reference path="sizers/layout.ts" /&gt;</span>
</td><th id="C12546NL14">14</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="c1">/// &lt;reference path="sizers/layout.ts" /&gt;</span>
</td></tr><tr><th id="C12546OL14">14</th><td class=""><span class="c1">/// &lt;reference path="sizers/sizer.ts" /&gt;</span>
</td><th id="C12546NL15">15</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="c1">/// &lt;reference path="sizers/sizer.ts" /&gt;</span>
</td></tr><tr><th id="C12546OL15">15</th><td class=""><span class="c1">/// &lt;reference path="sliderWidget.ts" /&gt;</span>
</td><th id="C12546NL16">16</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="c1">/// &lt;reference path="sliderWidget.ts" /&gt;</span>
</td></tr><tr><th id="C12546OL16">16</th><td class=""><span class="c1">/// &lt;reference path="svg/scrollbar.ts" /&gt;</span>
</td><th id="C12546NL17">17</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="c1">/// &lt;reference path="svg/scrollbar.ts" /&gt;</span>
</td></tr><tr><th id="C12546OL17">17</th><td class=""><span class="c1">/// &lt;reference path="toolbar.ts" /&gt;</span>
</td><th id="C12546NL18">18</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="c1">/// &lt;reference path="toolbar.ts" /&gt;</span>
</td></tr><tr><th id="C12546OL18">18</th><td class=""><span class="c1">//grunt-end</span>
</td><th id="C12546NL19">19</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="c1">//grunt-end</span>
</td></tr><tr><th id="C12546OL19">19</th><td class=""><span class="nx">No</span> <span class="nx">newline</span> <span class="nx">at</span> <span class="nx">end</span> <span class="nx">of</span> <span class="nx">file</span>
</td><th id="C12546NL20">20</th><td class="copy"></td><td class="" colspan="2"><span class="zwsp">​</span><span class="nx">No</span> <span class="nx">newline</span> <span class="nx">at</span> <span class="nx">end</span> <span class="nx">of</span> <span class="nx">file</span>
</td></tr></tbody></table></div></div></div></div><div class="differential-add-comment-panel"><div class="phui-box phui-box-border mlt mll mlr phui-object-box"><div class="phui-header-shell "><h1 class="phui-header-view"><div class="phui-header-row"><div class="phui-header-col2"><span class="phui-header-header">Leap Into Action</span></div><div class="phui-header-col3"></div></div></h1></div><legend class="phabricator-anchor-navigation-marker" data-sigil="marker" data-meta="0_93"></legend><a name="comment" id="comment" class="phabricator-anchor-view"></a><form action="https://phabricator.megaputer.ru/differential/comment/save/782/" method="POST" data-sigil="workflow"><input type="hidden" name="__csrf__" value="B@rcc2uyn29d5426da345f851d"><input type="hidden" name="__form__" value="1"><div class="phui-form-view"><input type="hidden" name="revision_id" value="782"><div class="aphront-form-control grouped aphront-form-control-select"><label class="aphront-form-label" for="comment-action">Action</label><div class="aphront-form-input"><select name="action" id="comment-action" data-autoid="autoid_11"><option value="none">Comment</option><option value="reject">Request Changes ✘</option><option value="resign">Resign as Reviewer</option><option value="claim">Commandeer Revision</option><option value="add_reviewers">Add Reviewers</option><option value="add_ccs">Add Subscribers</option></select></div></div><div class="aphront-form-control grouped aphront-form-control-tokenizer" id="add-reviewers" style="display: none"><label class="aphront-form-label" for="add-reviewers-tokenizer">Add Reviewers</label><div class="aphront-form-input"><div class="jx-tokenizer-frame" data-sigil="tokenizer-frame" data-autoid="autoid_3"><div id="add-reviewers-tokenizer" class="jx-tokenizer-container" data-sigil="tokenizer-container" data-meta="1_0" data-autoid="autoid_5"><div id="" class=" jx-tokenizer" style="cursor: text;"><input class="jx-tokenizer-input jx-typeahead-placeholder" type="text" autocomplete="off" data-autoid="autoid_4" style="width: 193px;"><div style="clear: both;"></div></div></div><a class="button grey has-icon tokenizer-browse-button" data-sigil="tokenizer-browse"><span class="visual-only phui-icon-view phui-font-fa fa-search" aria-hidden="true"></span><div class="phui-button-text"></div></a></div></div></div><div class="aphront-form-control grouped aphront-form-control-tokenizer" id="add-ccs" style="display: none"><label class="aphront-form-label" for="add-ccs-tokenizer">Add Subscribers</label><div class="aphront-form-input"><div class="jx-tokenizer-frame" data-sigil="tokenizer-frame" data-autoid="autoid_8"><div id="add-ccs-tokenizer" class="jx-tokenizer-container" data-sigil="tokenizer-container" data-meta="1_1" data-autoid="autoid_10"><div id="" class=" jx-tokenizer" style="cursor: text;"><input class="jx-tokenizer-input jx-typeahead-placeholder" type="text" autocomplete="off" data-autoid="autoid_9" style="width: 264px;"><div style="clear: both;"></div></div></div><a class="button grey has-icon tokenizer-browse-button" data-sigil="tokenizer-browse"><span class="visual-only phui-icon-view phui-font-fa fa-search" aria-hidden="true"></span><div class="phui-button-text"></div></a></div></div></div><div class="aphront-form-control grouped aphront-form-control-textarea"><label class="aphront-form-label" for="comment-content">Comment</label><div class="aphront-form-input"><div data-sigil="remarkup-assist-control"><div class="remarkup-assist-bar"><a class="remarkup-assist-button" href="https://phabricator.megaputer.ru/D782#" tabindex="-1" data-sigil="remarkup-assist has-tooltip" data-meta="0_94" data-mustcapture="1"><div class="remarkup-assist phui-icon-view phui-font-fa bluegrey fa-bold"><span class="aural-only">Bold</span></div></a><a class="remarkup-assist-button" href="https://phabricator.megaputer.ru/D782#" tabindex="-1" data-sigil="remarkup-assist has-tooltip" data-meta="0_95" data-mustcapture="1"><div class="remarkup-assist phui-icon-view phui-font-fa bluegrey fa-italic"><span class="aural-only">Italics</span></div></a><a class="remarkup-assist-button" href="https://phabricator.megaputer.ru/D782#" tabindex="-1" data-sigil="remarkup-assist has-tooltip" data-meta="0_96" data-mustcapture="1"><div class="remarkup-assist phui-icon-view phui-font-fa bluegrey fa-text-width"><span class="aural-only">Monospaced</span></div></a><a class="remarkup-assist-button" href="https://phabricator.megaputer.ru/D782#" tabindex="-1" data-sigil="remarkup-assist has-tooltip" data-meta="0_97" data-mustcapture="1"><div class="remarkup-assist phui-icon-view phui-font-fa bluegrey fa-link"><span class="aural-only">Link</span></div></a><span class="remarkup-assist-separator"></span><a class="remarkup-assist-button" href="https://phabricator.megaputer.ru/D782#" tabindex="-1" data-sigil="remarkup-assist has-tooltip" data-meta="0_98" data-mustcapture="1"><div class="remarkup-assist phui-icon-view phui-font-fa bluegrey fa-list-ul"><span class="aural-only">Bulleted List</span></div></a><a class="remarkup-assist-button" href="https://phabricator.megaputer.ru/D782#" tabindex="-1" data-sigil="remarkup-assist has-tooltip" data-meta="0_99" data-mustcapture="1"><div class="remarkup-assist phui-icon-view phui-font-fa bluegrey fa-list-ol"><span class="aural-only">Numbered List</span></div></a><a class="remarkup-assist-button" href="https://phabricator.megaputer.ru/D782#" tabindex="-1" data-sigil="remarkup-assist has-tooltip" data-meta="0_100" data-mustcapture="1"><div class="remarkup-assist phui-icon-view phui-font-fa bluegrey fa-code"><span class="aural-only">Code Block</span></div></a><a class="remarkup-assist-button" href="https://phabricator.megaputer.ru/D782#" tabindex="-1" data-sigil="remarkup-assist has-tooltip" data-meta="0_101" data-mustcapture="1"><div class="remarkup-assist phui-icon-view phui-font-fa bluegrey fa-quote-right"><span class="aural-only">Quote</span></div></a><a class="remarkup-assist-button" href="https://phabricator.megaputer.ru/D782#" tabindex="-1" data-sigil="remarkup-assist has-tooltip" data-meta="0_102" data-mustcapture="1"><div class="remarkup-assist phui-icon-view phui-font-fa bluegrey fa-table"><span class="aural-only">Table</span></div></a><a class="remarkup-assist-button" href="https://phabricator.megaputer.ru/D782#" tabindex="-1" data-sigil="remarkup-assist has-tooltip" data-meta="0_103" data-mustcapture="1"><div class="remarkup-assist phui-icon-view phui-font-fa bluegrey fa-cloud-upload"><span class="aural-only">Upload File</span></div></a><span class="remarkup-assist-separator"></span><a class="remarkup-assist-button" href="https://phabricator.megaputer.ru/D782#" tabindex="-1" data-sigil="remarkup-assist has-tooltip" data-meta="0_104" data-mustcapture="1"><div class="remarkup-assist phui-icon-view phui-font-fa bluegrey fa-meh-o"><span class="aural-only">Meme</span></div></a><a class="remarkup-assist-right remarkup-assist-button" href="https://secure.phabricator.com/diviner/find/?name=Remarkup+Reference&type=article&jump=1" target="_blank" tabindex="-1" data-sigil="remarkup-assist has-tooltip" data-meta="0_105" rel="noreferrer"><div class="remarkup-assist phui-icon-view phui-font-fa bluegrey fa-life-bouy"><span class="aural-only">Help</span></div></a><span class="remarkup-assist-right remarkup-assist-separator"></span><a class="remarkup-assist-right remarkup-assist-button" href="https://phabricator.megaputer.ru/D782#" tabindex="-1" data-sigil="remarkup-assist has-tooltip" data-meta="0_106" data-mustcapture="1"><div class="remarkup-assist phui-icon-view phui-font-fa bluegrey fa-arrows-alt"><span class="aural-only">Fullscreen Mode</span></div></a></div><textarea name="comment" class="remarkup-assist-textarea" id="comment-content" data-autoid="autoid_12"></textarea></div></div></div><div class="aphront-form-control grouped aphront-form-control-submit aphront-form-control-nolabel"><div class="aphront-form-input"><button type="submit" name="__submit__">Submit</button></div></div></div></form></div><div class="aphront-panel-preview aphront-panel-flush"><div id="comment-preview" style="display: none;"><span class="aphront-panel-preview-loading-text">Loading comment preview...</span></div><div id="inline-comment-preview"></div></div></div></div></div></div></div></div><div id="conpherence-durable-column" class="conpherence-durable-column loading " style="display: none;" data-sigil="conpherence-durable-column"><div class="loading-mask"></div><div class="conpherence-durable-column-header phabricator-main-menu-background sprite-main-header"><div class="conpherence-durable-column-header"><div class="conpherence-durable-column-header-text" data-sigil="conpherence-durable-column-header-text"></div></div></div><div class="conpherence-durable-column-body" data-sigil="conpherence-durable-column-body"><div class="conpherence-durable-column-icon-bar"><div class="conpherence-durable-column-search-button"><span class="phui-button-bar "><a class="button grey has-icon " href="https://phabricator.megaputer.ru/conpherence/search/"><span class="visual-only phui-icon-view phui-font-fa fa-search" aria-hidden="true"></span><div class="phui-button-text"></div></a></span></div></div><div class="conpherence-durable-column-main jx-scrollbar-frame" data-sigil="conpherence-durable-column-main" data-autoid="autoid_27"><div class="jx-scrollbar-bar" data-autoid="autoid_29" style="display: none;"><div class="jx-scrollbar-handle" data-autoid="autoid_28"></div></div><div class="jx-scrollbar-viewport" data-autoid="autoid_30" style="width: 17px; height: 0px;"><div class="jx-scrollbar-content"><div id="conpherence-durable-column-content" class="conpherence-durable-column-frame"><div class="conpherence-durable-column-transactions" data-sigil="conpherence-durable-column-transactions">Loading...</div></div></div></div></div><div class="conpherence-durable-column-footer"><div class="conpherence-durable-column-status"></div></div></div></div></div><script type="text/javascript" src="./D782_files/differential.pkg.js"></script><script type="text/javascript" src="./D782_files/core.pkg.js"></script><script type="text/javascript" src="./D782_files/behavior-file-tree.js"></script><script type="text/javascript" src="./D782_files/behavior-phui-object-box-tabs.js"></script><script type="text/javascript">JX.Stratcom.mergeData(0, [{"phid":"PHID-FILE-ln3ggxwmr3mjmm4nwt26","uri":"https:\/\/phabricator.megaputer.ru\/file\/data\/d6e5c6l6rpcrlepgkjek\/PHID-FILE-ln3ggxwmr3mjmm4nwt26\/2015-08-12_15-08-06_%D0%A1%D0%BA%D1%80%D0%B8%D0%BD%D1%88%D0%BE%D1%82_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0.png","dUri":"https:\/\/phabricator.megaputer.ru\/file\/data\/d6e5c6l6rpcrlepgkjek\/PHID-FILE-ln3ggxwmr3mjmm4nwt26\/2015-08-12_15-08-06_%D0%A1%D0%BA%D1%80%D0%B8%D0%BD%D1%88%D0%BE%D1%82_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0.png?download=1","viewable":true},{"phid":"PHID-FILE-vhypaqickkfm3h3bprqw","uri":"https:\/\/phabricator.megaputer.ru\/file\/data\/goujd6whoq5qthgg3ayc\/PHID-FILE-vhypaqickkfm3h3bprqw\/2015-08-12_15-07-49_%D0%A1%D0%BA%D1%80%D0%B8%D0%BD%D1%88%D0%BE%D1%82_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0.png","dUri":"https:\/\/phabricator.megaputer.ru\/file\/data\/goujd6whoq5qthgg3ayc\/PHID-FILE-vhypaqickkfm3h3bprqw\/2015-08-12_15-07-49_%D0%A1%D0%BA%D1%80%D0%B8%D0%BD%D1%88%D0%BE%D1%82_%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0.png?download=1","viewable":true},{"phid":"PHID-XACT-DREV-zoalnp2urovmupa"},{"phid":"PHID-XACT-DREV-hbimah3wu3yeqex"},{"phid":"PHID-XACT-DREV-jzczzmpsy5mfkoo"},{"phid":"PHID-XACT-DREV-2z4wbnqqtb5coen"},{"phid":"PHID-XACT-DREV-pnpq3appqpqnt5l"},{"phid":"PHID-XACT-DREV-edt7fwuoch6tvdp"},{"phid":"PHID-XACT-DREV-r4upbtxhg5vfkyq"},{"phid":"PHID-XACT-DREV-4mhbezybca53p6b"},{"phid":"PHID-XACT-DREV-rl6mgaas6f62jrz"},{"phid":"PHID-XACT-DREV-o7bajtosqykrodu"},{"phid":"PHID-XACT-DREV-arouqqt3rqxgfnb"},{"phid":"PHID-XACT-DREV-3kcokbbpxzcporo"},{"phid":"PHID-XACT-DREV-xutystzvtrq4dmy"},{"phid":"PHID-XACT-DREV-ng5k54tiao2xpo7"},{"phid":"PHID-XACT-DREV-nvjmvqk43woxnsi"},{"phid":"PHID-XACT-DREV-fooxvjtajcyfl34"},{"phid":"PHID-XACT-DREV-kfeyqiwgo3kav57"},{"phid":"PHID-XACT-DREV-ch7d4jln3vapphs"},{"phid":"PHID-XACT-DREV-7j754wx3wawtioc"},{"phid":"PHID-XACT-DREV-igdnpzjitte36em"},{"phid":"PHID-XACT-DREV-wa5xmdd47cuif4y"},{"phid":"PHID-XACT-DREV-tz3zbjtqj2odh4p"},{"phid":"PHID-XACT-DREV-x2uczlufglrp74w"},{"phid":"PHID-XACT-DREV-rsljsqnbctsn4og"},{"phid":"PHID-XACT-DREV-p54gjzwnhfb6n2d"},{"phid":"PHID-XACT-DREV-tx5wxwbz5leyrel"},{"phid":"PHID-XACT-DREV-7bxhdiua4y45qlh"},{"phid":"PHID-XACT-DREV-cywkyxalnkbvwkj"},{"phid":"PHID-XACT-DREV-wgc2aohqfvl7uot","anchor":"15425"},{"targetID":"comment-content","uri":"\/transactions\/quote\/PHID-XACT-DREV-zoalnp2urovmupa\/","ref":"D782#15430"},{"anchor":"15430"},{"items":"\u003cul class=\"phabricator-action-list-view\"\u003e\u003cli class=\"phabricator-action-view\"\u003e\u003ca href=\"#\" class=\"phabricator-action-view-item\" data-sigil=\"transaction-quote\" data-meta=\"0_31\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\" aria-hidden=\"true\"\u003e\u003c\/span\u003eQuote\u003c\/a\u003e\u003c\/li\u003e\u003cli class=\"phabricator-action-view\"\u003e\u003ca href=\"\/transactions\/raw\/PHID-XACT-DREV-zoalnp2urovmupa\/\" class=\"phabricator-action-view-item\" data-sigil=\"transaction-raw\" data-meta=\"0_32\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-cutlery phabricator-action-view-icon\" aria-hidden=\"true\"\u003e\u003c\/span\u003eView Raw\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e"},{"phid":"PHID-XACT-DREV-zoalnp2urovmupa","anchor":"15430"},{"items":""},{"phid":"PHID-XACT-DREV-hbimah3wu3yeqex","anchor":"15431"},{"targetID":"comment-content","uri":"\/transactions\/quote\/PHID-XACT-DREV-jzczzmpsy5mfkoo\/","ref":"D782#15432"},{"anchor":"15432"},{"items":"\u003cul class=\"phabricator-action-list-view\"\u003e\u003cli class=\"phabricator-action-view\"\u003e\u003ca href=\"#\" class=\"phabricator-action-view-item\" data-sigil=\"transaction-quote\" data-meta=\"0_37\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\" aria-hidden=\"true\"\u003e\u003c\/span\u003eQuote\u003c\/a\u003e\u003c\/li\u003e\u003cli class=\"phabricator-action-view\"\u003e\u003ca href=\"\/transactions\/raw\/PHID-XACT-DREV-jzczzmpsy5mfkoo\/\" class=\"phabricator-action-view-item\" data-sigil=\"transaction-raw\" data-meta=\"0_38\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-cutlery phabricator-action-view-icon\" aria-hidden=\"true\"\u003e\u003c\/span\u003eView Raw\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e"},{"phid":"PHID-XACT-DREV-jzczzmpsy5mfkoo","anchor":"15432"},{"items":""},{"phid":"PHID-XACT-DREV-pnpq3appqpqnt5l","anchor":"15437"},{"items":""},{"phid":"PHID-XACT-DREV-edt7fwuoch6tvdp","anchor":"15438"},{"targetID":"comment-content","uri":"\/transactions\/quote\/PHID-XACT-DREV-r4upbtxhg5vfkyq\/","ref":"D782#15440"},{"anchor":"15440"},{"items":"\u003cul class=\"phabricator-action-list-view\"\u003e\u003cli class=\"phabricator-action-view\"\u003e\u003ca href=\"#\" class=\"phabricator-action-view-item\" data-sigil=\"transaction-quote\" data-meta=\"0_45\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\" aria-hidden=\"true\"\u003e\u003c\/span\u003eQuote\u003c\/a\u003e\u003c\/li\u003e\u003cli class=\"phabricator-action-view\"\u003e\u003ca href=\"\/transactions\/raw\/PHID-XACT-DREV-r4upbtxhg5vfkyq\/\" class=\"phabricator-action-view-item\" data-sigil=\"transaction-raw\" data-meta=\"0_46\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-cutlery phabricator-action-view-icon\" aria-hidden=\"true\"\u003e\u003c\/span\u003eView Raw\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e"},{"phid":"PHID-XACT-DREV-zrhghs6k3koxyzz","anchor":"15440"},{"items":""},{"phid":"PHID-XACT-DREV-4mhbezybca53p6b","anchor":"15442"},{"targetID":"comment-content","uri":"\/transactions\/quote\/PHID-XACT-DREV-rl6mgaas6f62jrz\/","ref":"D782#15445"},{"anchor":"15445"},{"items":"\u003cul class=\"phabricator-action-list-view\"\u003e\u003cli class=\"phabricator-action-view\"\u003e\u003ca href=\"#\" class=\"phabricator-action-view-item\" data-sigil=\"transaction-quote\" data-meta=\"0_51\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\" aria-hidden=\"true\"\u003e\u003c\/span\u003eQuote\u003c\/a\u003e\u003c\/li\u003e\u003cli class=\"phabricator-action-view\"\u003e\u003ca href=\"\/transactions\/raw\/PHID-XACT-DREV-rl6mgaas6f62jrz\/\" class=\"phabricator-action-view-item\" data-sigil=\"transaction-raw\" data-meta=\"0_52\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-cutlery phabricator-action-view-icon\" aria-hidden=\"true\"\u003e\u003c\/span\u003eView Raw\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e"},{"phid":"PHID-XACT-DREV-uqcq6blyponliqa","anchor":"15445"},{"items":""},{"phid":"PHID-XACT-DREV-o7bajtosqykrodu","anchor":"15447"},{"items":""},{"phid":"PHID-XACT-DREV-arouqqt3rqxgfnb","anchor":"15448"},{"items":""},{"phid":"PHID-XACT-DREV-kfeyqiwgo3kav57","anchor":"15449"},{"items":""},{"phid":"PHID-XACT-DREV-ch7d4jln3vapphs","anchor":"15455"},{"items":""},{"phid":"PHID-XACT-DREV-7j754wx3wawtioc","anchor":"15456"},{"targetID":"comment-content","uri":"\/transactions\/quote\/PHID-XACT-DREV-igdnpzjitte36em\/","ref":"D782#15462"},{"anchor":"15462"},{"items":"\u003cul class=\"phabricator-action-list-view\"\u003e\u003cli class=\"phabricator-action-view\"\u003e\u003ca href=\"#\" class=\"phabricator-action-view-item\" data-sigil=\"transaction-quote\" data-meta=\"0_65\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\" aria-hidden=\"true\"\u003e\u003c\/span\u003eQuote\u003c\/a\u003e\u003c\/li\u003e\u003cli class=\"phabricator-action-view\"\u003e\u003ca href=\"\/transactions\/raw\/PHID-XACT-DREV-igdnpzjitte36em\/\" class=\"phabricator-action-view-item\" data-sigil=\"transaction-raw\" data-meta=\"0_66\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-cutlery phabricator-action-view-icon\" aria-hidden=\"true\"\u003e\u003c\/span\u003eView Raw\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e"},{"phid":"PHID-XACT-DREV-minvvxso275cyrh","anchor":"15462"},{"targetID":"comment-content","uri":"\/transactions\/quote\/PHID-XACT-DREV-wa5xmdd47cuif4y\/","ref":"D782#15467"},{"anchor":"15467"},{"items":"\u003cul class=\"phabricator-action-list-view\"\u003e\u003cli class=\"phabricator-action-view\"\u003e\u003ca href=\"#\" class=\"phabricator-action-view-item\" data-sigil=\"transaction-quote\" data-meta=\"0_69\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\" aria-hidden=\"true\"\u003e\u003c\/span\u003eQuote\u003c\/a\u003e\u003c\/li\u003e\u003cli class=\"phabricator-action-view\"\u003e\u003ca href=\"\/transactions\/raw\/PHID-XACT-DREV-wa5xmdd47cuif4y\/\" class=\"phabricator-action-view-item\" data-sigil=\"transaction-raw\" data-meta=\"0_70\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-cutlery phabricator-action-view-icon\" aria-hidden=\"true\"\u003e\u003c\/span\u003eView Raw\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e"},{"phid":"PHID-XACT-DREV-poasori6tzhiche","anchor":"15467"},{"items":""},{"phid":"PHID-XACT-DREV-tz3zbjtqj2odh4p","anchor":"15473"},{"items":""},{"phid":"PHID-XACT-DREV-x2uczlufglrp74w","anchor":"15474"},{"items":""},{"phid":"PHID-XACT-DREV-rsljsqnbctsn4og","anchor":"15478"},{"items":""},{"phid":"PHID-XACT-DREV-p54gjzwnhfb6n2d","anchor":"15485"},{"phid":"PHID-XACT-DREV-xdroenzi54jabyd","anchor":"15488"},{"phid":"PHID-XACT-DREV-xesmaebdxclfnqm","anchor":"15490"},{"targetID":"comment-content","uri":"\/transactions\/quote\/PHID-XACT-DREV-tx5wxwbz5leyrel\/","ref":"D782#15492"},{"anchor":"15492"},{"items":"\u003cul class=\"phabricator-action-list-view\"\u003e\u003cli class=\"phabricator-action-view\"\u003e\u003ca href=\"#\" class=\"phabricator-action-view-item\" data-sigil=\"transaction-quote\" data-meta=\"0_83\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\" aria-hidden=\"true\"\u003e\u003c\/span\u003eQuote\u003c\/a\u003e\u003c\/li\u003e\u003cli class=\"phabricator-action-view\"\u003e\u003ca href=\"\/transactions\/raw\/PHID-XACT-DREV-tx5wxwbz5leyrel\/\" class=\"phabricator-action-view-item\" data-sigil=\"transaction-raw\" data-meta=\"0_84\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-cutlery phabricator-action-view-icon\" aria-hidden=\"true\"\u003e\u003c\/span\u003eView Raw\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e"},{"phid":"PHID-XACT-DREV-qmapzh3melyil3h","anchor":"15492"},{"items":""},{"phid":"PHID-XACT-DREV-5vrojer5oqcdtdu","anchor":"15504"},{"targetID":"comment-content","uri":"\/transactions\/quote\/PHID-XACT-DREV-cywkyxalnkbvwkj\/","ref":"D782#15507"},{"anchor":"15507"},{"items":"\u003cul class=\"phabricator-action-list-view\"\u003e\u003cli class=\"phabricator-action-view\"\u003e\u003ca href=\"#\" class=\"phabricator-action-view-item\" data-sigil=\"transaction-quote\" data-meta=\"0_89\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-quote-left phabricator-action-view-icon\" aria-hidden=\"true\"\u003e\u003c\/span\u003eQuote\u003c\/a\u003e\u003c\/li\u003e\u003cli class=\"phabricator-action-view\"\u003e\u003ca href=\"\/transactions\/raw\/PHID-XACT-DREV-cywkyxalnkbvwkj\/\" class=\"phabricator-action-view-item\" data-sigil=\"transaction-raw\" data-meta=\"0_90\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-cutlery phabricator-action-view-icon\" aria-hidden=\"true\"\u003e\u003c\/span\u003eView Raw\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e"},{"phid":"PHID-XACT-DREV-cywkyxalnkbvwkj","anchor":"15507"},{"anchor":"comment"},{"action":"fa-bold","tip":"Bold"},{"action":"fa-italic","tip":"Italics"},{"action":"fa-text-width","tip":"Monospaced"},{"action":"fa-link","tip":"Link"},{"action":"fa-list-ul","tip":"Bulleted List"},{"action":"fa-list-ol","tip":"Numbered List"},{"action":"fa-code","tip":"Code Block"},{"action":"fa-quote-right","tip":"Quote"},{"action":"fa-table","tip":"Table"},{"action":"fa-cloud-upload","tip":"Upload File"},{"action":"fa-meh-o","tip":"Meme"},{"tip":"Help"},{"action":"fa-arrows-alt","tip":"Fullscreen Mode"},{"map":{"UQ0_0":"phabricator-action-list-toggle","UQ0_10":"phuix-dropdown-open"}},{"tip":"Review Requested","size":240},{"tip":"Accepted","size":240},{"tip":"Accepted","size":240},{"tabMap":{"tab.default.00000000702acb6d000000000f8278da":"UQ0_11"}},{"tabKey":"tab.default.00000000702acb6d000000000f8278da"},{"more":"WTM:S1:E1:R2:18091 added floating toolbar mode\u003cbr \/\u003e\n\u003cbr \/\u003e\nSummary:\u003cbr \/\u003e\n1. \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0442\u0446\u0435\u043f\u043b\u044f\u0442\u044c \u0442\u0443\u043b\u0431\u0430\u0440 \u043e\u0442 \u0442\u0440\u0438\u043c\u0430\u043f\u0430.\u003cbr \/\u003e\n2. \u0422\u0443\u043b\u0431\u0430\u0440, \u0435\u0441\u043b\u0438 \u043e\u043d \u043d\u0435 \u0432\u043b\u0435\u0437\u0430\u0435\u0442 \u0432 \u0442\u0440\u0438\u043c\u0430\u043f, \u043f\u0440\u044f\u0447\u0435\u0442\u0441\u044f.\u003cbr \/\u003e\n\u003cbr \/\u003e\nReviewers: abykov, kozlov, efremov\u003cbr \/\u003e\n\u003cbr \/\u003e\nSubscribers: akuzmin, aalexeyev\u003cbr \/\u003e\n\u003cbr \/\u003e\nDifferential Revision: https:\/\/phabricator.megaputer.ru\/D782"},{"id":"diff-f849bdae"},{"id":"diff-5b70ca53"},{"id":"diff-9113bd63"},{"id":"diff-4be4e593"},{"id":"diff-0fe847e8"},{"id":"diff-07851cdb"},{"anchor":"toc"},{"standaloneURI":"\/differential\/changeset\/?ref=12541&whitespace=ignore-most","diffusionURI":"\/diffusion\/PA\/browse\/master\/trunk\/WebUI\/gwt\/src\/polyanalyst\/client\/component\/TreeMap.java$48","leftURI":"\/differential\/changeset\/?view=old&ref=12541&whitespace=ignore-most","rightURI":"\/differential\/changeset\/?view=new&ref=12541&whitespace=ignore-most","editorConfigure":"\/settings\/panel\/display\/","containerID":"diff-f849bdae"},{"anchor":"f849bdae"},{"left":"12541","right":"12541","renderURI":"\/differential\/changeset\/","whitespace":"ignore-most","highlight":null,"renderer":null,"ref":"12541","autoload":true,"loaded":null,"undoTemplates":{"l":"\u003ctable\u003e\u003ctr class=\"inline\" data-sigil=\"inline-row\"\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd class=\"left\"\u003e\u003cdiv class=\"differential-inline-undo\"\u003eChanges discarded. \u003ca href=\"#\" data-sigil=\"differential-inline-comment-undo\"\u003eUndo\u003c\/a\u003e\u003c\/div\u003e\u003c\/td\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd colspan=\"3\" class=\"right3\"\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e","r":"\u003ctable\u003e\u003ctr class=\"inline\" data-sigil=\"inline-row\"\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd class=\"left\"\u003e\u003c\/td\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd colspan=\"3\" class=\"right3\"\u003e\u003cdiv class=\"differential-inline-undo\"\u003eChanges discarded. \u003ca href=\"#\" data-sigil=\"differential-inline-comment-undo\"\u003eUndo\u003c\/a\u003e\u003c\/div\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e"}},{"standaloneURI":"\/differential\/changeset\/?ref=12542&whitespace=ignore-most","diffusionURI":"\/diffusion\/PA\/browse\/master\/trunk\/WebUI\/paCharts\/css\/treemap.css$156","leftURI":"\/differential\/changeset\/?view=old&ref=12542&whitespace=ignore-most","rightURI":"\/differential\/changeset\/?view=new&ref=12542&whitespace=ignore-most","editorConfigure":"\/settings\/panel\/display\/","containerID":"diff-5b70ca53"},{"anchor":"5b70ca53"},{"left":"12542","right":"12542","renderURI":"\/differential\/changeset\/","whitespace":"ignore-most","highlight":null,"renderer":null,"ref":"12542","autoload":true,"loaded":null,"undoTemplates":{"l":"\u003ctable\u003e\u003ctr class=\"inline\" data-sigil=\"inline-row\"\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd class=\"left\"\u003e\u003cdiv class=\"differential-inline-undo\"\u003eChanges discarded. \u003ca href=\"#\" data-sigil=\"differential-inline-comment-undo\"\u003eUndo\u003c\/a\u003e\u003c\/div\u003e\u003c\/td\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd colspan=\"3\" class=\"right3\"\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e","r":"\u003ctable\u003e\u003ctr class=\"inline\" data-sigil=\"inline-row\"\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd class=\"left\"\u003e\u003c\/td\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd colspan=\"3\" class=\"right3\"\u003e\u003cdiv class=\"differential-inline-undo\"\u003eChanges discarded. \u003ca href=\"#\" data-sigil=\"differential-inline-comment-undo\"\u003eUndo\u003c\/a\u003e\u003c\/div\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e"}},{"standaloneURI":"\/differential\/changeset\/?ref=12543&whitespace=ignore-most","diffusionURI":"\/diffusion\/PA\/browse\/master\/trunk\/WebUI\/paCharts\/src\/treemap\/treemap.ts$2","leftURI":"\/differential\/changeset\/?view=old&ref=12543&whitespace=ignore-most","rightURI":"\/differential\/changeset\/?view=new&ref=12543&whitespace=ignore-most","editorConfigure":"\/settings\/panel\/display\/","containerID":"diff-9113bd63"},{"anchor":"9113bd63"},{"left":"12543","right":"12543","renderURI":"\/differential\/changeset\/","whitespace":"ignore-most","highlight":null,"renderer":null,"ref":"12543","autoload":true,"loaded":null,"undoTemplates":{"l":"\u003ctable\u003e\u003ctr class=\"inline\" data-sigil=\"inline-row\"\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd class=\"left\"\u003e\u003cdiv class=\"differential-inline-undo\"\u003eChanges discarded. \u003ca href=\"#\" data-sigil=\"differential-inline-comment-undo\"\u003eUndo\u003c\/a\u003e\u003c\/div\u003e\u003c\/td\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd colspan=\"3\" class=\"right3\"\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e","r":"\u003ctable\u003e\u003ctr class=\"inline\" data-sigil=\"inline-row\"\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd class=\"left\"\u003e\u003c\/td\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd colspan=\"3\" class=\"right3\"\u003e\u003cdiv class=\"differential-inline-undo\"\u003eChanges discarded. \u003ca href=\"#\" data-sigil=\"differential-inline-comment-undo\"\u003eUndo\u003c\/a\u003e\u003c\/div\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e"}},{"standaloneURI":"\/differential\/changeset\/?ref=12544&whitespace=ignore-most","diffusionURI":"\/diffusion\/PA\/browse\/master\/trunk\/WebUI\/widgets\/css\/dropdownmenu.css$1","rightURI":"\/differential\/changeset\/?view=new&ref=12544&whitespace=ignore-most","editorConfigure":"\/settings\/panel\/display\/","containerID":"diff-4be4e593"},{"anchor":"4be4e593"},{"left":"12544","right":"12544","renderURI":"\/differential\/changeset\/","whitespace":"ignore-most","highlight":null,"renderer":null,"ref":"12544","autoload":true,"loaded":null,"undoTemplates":{"l":"\u003ctable\u003e\u003ctr class=\"inline\" data-sigil=\"inline-row\"\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd class=\"left\"\u003e\u003cdiv class=\"differential-inline-undo\"\u003eChanges discarded. \u003ca href=\"#\" data-sigil=\"differential-inline-comment-undo\"\u003eUndo\u003c\/a\u003e\u003c\/div\u003e\u003c\/td\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd colspan=\"3\" class=\"right3\"\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e","r":"\u003ctable\u003e\u003ctr class=\"inline\" data-sigil=\"inline-row\"\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd class=\"left\"\u003e\u003c\/td\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd colspan=\"3\" class=\"right3\"\u003e\u003cdiv class=\"differential-inline-undo\"\u003eChanges discarded. \u003ca href=\"#\" data-sigil=\"differential-inline-comment-undo\"\u003eUndo\u003c\/a\u003e\u003c\/div\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e"}},{"standaloneURI":"\/differential\/changeset\/?ref=12545&whitespace=ignore-most","diffusionURI":"\/diffusion\/PA\/browse\/master\/trunk\/WebUI\/widgets\/src\/dropdownmenu.ts$1","rightURI":"\/differential\/changeset\/?view=new&ref=12545&whitespace=ignore-most","editorConfigure":"\/settings\/panel\/display\/","containerID":"diff-0fe847e8"},{"anchor":"0fe847e8"},{"left":"12545","right":"12545","renderURI":"\/differential\/changeset\/","whitespace":"ignore-most","highlight":null,"renderer":null,"ref":"12545","autoload":true,"loaded":null,"undoTemplates":{"l":"\u003ctable\u003e\u003ctr class=\"inline\" data-sigil=\"inline-row\"\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd class=\"left\"\u003e\u003cdiv class=\"differential-inline-undo\"\u003eChanges discarded. \u003ca href=\"#\" data-sigil=\"differential-inline-comment-undo\"\u003eUndo\u003c\/a\u003e\u003c\/div\u003e\u003c\/td\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd colspan=\"3\" class=\"right3\"\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e","r":"\u003ctable\u003e\u003ctr class=\"inline\" data-sigil=\"inline-row\"\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd class=\"left\"\u003e\u003c\/td\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd colspan=\"3\" class=\"right3\"\u003e\u003cdiv class=\"differential-inline-undo\"\u003eChanges discarded. \u003ca href=\"#\" data-sigil=\"differential-inline-comment-undo\"\u003eUndo\u003c\/a\u003e\u003c\/div\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e"}},{"standaloneURI":"\/differential\/changeset\/?ref=12546&whitespace=ignore-most","diffusionURI":"\/diffusion\/PA\/browse\/master\/trunk\/WebUI\/widgets\/src\/genReferences.ts$6","leftURI":"\/differential\/changeset\/?view=old&ref=12546&whitespace=ignore-most","rightURI":"\/differential\/changeset\/?view=new&ref=12546&whitespace=ignore-most","editorConfigure":"\/settings\/panel\/display\/","containerID":"diff-07851cdb"},{"anchor":"07851cdb"},{"left":"12546","right":"12546","renderURI":"\/differential\/changeset\/","whitespace":"ignore-most","highlight":null,"renderer":null,"ref":"12546","autoload":true,"loaded":null,"undoTemplates":{"l":"\u003ctable\u003e\u003ctr class=\"inline\" data-sigil=\"inline-row\"\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd class=\"left\"\u003e\u003cdiv class=\"differential-inline-undo\"\u003eChanges discarded. \u003ca href=\"#\" data-sigil=\"differential-inline-comment-undo\"\u003eUndo\u003c\/a\u003e\u003c\/div\u003e\u003c\/td\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd colspan=\"3\" class=\"right3\"\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e","r":"\u003ctable\u003e\u003ctr class=\"inline\" data-sigil=\"inline-row\"\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd class=\"left\"\u003e\u003c\/td\u003e\u003cth\u003e\u003c\/th\u003e\u003ctd colspan=\"3\" class=\"right3\"\u003e\u003cdiv class=\"differential-inline-undo\"\u003eChanges discarded. \u003ca href=\"#\" data-sigil=\"differential-inline-comment-undo\"\u003eUndo\u003c\/a\u003e\u003c\/div\u003e\u003c\/td\u003e\u003c\/tr\u003e\u003c\/table\u003e"}},{"tip":"Show Hidden Comments","align":"E","size":275},{"map":{"UQ0_18":"phabricator-application-menu-expanded","UQ0_25":"menu-icon-selected"}},{"map":{"UQ0_18":"phabricator-search-menu-expanded","UQ0_26":"menu-icon-selected"}},{"items":[{"name":"Search"},{"icon":"fa-globe","name":"Search All Documents","value":"all"},{"icon":"fa-cog","name":"Search Current Application","value":"application"},{"name":"Saved Queries"},{"icon":"fa-certificate","name":"Open Documents","value":"open"},{"icon":"fa-certificate","name":"Open Tasks","value":"open-tasks"},{"name":"More Options"},{"icon":"fa-search-plus","name":"Advanced Search","href":"\/search\/query\/advanced\/"},{"icon":"fa-book","name":"User Guide: Search","href":"https:\/\/secure.phabricator.com\/diviner\/find\/?name=Search+User+Guide&type=article&jump=1"}],"icon":"fa-globe","value":"all"}]);
JX.onload(function(){JX.initBehaviors({"refresh-csrf":[{"tokenName":"__csrf__","header":"X-Phabricator-Csrf","current":"B@rcc2uyn29d5426da345f851d"}],"history-install":[]})});
JX.onload(function(){JX.initBehaviors({"phabricator-transaction-list":[],"phabricator-show-older-transactions":[{"timelineID":"UQ0_2","renderData":{"left":"2160","right":"2160","old":"12541,12542,12543,12544,12545,12546","new":"12541,12542,12543,12544,12545,12546"}}],"phabricator-watch-anchor":[],"phui-dropdown-menu":[],"differential-add-reviewers-and-ccs":[{"dynamic":{"add-reviewers-tokenizer":{"actions":{"request_review":1,"add_reviewers":1,"resign":1},"src":"\/typeahead\/class\/PhabricatorProjectOrUserDatasource\/","value":[],"row":"add-reviewers","labels":{"add_reviewers":"Add Reviewers","request_review":"Add Reviewers","resign":"Suggest Reviewers"},"placeholder":"Type a user or project name..."},"add-ccs-tokenizer":{"actions":{"add_ccs":1},"src":"\/typeahead\/class\/PhabricatorMetaMTAMailableDatasource\/","value":[],"row":"add-ccs","placeholder":"Type a user, project, or mailing list name..."}},"select":"comment-action"}],"differential-feedback-preview":[{"uri":"\/differential\/comment\/preview\/782\/","preview":"comment-preview","action":"comment-action","content":"comment-content","previewTokenizers":{"reviewers":"add-reviewers-tokenizer","ccs":"add-ccs-tokenizer"},"inlineuri":"\/differential\/comment\/inline\/preview\/782\/","inline":"inline-comment-preview"}],"aphront-drag-and-drop-textarea":[{"target":"comment-content","activatedClass":"aphront-textarea-drag-and-drop","uri":"\/file\/dropupload\/","chunkThreshold":4194304}],"phabricator-remarkup-assist":[{"pht":{"bold text":"bold text","italic text":"italic text","monospaced text":"monospaced text","List Item":"List Item","Quoted Text":"Quoted Text","data":"data","name":"name","URL":"URL"}}],"phabricator-tooltips":[],"differential-keyboard-navigation":[{"haunt":"UQ0_4"}],"differential-user-select":[],"phabricator-file-tree":[],"phabricator-nav":[{"mainID":"UQ0_6","localID":"UQ0_8","dragID":"UQ0_7","contentID":"UQ0_5","backgroundID":"UQ0_9","collapsed":false}],"phabricator-active-nav":[{"localID":"UQ0_8"}],"phui-object-box-tabs":[],"differential-diff-radios":[{"radios":["UQ0_12","UQ0_13","UQ0_14","UQ0_15","UQ0_16","UQ0_17"]}],"aphront-more":[],"differential-toggle-files":[{"pht":{"undo":"Undo","collapsed":"This file content has been collapsed."}}],"differential-dropdown-menus":[{"pht":{"Open in Editor":"Open in Editor","Show Entire File":"Show Entire File","Entire File Shown":"Entire File Shown","Can't Toggle Unloaded File":"Can't Toggle Unloaded File","Expand File":"Expand File","Collapse File":"Collapse File","Browse in Diffusion":"Browse in Diffusion","View Standalone":"View Standalone","Show Raw File (Left)":"Show Raw File (Left)","Show Raw File (Right)":"Show Raw File (Right)","Configure Editor":"Configure Editor","Load Changes":"Load Changes","View Side-by-Side":"View Side-by-Side","View Unified":"View Unified","Change Text Encoding...":"Change Text Encoding...","Highlight As...":"Highlight As..."}}],"phabricator-oncopy":[],"repository-crossreference":[{"container":"diff-f849bdae","lang":"java","repositories":["PHID-REPO-6h56yjtk7qwsluutz445"]},{"container":"diff-5b70ca53","lang":"css","repositories":["PHID-REPO-6h56yjtk7qwsluutz445"]},{"container":"diff-9113bd63","lang":"ts","repositories":["PHID-REPO-6h56yjtk7qwsluutz445"]},{"container":"diff-4be4e593","lang":"css","repositories":["PHID-REPO-6h56yjtk7qwsluutz445"]},{"container":"diff-0fe847e8","lang":"ts","repositories":["PHID-REPO-6h56yjtk7qwsluutz445"]},{"container":"diff-07851cdb","lang":"ts","repositories":["PHID-REPO-6h56yjtk7qwsluutz445"]}],"differential-populate":[{"changesetViewIDs":["diff-f849bdae","diff-5b70ca53","diff-9113bd63","diff-4be4e593","diff-0fe847e8","diff-07851cdb"]}],"differential-comment-jump":[],"differential-edit-inline-comments":[{"uri":"\/differential\/comment\/inline\/edit\/782\/","stage":"differential-review-stage","revealIcon":"\u003ca href=\"#\" class=\"reveal-inlines\" data-sigil=\"reveal-inlines\" data-mustcapture=\"1\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-comment\" data-meta=\"0_139\" data-sigil=\"has-tooltip\" aria-hidden=\"true\"\u003e\u003c\/span\u003e\u003c\/a\u003e"}],"workflow":[],"lightbox-attachments":[{"defaultImageUri":"https:\/\/phabricator.megaputer.ru\/res\/phabricator\/45fe1c60\/rsrc\/image\/icon\/fatcow\/document_black.png","downloadForm":"\u003cform action=\"#\" method=\"POST\" class=\"lightbox-download-form\" data-sigil=\"download\"\u003e\u003cinput type=\"hidden\" name=\"__csrf__\" value=\"B@rcc2uyn29d5426da345f851d\" \/\u003e\u003cinput type=\"hidden\" name=\"__form__\" value=\"1\" \/\u003e\u003cbutton\u003eDownload\u003c\/button\u003e\u003c\/form\u003e"}],"aphront-form-disable-on-submit":[],"toggle-class":[],"phabricator-gesture":[],"device":[],"high-security-warning":[{"show":false,"uri":"\/auth\/session\/downgrade\/","message":"Your session is in high security mode. When you finish using it, click here to leave."}],"aphlict-dropdown":[{"bubbleID":"UQ0_19","countID":"UQ0_20","dropdownID":"UQ0_21","loadingText":"Loading...","uri":"\/conpherence\/panel\/","countType":"messages","countNumber":0,"unreadClass":"message-unread"},{"bubbleID":"UQ0_24","countID":"UQ0_22","dropdownID":"UQ0_23","loadingText":"Loading...","uri":"\/notification\/panel\/","countType":"notifications","countNumber":"0","unreadClass":"alert-unread"},{"bubbleID":"UQ0_28","dropdownID":"phabricator-quick-create-menu","local":true,"desktop":true,"right":true},{"bubbleID":"UQ0_29","dropdownID":"phabricator-help-menu","applicationClass":"PhabricatorHelpApplication","local":true,"desktop":true,"right":true}],"phabricator-keyboard-shortcuts":[{"helpURI":"\/help\/keyboardshortcut\/","searchID":"UQ0_27"}],"phabricator-search-typeahead":[{"id":"UQ0_30","input":"UQ0_27","button":"UQ0_31","selectorID":"UQ0_32","applicationID":"UQ0_33","defaultApplicationIcon":"fa-dot-circle-o","appScope":"application","src":"\/typeahead\/class\/PhabricatorSearchDatasource\/","limit":10,"placeholder":"Search","scopeUpdateURI":"\/settings\/adjust\/?key=search-scope"}],"quicksand-blacklist":[{"patterns":["\/phame\/live\/.*","\/conpherence\/.*","\/Z\\d+"]}],"durable-column":[{"visible":false,"settingsURI":"\/settings\/adjust\/?key=conpherence-column","quicksandConfig":{"title":"\u2699 D782 WTM:S1:E1:R2:18091 added floating toolbar mode","aphlictDropdownData":[{"isInstalled":true,"countType":"notifications","count":"0","rawCount":"0"},{"isInstalled":true,"countType":"messages","count":0,"rawCount":0}],"globalDragAndDrop":false,"aphlictDropdowns":{"PhabricatorHelpApplication":"\u003cdiv id=\"phabricator-help-menu\" class=\"phabricator-main-menu-dropdown phui-list-sidenav\" style=\"display: none\"\u003e\u003cul class=\"phui-list-view \"\u003e\u003cli class=\"phui-list-item-view phui-list-item-type-label \"\u003e\u003cdiv\u003e\u003cspan class=\"phui-list-item-name\"\u003eDifferential Documentation\u003c\/span\u003e\u003c\/div\u003e\u003c\/li\u003e\u003cli class=\"phui-list-item-view phui-list-item-type-link phui-list-item-has-icon \"\u003e\u003ca href=\"https:\/\/secure.phabricator.com\/diviner\/find\/?name=Differential+User+Guide&amp;type=article&amp;jump=1\" class=\"phui-list-item-href\" rel=\"noreferrer\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-book phui-list-item-icon\" aria-hidden=\"true\"\u003e\u003c\/span\u003e\u003cspan class=\"phui-list-item-name\"\u003eDifferential User Guide\u003c\/span\u003e\u003c\/a\u003e\u003c\/li\u003e\u003cli class=\"phui-list-item-view phui-list-item-type-label \"\u003e\u003cdiv\u003e\u003cspan class=\"phui-list-item-name\"\u003eEmail Help\u003c\/span\u003e\u003c\/div\u003e\u003c\/li\u003e\u003cli class=\"phui-list-item-view phui-list-item-type-link phui-list-item-has-icon \"\u003e\u003ca href=\"\/applications\/mailcommands\/PhabricatorDifferentialApplication\/revision\/\" class=\"phui-list-item-href\"\u003e\u003cspan class=\"visual-only phui-icon-view phui-font-fa fa-envelope-o phui-list-item-icon\" aria-hidden=\"true\"\u003e\u003c\/span\u003e\u003cspan class=\"phui-list-item-name\"\u003eEmail Commands: Revisions\u003c\/span\u003e\u003c\/a\u003e\u003c\/li\u003e\u003c\/ul\u003e\u003c\/div\u003e"},"hisecWarningConfig":{"show":false,"uri":"\/auth\/session\/downgrade\/","message":"Your session is in high security mode. When you finish using it, click here to leave."},"consoleConfig":null,"applicationClass":"PhabricatorDifferentialApplication","applicationSearchIcon":"fa-cog","pageObjects":{"PHID-DREV-caljgcv5wago7jgz5d34":true},"subscriptions":["PHID-DREV-caljgcv5wago7jgz5d34","PHID-USER-7nvqm5ky4temfrdtvxy2"]}}]})});</script></body></html>